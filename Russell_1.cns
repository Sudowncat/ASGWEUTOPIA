;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■■ドラノールorベルンカステル、ダメージタッチ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界～メタ宣言
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

[Statedef 1100]
;type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
;anim = 1100
ctrl = 0
sprpriority = 2


[State -3,AI用ダメージタッチ制御タイマーセット]
Type=varset
trigger1 = time = 0
v =32
Value=ifelse((var(31)>=3),0,ifelse((var(31)=2),900,1500))


[State 1100];地上
type = changeanim
trigger1 = time = 0
trigger1 = Pos y = 0
Value = 1100

[State 1100];空中
type = changeanim
trigger1 = time = 0
trigger1 = Pos y != 0
Value = 1101

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[state 3];属性変更
type = StatetypeSet
trigger1 = AnimElemTime(35) >= 1
trigger1 = Pos y != 0
statetype = A
physics = A

[State 2097];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 8900, 揺らす]
type = EnvShake
trigger1 = time = 0
time = 25
freq = 100
ampl = -4

[State 200, 1];パートナーSPゲージ減少
type = Varadd
trigger1 = time = 0
v = 58
value = -300
ignorehitpause=1

[State 2016, 2]
type = PlaySnd
trigger1 = time = 4
value = s12, 4
valume =255


[State 2016, 2];ゲロカスがー
type = PlaySnd
trigger1 = animelemtime(6) = 1
value = s20, 190
valume =255
channel = 0

[State 200, 1]
type = null;HitDef
triggerall = enemy,TeamMode = single || enemy,TeamMode = turns
trigger1 = time = 0
attr = A, HA
damage = 0, 0
animtype = back
guardflag = M
hitflag = MAFD
priority = 6, Hit
pausetime = 0, 11
sparkno = -1
hitsound = s12, 42
guardsound = s12, 43
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6,-10
air.type = High
air.velocity = -6,-10
guard.sparkno = -1
yaccel = 0.48
fall.yvelocity = -4.5
fall = 1
fall.recover = 0
ID = 1200
p2facing = 1
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
;triggerall = enemy,TeamMode = simul
trigger1 = 1;time = 0
attr = A, HA
damage = 0, 0
animtype = back
guardflag = H
hitflag = MAFD
priority = 6, Hit
pausetime = 0, 11+ifelse((var(45)=1),1,0)
sparkno = -1
hitsound = s12, 42
guardsound = s12, 43
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6,-10
air.type = High
air.velocity = -6,-10
guard.sparkno = -1
yaccel = 0.48
fall.yvelocity = -4.5
fall = 1
fall.recover = 0
ID = 1200
p2facing = 1
hitonce = 1
p2stateno = 1201
ground.cornerpush.veloff = 0
persistent=0


[State 1980];ヒットエフェクト
type = Explod
trigger1 = movehit
anim = 6123
postype = p2
pos = 0, -60
ownpal = 1
scale = 0.8,0.8
sprpriority = 20
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

[State 1980, ];壁バウンドエフェクト
type = Explod
triggerall = numtarget
trigger1 = target,stateno = 1204
anim = 6161
postype = p2
pos = -20, -60
ownpal = 1
scale = 0.5,0.5
sprpriority = -3
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

[State 2016, 2];壁にぶつかった音
type = PlaySnd
triggerall = numtarget
trigger1 = target,stateno = 1204
value = s12, 44
ignorehitpause=1
persistent=0

[State 810]
type = TargetState
triggerall = movehit
triggerall = !MoveGuarded
triggerall = numtarget
triggerall = target,stateno != [1201,1204]
triggerall = target,movetype = H
trigger1 = enemy,TeamMode = single
trigger2 = enemy,TeamMode = turns
value = 1201
ID = 1200
ignorehitpause=1

[State 810]
type = TargetDrop
triggerall = numtarget
trigger1 = target,stateno = 1204

[State 50];ダメージタッチエフェクト
type = Explod
trigger1 = time = 4
anim = 6159
postype = p1
pos = -8,-70
ownpal = 1
scale = 1,1
sprpriority = 100

[State 50];ダメージタッチエフェクト後ろ
type = Explod
trigger1 = time = 17
anim = 6160
ID = 6160
postype = p1
pos = -8,-81
ownpal = 1
scale = 1,1
sprpriority = -6

[State -2];ダメージタッチエフェクト後ろ縮小
type = modifyexplod
trigger1 = time = [17,18]
ID = 6160
scale = 0.55,0.55

[State -2];ダメージタッチエフェクト後ろ縮小
type = modifyexplod
trigger1 = time = [19,20]
ID = 6160
scale = 0.75,0.75

[State -2];ダメージタッチエフェクト後ろ縮小
type = modifyexplod
trigger1 = time >= 21
ID = 6160
scale = 1,1

[State -2]
type = Varset
trigger1 = time = 0
trigger2 = time = 15
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [11,14]
v = 0
value = 30

[State -2]
type = Varadd
trigger1 = time = 53
v = 0
value = 130

[State -3];背景色
type = AllPalFX
trigger1 = time = [10,14]
time = 1
add = 150-var(0),180-var(0),200-var(0)
mul = 150,180,200
invertall = 0

[State 0];背景色
type = BGPalFX
trigger1 = time = [15,51]
time = 1
mul = 155,155,155
invertall = 0

[State -3];背景色
type = AllPalFX
trigger1 = time = [52,53]
time = 1
add = 150-var(0),150-var(0),200-var(0)
mul = 150,150,200
invertall = 0

[State -2];タッチゲージ値セット
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 1981];タッチゲージ増加制御～ダメージタッチ
type = varset
trigger1 = time = 0
fv = 3
value = 3

[State 1936];地上なら通常たちへ移行
type = ChangeState
trigger1 = animtime = 0
trigger1 = Pos Y =0
value = 0
ctrl = 1

[State 1936];空中なら行動可能
type = ctrlset
trigger1 = animelemtime(37) >= 1
trigger1 = Pos Y !=0
value = 1
;---------------------------------------------------------------------------
;壁吹っ飛び～2P固まり
[Statedef 1201]
type = A
movetype = H
physics = N
ctrl = 0

[State 1841, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 1984,9]
type = Changeanim2
trigger1 = time = 0
value = 362

[State 1936, 重力]
type = VelAdd
trigger1 = 1
y = 0

[State 1898, スピード]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1898,]
type = changeState
trigger1 = time = 12
value = 1202
ctrl = 0

;---------------------------------------------------------------------------
;壁吹っ飛び～2P吹っ飛び
[Statedef 1202]
type = A
movetype = H
physics = N
ctrl = 0

[State 1841, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 1936, 重力]
type = VelAdd
trigger1 = 1
y = 0

[State 1898, スピード]
type = VelSet
trigger1 = time = 0
y = -10

[State 1898, スピード]
type = VelSet
trigger1 = time = 1
y = 0

[State 1898, スピード]
type = VelSet
trigger1 = anim = [5060,5061]
trigger2 = anim = 5030
trigger3 = anim = [4100,4199]
x = -11

[State 1984,9]
type = Changeanim
triggerall = anim != [4100,4199]
trigger1 = BackEdgeBodyDist > 11
trigger1 = !SelfAnimExist(5061)
trigger1 = SelfAnimExist(5060)
value = 5060
elem = 1

[State 1984,9]
type = Changeanim
triggerall = anim != [4100,4199]
trigger1 = BackEdgeBodyDist > 11
trigger1 = !SelfAnimExist(5060)
trigger1 = SelfAnimExist(5061)
value = 5061
elem = 1

[State 1984,9]
type = Changeanim
triggerall = anim != [4100,4199]
trigger1 = BackEdgeBodyDist > 11
trigger1 = SelfAnimExist(5060)
trigger1 = SelfAnimExist(5061)
value = 5061
elem = 1

[State 1984,9]
type = Changeanim2
triggerall = anim != [4100,4199]
trigger1 = BackEdgeBodyDist > 11
trigger1 = !SelfAnimExist(5060)
trigger1 = !SelfAnimExist(5061)
value = 5030
elem = 1

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "KENSHIRO" && authorname = "Drowin hokuto"
trigger2 = name = "RAOH" && authorname = "Drowin hokuto"
trigger3 = name = "KENSHIRO" && authorname = "Cameron"
trigger4 = name = "MOHIKAN" && authorname = "Drowin hokuto"
value = 4104
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Toki" && authorname = "Drowin hokuto"
trigger2 = name = "JAGI" && authorname = "Drowin hokuto"
trigger3 = name = "silver_of_saint" && authorname = "simotsuki"
value = 4106
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "REI" && authorname = "ahuron"
trigger2 = name = "JAGI" && authorname = "ahuron"
trigger3 = name = "SHIN" && authorname = "ahuron"
trigger4 = name = "JUDA-(NERICYA)" && authorname = "NERICYA"
trigger5 = name = "Date Masamune" && authorname = "Neat Unsou"
trigger6 = name = "Katakura Kojuro" && authorname = "Neat Unsou"
trigger7 = name = "Mouri Motonari" && authorname = "Neat Unsou"
trigger8 = name = "Sanada Yukimura" && authorname = "syouga"
trigger9 = name = "Uesugi Kensin" && authorname = "syouga"
trigger10 = name = "Maeda Keiji" && authorname = "syouga"
trigger11 = name = "Keiji" && authorname = "Ahuron"
trigger12 = name = "Oda Nobunaga" && authorname = "五右衛門"
trigger13 = name = "Takenaka Hambe" && authorname = "五右衛門"
trigger14 = name = "shin" && authorname = "konpeitou"
trigger15 = name = "Maeda Keiji" && authorname = "tukisuna"
value = 4102
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "THOUTHER" && authorname = "ahuron"
trigger2 = name = "RAOH" && authorname = "shikkoku"
trigger3 = name = "Raoh" && authorname = "Bat"
value = 4109
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "RAOH ATL" && authorname = "Ataru"
value = 4138
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "TOKI-(NERICYA)" && authorname = "NERICYA"
trigger2 = name = "TOKI_S" && authorname = "shuu"
value = 4111
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Mr.HEART" && authorname = "rei"
value = 4113
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Jagi" && authorname = "Ts"
trigger2 = name = "Toki" && authorname = "Ts"
trigger3 = name = "Amiba" && authorname = "Ts"
value = 4116
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "amiba" && authorname = "Drowin hokuto"
trigger2 = name = "amiba" && authorname = "oki"
value = 4125
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "KENSHIRO-SAIKEI" && authorname = "SAIKEI"
trigger2 = name = "KENSHIRO" && authorname = "SAIKEI"
value = 4154
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "THOUTHER" && authorname = "SAIKEI"
value = 4161
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "JUDA" && authorname = "SAIKEI"
value = 4163
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "A-Rei" && authorname = "simotsuki"
trigger2 = name = "saint-of-silver" && authorname = "simotsuki"
value = 4167
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "SHYU" && authorname = "Fixxxer"
value = 4156
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Honda Tadakatsu" && authorname = "rei"
value = 4118
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Toyotomi Hideyoshi" && authorname = "rei"
trigger2 = name = "Chousokabe Motochika" && authorname = "Gal129"
value = 4120
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Oda Nobunaga" && authorname = "rei"
value = 4159

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Toyotomi Hideyoshi" && authorname = "kuri"
trigger2 = name = "Nobunaga" && authorname = "Ahuron"
value = 4123
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Ichigo" && authorname = "Alchemist"
value = 4127
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Byakuya" && authorname = "BwdYeti"
value = 4129
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Ukitake" && authorname = "BwdYeti"
trigger2 = name = "Ikkaku" && authorname = "BwdYeti"
value = 4131
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Kisuke Urahara" && authorname = "Lightmatt"
trigger2 = name = "Kyugohanin" && authorname = "Lightmatt"
value = 4133
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Kon" && authorname = "BwdYeti"
value = 4136
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Orihime Inoue" && authorname = "Ashisukurou"
value = 4151
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Aizen Sousuke" && authorname = "┌K´д`├┐"
trigger2 = name = "ogihcI ikasoruK" && authorname = "┌K´д`├┐"
value = 4152
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "USHIROMIYA ANGE" && authorname = "YU-TOHARU"
value = 4166
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "sol" && authorname = "muteki"
trigger2 = name = "ky" && authorname = "muteki"
trigger3 = name = "may" && authorname = "muteki"
trigger4 = name = "millia" && authorname = "muteki"
trigger5 = name = "eddie" && authorname = "muteki"
trigger6 = name = "potemkin" && authorname = "muteki"
trigger7 = name = "chipp" && authorname = "muteki"
trigger8 = name = "faust" && authorname = "muteki"
trigger9 = name = "baiken" && authorname = "muteki"
trigger10 = name = "jam" && authorname = "muteki"
trigger11 = name = "AXL" && authorname = "muteki"
trigger12 = name = "johnny" && authorname = "muteki"
trigger13 = name = "gg_venom" && authorname = "muteki"
trigger14 = name = "testament" && authorname = "muteki"
trigger15 = name = "dizzy" && authorname = "muteki"
trigger16 = name = "SLAYER" && authorname = "muteki"
trigger17 = name = "I-NO" && authorname = "muteki"
trigger18 = name = "bridget" && authorname = "muteki"
trigger19 = name = "justice" && authorname = "muteki"
trigger20 = name = "kliff" && authorname = "muteki"
trigger21 = name = "robo-ky" && authorname = "muteki"
trigger22 = name = "ROBO-KY1" && authorname = "ukege"
trigger23 = name = "ROBO-KY2" && authorname = "ukege"
trigger24 = name = "ROBO-KY3" && authorname = "ukege"
trigger25 = name = "OLD_ROBO-KY" && authorname = "ukege"
trigger26 = name = "ROBO-JAM" && authorname = "ukege"
trigger27 = name = "ROBO-Ky" && authorname = "MIMI"
trigger28 = name = "ROBO-KyⅡ" && authorname = "MIMI"
trigger29 = name = "chipp_arrange" && authorname = "muteki"
trigger30 = name = "zappa" && authorname = "muteki"
trigger31 = name = "ROBO-SOL" && authorname = "ukege"
trigger32 = name = "anji" && authorname = "muteki"
trigger33 = name = "osol" && authorname = "muteki"
value = 4140
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "A.B.A" && authorname = "muteki"
value = 4141
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Anji Mito" && authorname = "MEKA"
trigger2 = name = "Ky Kiske" && authorname = "MEKA"
trigger3 = name = "May" && authorname = "MEKA"
trigger4 = name = "I-NO" && authorname = "MEKA"
trigger5 = name = "Chipp Zanuff" && authorname = "MEKA"
trigger6 = name = "SLAYER" && authorname = "Lupanda76"
trigger7 = name = "anji mito" && authorname = "高崎　舟"
trigger8 = name = "BAIKEN" && authorname = "高崎　舟"
value = 4142
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "ZAPPA" && authorname = "EL"
trigger2 = name = "DIZZY" && authorname = "EL"
trigger3 = name = "MAY" && authorname = "EL"
trigger4 = name = "BRIDGET" && authorname = "EL"
trigger5 = name = "kyko" && authorname = "beppu&panda"
value = 4143
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "order-Sol=Badguy" && authorname = "Akutagawa"
trigger2 = name = "Ky=kiske" && authorname = "Akutagawa"
trigger3 = name = "SOL BADGUY" && authorname = "AOAO"
trigger4 = name = "Sol=Badguy" && authorname = "Amachi"
trigger5 = name = "JAM KURADOBERI" && authorname = "AOAO"
trigger6 = name = "Ky = kiske" && authorname = "N.I.J"
value = 4144
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Millia_Rage" && authorname = "nana"
trigger2 = name = "Dizzy" && authorname = "nana"
value = 4145
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "JAM KURADOBERI" && authorname = "AOAO"
value = 4146
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "Heart_Aino" && authorname = "Ina"
trigger2 = name = "Saki_Tsuzura" && authorname = "Ina"
trigger3 = name = "SAKI-MVC" && authorname = "uru"
trigger4 = name = "Saki" && authorname = "Drowin arcana"
trigger5 = name = "Tsuzura_Saki" && authorname = "Hyperhiroro"
trigger6 = name = "Kamui_Tokinomiya" && authorname = "Ina"
trigger7 = name = "Kamui" && authorname = "Drowin arcana"
trigger8 = name = "Fiona" && authorname = "Drowin arcana"
trigger9 = name = "Maori" && authorname = "Ahuron"
trigger10 = name = "Konoha" && authorname = "unkoman"
trigger11 = name = "KONOHA-SS" && authorname = "uru"
trigger12 = name = "Konoha" && authorname = "Ahuron"
trigger13 = name = "Lieselotte" && authorname = "Ahuron"
trigger14 = name = "Kira" && authorname = "sakuraka"
trigger15 = name = "YORIKO-MVC" && authorname = "uru"
trigger16 = name = "Meifan" && authorname = "zecruss"
trigger17 = name = "Mei-fang" && authorname = "Ryo&Jo"
trigger18 = name = "Ming-Vase" && authorname = "aokmaniac13"
trigger19 = name = "Lilica_Felchenerow" && authorname = "Ina"
trigger20 = name = "Lilica" && authorname = "Ryo&Jo"
trigger21 = name = "Lilica" && authorname = "zecruss"
trigger22 = name = "Akane Inuwaka" && authorname = "Ahuron"
trigger23 = name = "Nazuna_Inuwaka" && authorname = "huton"
trigger24 = name = "Petra_Johanna_Lagerkvist" && authorname = "Ina"
trigger25 = name = "petora" && authorname = "or2=3"
trigger26 = name = "DOROTHY ALBRIGHT" && authorname = "YU-TOHARU"
trigger27 = name = "Zenia_Valov" && authorname = "Ina"
trigger28 = name = "Elsa_La_Conti" && authorname = "Ina"
trigger29 = name = "Clarice_Di_Lanza" && authorname = "Ina"
trigger30 = name = "Clarice Di Lanza" && authorname = "Ahuron"
trigger31 = name = "Angelia Avallone" && authorname = "or2=3"
trigger32 = name = "Mildred_Avallone" && authorname = "Ina"
trigger33 = name = "Ciel" && authorname = "Drowin arcana"
trigger34 = name = "Miyako Arima" && authorname = "Drowin arcana"
trigger35 = name = "Satsuki Yumiduka" && authorname = "Drowin arcana"
trigger36 = name = "Konoha_MVC" && authorname = "unkoman"
trigger37 = name = "obachan" && authorname = "barai"
trigger38 = name = "F_HEAT_ver3" && authorname = "ryun"
trigger39 = name = "F_HEAT" && authorname = "ryun"
trigger40 = name = "L_SAKI" && authorname = "ryun"
trigger41 = name = "Elsa" && authorname = "barai"
trigger42 = name = "Petra" && authorname = "bey"
trigger43 = name = "Zenia" && authorname = "bey"
trigger44 = name = "Weiss" && authorname = "aki"
trigger45 = name = "L_SAKI_2ND" && authorname = "ryun"
trigger46 = name = "ELSA_LA_CONTI" && authorname = "Nadagetsu"
trigger47 = name = "F_HEAT_2nd" && authorname = "ryun"
trigger48 = name = "T_MAORI" && authorname = "ryun"
trigger49 = name = "B_ZENIA" && authorname = "ryun"
value = 4147
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "kira" && authorname = "NHK"
trigger2 = name = "Zangief Steel" && authorname = "aokmaniac13"
value = 4148
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "CATHERINE-MVC" && authorname = "uru"
value = 4149
persistent = 0

[State 1984,9]
type = Changeanim2
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "cvsanakaris" && authorname = "Gal129"
trigger2 = name = "cvsbalrog" && authorname = "rei"
trigger3 = name = "cvsblanka" && authorname = "Gal129"
trigger4 = name = "cvschang" && authorname = "Gal129"
trigger5 = name = "cvsguile" && authorname = "rei"
trigger6 = name = "cvshonda" && authorname = "Gal129"
trigger7 = name = "cvsjoe" && authorname = "Gal129"
trigger8 = name = "cvskim" && authorname = "Gal129"
trigger9 = name = "cvsleo" && authorname = "Gal129"
trigger10 = name = "cvsmukuro" && authorname = "rei"
trigger11 = name = "cvsnool" && authorname = "Gal129"
trigger12 = name = "cvsrolento" && authorname = "rei"
trigger13 = name = "cvsurien" && authorname = "rei"
trigger14 = name = "cvszangief" && authorname = "rei"
trigger15 = name = "CvS2Eagle" && authorname = "Byakko"
trigger16 = name = "cvsadon" && authorname = "H”"
trigger17 = name = "CvS2 Guy" && authorname = ".\/."
trigger18 = name = "cvshaohmaru" && authorname = "Warusaki3"
trigger19 = name = "cvshaohmaru_normal" && authorname = "Warusaki3"
trigger20 = name = "cvshaohmaru_ex" && authorname = "Warusaki3"
trigger21 = name = "cvsyamazaki" && authorname = "Warusaki3"
trigger22 = name = "cvsterry" && authorname = "Warusaki3"
trigger23 = name = "cvstodo" && authorname = "Warusaki3"
trigger24 = name = "cvsvice" && authorname = "Warusaki3"
trigger25 = name = "cvsrock" && authorname = "Warusaki3"
trigger26 = name = "cvsrolento" && authorname = "Warusaki3"
trigger27 = name = "cvsrugal" && authorname = "Warusaki3"
trigger28 = name = "cvsryo" && authorname = "Warusaki3"
trigger29 = name = "cvsguile" && authorname = "Warusaki3"
trigger30 = name = "Hibiki Takane" && authorname = "Mouser"
trigger31 = name = "cvsjill" && authorname = "Warusaki3"
trigger32 = name = "cvskim" && authorname = "Warusaki3"
trigger33 = name = "cvsking" && authorname = "Warusaki3"
trigger34 = name = "cvskyo" && authorname = "Warusaki3"
trigger35 = name = "cvskyo_normal" && authorname = "Warusaki3"
trigger36 = name = "cvskyo_ex" && authorname = "Warusaki3"
trigger37 = name = "cvsbenimaru" && authorname = "Warusaki3"
trigger38 = name = "cvscammy" && authorname = "Warusaki3"
trigger39 = name = "cvschunli" && authorname = "Warusaki3"
trigger40 = name = "cvsgeese" && authorname = "Warusaki3"
trigger41 = name = "cvsgeese_normal" && authorname = "Warusaki3"
trigger42 = name = "cvsgeese_ex" && authorname = "Warusaki3"
trigger43 = name = "cvsmika" && authorname = "Warusaki3"
trigger44 = name = "cvszangief" && authorname = "Warusaki3"
trigger45 = name = "cvszangief_normal" && authorname = "Warusaki3"
trigger46 = name = "cvszangief_ex" && authorname = "Warusaki3"
trigger47 = name = "cvshotaru" && authorname = "Warusaki3"
trigger48 = name = "svckarate" && authorname = "Warusaki3"
trigger49 = name = "cvssakura" && authorname = "Warusaki3"
trigger50 = name = "cvssakura_ex" && authorname = "Warusaki3"
trigger51 = name = "cvssakura_normal" && authorname = "Warusaki3"
trigger52 = name = "cvsathena" && authorname = "Warusaki3"
trigger53 = name = "cvsg_rugal" && authorname = "Warusaki3"
trigger54 = name = "cvsdan" && authorname = "Warusaki3"
trigger55 = name = "cvsgouki" && authorname = "Warusaki3"
trigger56 = name = "cvsgouki_normal" && authorname = "Warusaki3"
trigger57 = name = "cvsgouki_ex" && authorname = "Warusaki3"
trigger58 = name = "cvsguy" && authorname = "Warusaki3"
trigger59 = name = "cvsjuni" && authorname = "Warusaki3"
trigger60 = name = "cvskarin" && authorname = "Warusaki3"
trigger61 = name = "cvsingrid" && authorname = "Warusaki3"
trigger62 = name = "cvsken" && authorname = "Warusaki3"
trigger63 = name = "cvsken_normal" && authorname = "Warusaki3"
trigger64 = name = "cvsken_ex" && authorname = "Warusaki3"
trigger65 = name = "cvshayato" && authorname = "Warusaki3"
trigger66 = name = "cvslilith" && authorname = "Warusaki3"
trigger67 = name = "cvskuroko" && authorname = "Warusaki3"
trigger68 = name = "cvsryu" && authorname = "Warusaki3"
trigger69 = name = "cvsryu_normal" && authorname = "Warusaki3"
trigger70 = name = "cvsryu_ex" && authorname = "Warusaki3"
trigger71 = name = "cvsvega" && authorname = "Warusaki3"
trigger72 = name = "cvsyuri" && authorname = "Warusaki3"
trigger73 = name = "cvsyun" && authorname = "Warusaki3"
trigger74 = name = "cvstodo" && authorname = "rei"
trigger75 = name = "cvsmai" && authorname = "H”"
trigger76 = name = "cvssagat" && authorname = "Gal129"
trigger77 = name = "cvssagat" && authorname = "H”"
trigger78 = name = "cvshonda" && authorname = "H”"
trigger79 = name = "Clark Still" && authorname = "Men'sClub"
trigger80 = name = "Guile" && authorname = "ahuron"
trigger81 = name = "svcgouki" && authorname = "Morisoba"
trigger82 = name = "SVCVEGA" && authorname = "H”"
trigger83 = name = "Genryusai Maki" && authorname = "H”"
trigger84 = name = "Sagat" && authorname = "Mouser"
trigger85 = name = "Demitri" && authorname = "bad darkness"
trigger86 = name = "guile" && authorname = "hirohiro"
trigger87 = name = "Yuri_cvs" && authorname = "Tukemon"
trigger88 = name = "Ryu_cvs" && authorname = "Tukemon"
trigger89 = name = "SVCKEN" && authorname = "H”"
trigger90 = name = "svcathena" && authorname = "Warusaki3"
trigger91 = name = "Chun Li" && authorname = "Conversion World - J.Lee"
trigger92 = name = "SvCEarthQuake" && authorname = "ActJapan"
value = 4150
persistent = 0

[State 1984,9]
type = Changeanim
triggerall = BackEdgeBodyDist > 11
trigger1 = name = "MAMIYA" && authorname = "YU-TOHARU"
value = 4100
persistent = 0

[State 1898, スピード]
type = VelSet
trigger1 = BackEdgeBodyDist < 10
trigger1 = 1
x = 1.5

[State 1898, スピード]
type = VelSet
trigger1 = BackEdgeBodyDist < 10
trigger1 = 1
y = -3

[State 1984,9]
type = Changeanim
trigger1 = BackEdgeBodyDist < 10
value = 5070

[State 1898,]
type = changeState
trigger1 = BackEdgeBodyDist < 10
value = 1204
ctrl = 0

[State 5050, 6]
type = selfState
trigger1 = time >= 5
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;壁吹っ飛び～2P壁バウンド
[Statedef 1204]
type = A
movetype = H
physics = N
ctrl = 0

[State 8900, 揺らす]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 160
ampl = -4

[State 1936, 重力]
type = VelAdd
trigger1 = 1
y = 0.30

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;■完全なる検死の相手1■■■■■■
[Statedef 2470]
;type    = A
movetype= I
physics = N
velset = 0,0;-0.45
ctr = 0
sprpriority=-1


[State -1, DestroySelf];ヘルパーなら削除
Type = DestroySelf
trigger1 = IsHelper

[State -1, HitBy];無敵で固まらないように
Type = HitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 12

[State 2470,位置補正]
Type = posset
trigger1 = Time =0
y=0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = 99999
kill = 1
absolute = 0
ignorehitpause =  1
persistent =      1

[State 2470, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2470

;[State 2470, ダメージ]
;type = LifeAdd
;;trigger1 = time=30
;value = -(lifemax/12)
;absolute = 1
;kill =1
;persistent = 0

[State 2470, 時間切れのステート変更]
type = SelfState
trigger1 = Time >=300
value = 5050 ;common1.cns参照

;■完全なる検死の相手2■■■■■■
[Statedef 2475]
;type    = A
movetype= H
physics = S
velset = 0,0;-0.45
ctr = 0
sprpriority=-1

[State -1, 赤く]
type = PalFX
trigger1 = time=0
time = 10
add = 128,0,0
mul = 128,0,0
sinadd = 128,0,0,10
invertall = 0
color = 256
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State -1]
Type=posset
trigger1=time =0
y=0


[State -1, DestroySelf];ヘルパーなら削除
Type = DestroySelf
trigger1 = IsHelper

[State -1, HitBy];無敵で固まらないように
Type = HitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 12

[State 2475,位置補正]
Type = posset
trigger1 = Time =0
y=0

[State 2475, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2475

;[State 2470, ダメージ]
;type = LifeAdd
;trigger1 = time=2
;value = -(lifemax*3/10)
;absolute = 1
;kill =1
;persistent = 0

[State 2475, 時間切れのステート変更]
type = SelfState
trigger1 = animTime =0
value = 5100 ;common1.cns参照


[Statedef 2900]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 2900
sprpriority = 2
velset = 0,0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

;[State 100, 1];慣性
;type = VelSet
;trigger1 = vel x >= 0.01
;trigger1 = prevstateno = [100,101]
;x = fvar(18) - (time * 0.16)

;[State 100, 1];慣性
;type = VelSet
;trigger1 = vel x <= 0.009
;trigger1 = prevstateno = [100,101]
;x = 0

;[State 100];ダッシュ慣性解除
;type = Varset
;trigger1 = vel x = 0
;fv = 18
;value = 0

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1200];スペシャルゲージ減る
type = Poweradd
trigger1 = animelemtime(1) = 1
value = -1000

[State 200, 1];告発します。あなたが犯人です
type = PlaySnd
trigger1 = var(57)=1;パートーナーがドラノール
trigger1 = animelemtime(1) = 1
value = s13, 1

[State 200, 1];メタ宣言音
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = s12, 4

[State 200, 1];ガシャーン音
type = PlaySnd
trigger1 = animelemtime(6) = 1
value = s12, 3

[State 2900, 必殺エフェクト]
type = Explod
trigger1 = animelemtime(6) =1
anim = 7040
scale = 1,1
postype = p1
pos =41,-45;-10,-70
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
sprpriority = 4
SuperMoveTime = 99999999
PauseMoveTime = 99999999


[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(6) =1
v = 19
value = 1


[State 1840, メタ世界展開時背景演出呼び出し]
type = Helper
trigger1 = animelemtime(6) =1
helpertype = normal
name = "ao haikei"
ID = 3002
pos = 120, 0
postype = left
facing = 1
stateno = 3002
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス1（展開時）呼び出し]
type = Helper
trigger1 = animelem = 6
helpertype = normal
name = "glass"
ID = 2901
pos=30+ceil(ifelse(var(51)>=161,var(51)/5,0)),-20
postype = left
facing = 1
stateno = 2901
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, カットイン呼び出し]
type = Helper
triggerall = animelem = 1
;triggerall = var(57)=1;トラップサトコ
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7043
pos = -340+ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = left
facing = 1
stateno = 7043
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State 1840, カットイン呼び出し反対]
type = Helper
triggerall = animelem = 1
;triggerall = var(57)=1;トラップサトコ
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7043
pos = 340-ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = right
facing = -1
stateno = 7043
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelemtime(1) = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = left
facing = 1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelemtime(1) = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = right
facing = -1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7045
pos = -190, 0
postype = left
facing = 1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7045
pos = 190, 0
postype = right
facing = -1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5


[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State 2097]
type = Pause
trigger1 = animelemtime(22) <= 5
time = 2
movetime = 2

[State 2097]
type = Pause
trigger1 = AnimTime = 0
time = 4
movetime = 4

[State -2];メタ返し判定（パワー最大値1000）
type = Varset
triggerall = animelemtime(5) >= 12 && animelemtime(16) <= 2
triggerall = enemynear,powermax = 1000
triggerall = enemynear,power >= 400
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 1

[State -2];メタ返し判定（パワー最大値2000）
type = Varset
triggerall = animelemtime(5) >= 12 && animelemtime(16) <= 2
triggerall = enemynear,powermax = 2000
triggerall = enemynear,power >= 800
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 1

[State -2];メタ返し判定（パワー最大値3000）
type = Varset
triggerall = animelemtime(5) >= 12 && animelemtime(16) <= 2
triggerall = enemynear,powermax = 3000
triggerall = enemynear,power >= 1000
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 1

[State -2];メタ返し判定（パワー最大値5000以上）
type = Varset
triggerall = animelemtime(5) >= 12 && animelemtime(16) <= 2
triggerall = enemynear,powermax >= 5000
triggerall = enemynear,power >= 2000
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 1

[State -2];メタ返し判定（パワー最大値その他）
type = Varset
triggerall = animelemtime(5) >= 12 && animelemtime(16) <= 2
triggerall = !(enemynear,powermax = 1000)
triggerall = !(enemynear,powermax = 2000)
triggerall = !(enemynear,powermax = 3000)
triggerall = enemynear,powermax <= 4999
triggerall = enemynear,power >= 1000
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 1


;■メタ世界～メタ返し
[State 800, 2]
type = ChangeState
triggerall = animelem = 17
trigger1 = var(21) = 1
value = 2910

;■実装するか未定なのでとりあえず1例だけ残してる
;[State 191];ワルギリア～BRIMFUL＆STUN BOOST
;type = varset
;triggerall = animtime = 0
;trigger1 = var(57) = 1
;v = 26
;value = 100


;■実装するか未定なのでとりあえず1例だけ残してる
;[State -2, 1];STUN BOOST&BRIMFUL表示用
;type = Varset
;triggerall = animtime = 0
;trigger1 = var(57) = 1
;v = 13
;value = 21

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ガラス1（ヘルパー）メタ世界展開～展開時
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

[Statedef 2901]
type    = S
physics = S
velset = 0,0
anim = 6100
ctrl = 0
sprpriority = 99999

[State 1840, メタ世界展開ガラス2呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2902
pos = 30, 0
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス3呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2903
pos = 100, 0
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス4呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2904
pos = 140, 0
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス5呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2905
pos = 240, 0
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス6呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2906
pos = 260, 0
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス7呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2907
pos = 20, -60
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス8呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2908
pos = 40, -60
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス9呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2909
pos = 120, -60
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス10呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2910
pos = 160, -60
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス11呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2911
pos = 230, -60
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス12呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2912
pos = 260, -60
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス13呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2913
pos = 20, -120
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス14呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2914
pos = 50, -120
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス15呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2915
pos = 130, -120
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス16呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2916
pos = 160, -120
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス17呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2917
pos = 220, -120
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス18呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2918
pos = 250, -120
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス19呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2919
pos = 20, -180
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス20呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2920
pos = 50, -180
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス21呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2921
pos = 150, -180
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス22呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2922
pos = 170, -180
postype = p1
facing = 1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス23呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2923
pos = 250, -180
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス24呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2924
pos = 260, -180
postype = p1
facing = -1
stateno = 2902
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 636, 1]
type = PosSet
trigger1 = Time = 0
y = 5-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1980, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 2310]
type = Velset
trigger1 = time = 5
y = -5

[State 2310]
type = Velset
trigger1 = time >= 5
x = -5

[State 2310, 重力]
type = VelAdd
trigger1 = time >= 5
y = .2+fvar(0)

[State -2]
type = Varadd
trigger1 = time >= 5
fv = 0
value = 0.01

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5+fvar(1),2.5+fvar(1)

[State -2]
type = Varadd
trigger1 = time >= 5
fv = 1
value = 0.12

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,150

[State 633, 消える]
type = DestroySelf
trigger1 = time = 55

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  ガラス2（ヘルパー）メタ世界展開～展開時
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 2902]
type    = S
physics = S
velset = 0,0
anim = 9999;1860
ctrl = 0
sprpriority = 99999

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2912)
trigger2 = ishelper(2921)
value = 6100

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2902)
trigger2 = ishelper(2911)
trigger3 = ishelper(2922)
value = 6101

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2903)
trigger2 = ishelper(2910)
trigger3 = ishelper(2917)
value = 6102

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2904)
trigger2 = ishelper(2909)
trigger3 = ishelper(2918)
value = 6103

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2905)
trigger2 = ishelper(2914)
trigger3 = ishelper(2924)
value = 6104

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2906)
trigger2 = ishelper(2913)
trigger3 = ishelper(2923)
value = 6105

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2907)
trigger2 = ishelper(2916)
trigger3 = ishelper(2919)
value = 6106

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2908)
trigger2 = ishelper(2915)
trigger3 = ishelper(2920)
value = 6107

[State 2310]
type = Velset
triggerall = time = 5
trigger1 = ishelper(2902)
trigger2 = ishelper(2903)
trigger3 = ishelper(2904)
trigger4 = ishelper(2905)
trigger5 = ishelper(2906)
y = -5

[State 2310]
type = Velset
triggerall = time = 5
trigger1 = ishelper(2907)
trigger2 = ishelper(2908)
trigger3 = ishelper(2909)
trigger4 = ishelper(2910)
trigger5 = ishelper(2911)
trigger6 = ishelper(2912)
y = -3

[State 2310]
type = Velset
triggerall = time = 5
trigger1 = ishelper(2913)
trigger2 = ishelper(2914)
trigger3 = ishelper(2915)
trigger4 = ishelper(2916)
trigger5 = ishelper(2917)
trigger6 = ishelper(2918)
y = -1

[State 2310]
type = Velset
triggerall = time = 5
trigger1 = ishelper(2919)
trigger2 = ishelper(2920)
trigger3 = ishelper(2921)
trigger4 = ishelper(2922)
trigger5 = ishelper(2923)
trigger6 = ishelper(2924)
y = 1

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2919)
trigger2 = ishelper(2912)
trigger3 = ishelper(2924)
trigger4 = ishelper(2907)
x = -5

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2902)
trigger2 = ishelper(2908)
trigger3 = ishelper(2920)
trigger4 = ishelper(2911)
trigger5 = ishelper(2923)
x = -3

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2903)
trigger2 = ishelper(2910)
trigger3 = ishelper(2916)
trigger4 = ishelper(2921)
x = -1

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2904)
trigger2 = ishelper(2909)
trigger3 = ishelper(2915)
trigger4 = ishelper(2922)
x = 1

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2917)
trigger2 = ishelper(2914)
trigger3 = ishelper(2905)
x = 3

[State 2310]
type = Velset
triggerall = time >= 5
trigger1 = ishelper(2918)
trigger2 = ishelper(2913)
trigger3 = ishelper(2906)
x = 5

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1980, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 636, 1]
type = PosSet
trigger1 = Time = 0
y = 5-ScreenPos Y

[State 2310, 重力]
type = VelAdd
trigger1 = time >= 5
y = .2+fvar(0)

[State -2]
type = Varadd
trigger1 = time >= 5
fv = 0
value = 0.02

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5+fvar(1),2.5+fvar(2)

[State -2]
type = Varadd
trigger1 = time >= 5
fv = 1
value = 0.12

[State -2]
type = Varadd
trigger1 = time >= 5
fv = 2
value = -0.005

[State 1947]
type = AngleAdd
trigger1 = ishelper(2919)
value = 2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2920)
value = 1.8

[State 1947]
type = AngleAdd
trigger1 = ishelper(2907)
value = 1.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2921)
value = 1.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2911)
value = 1.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2908)
value = 1

[State 1947]
type = AngleAdd
trigger1 = ishelper(2903)
value = 0.8

[State 1947]
type = AngleAdd
trigger1 = ishelper(2918)
value = 0.7

[State 1947]
type = AngleAdd
trigger1 = ishelper(2916)
value = 0.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2914)
value = 0.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2905)
value = -0.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2917)
value = -0.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2904)
value = -0.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2922)
value = -0.6

[State 1947]
type = AngleAdd
trigger1 = ishelper(2906)
value = -0.7

[State 1947]
type = AngleAdd
trigger1 = ishelper(2909)
value = -1

[State 1947]
type = AngleAdd
trigger1 = ishelper(2913)
value = -1.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2923)
value = -1.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2915)
value = -1.6

[State 1947]
type = AngleAdd
trigger1 = ishelper(2924)
value = -1.9

[State 1947]
type = AngleAdd
trigger1 = ishelper(2910)
value = -2

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,150

[State 633, 消える]
type = DestroySelf
trigger1 = time = 55

;----------------------------------------------------------------------
;ガラス1（ヘルパー）メタ世界展開～解除時

[Statedef 2903]
type    = S
physics = S
velset = 0,0
anim = 6100
ctrl = 0
sprpriority = 99999

[State 1840, メタ世界展開ガラス2呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2902
pos = 30, 0
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス3呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2903
pos = 100, 0
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス4呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2904
pos = 140, 0
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス5呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2905
pos = 240, 0
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス6呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2906
pos = 260, 0
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス7呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2907
pos = 20, -60
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス8呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2908
pos = 40, -60
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス9呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2909
pos = 120, -60
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス10呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2910
pos = 160, -60
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス11呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2911
pos = 230, -60
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス12呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2912
pos = 260, -60
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス13呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2913
pos = 20, -120
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス14呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2914
pos = 50, -120
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス15呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2915
pos = 130, -120
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス16呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2916
pos = 160, -120
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス17呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2917
pos = 220, -120
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス18呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2918
pos = 250, -120
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス19呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2919
pos = 20, -180
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス20呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2920
pos = 50, -180
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス21呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2921
pos = 150, -180
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス22呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2922
pos = 170, -180
postype = p1
facing = 1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス23呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2923
pos = 250, -180
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, メタ世界展開ガラス24呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "glass"
ID = 2924
pos = 260, -180
postype = p1
facing = -1
stateno = 2904
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 636, 1]
type = PosSet
trigger1 = Time = 0
y = 5-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1980, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 2310]
type = Velset
trigger1 = time = 0
y = -5

[State 2310]
type = Velset
trigger1 = time >= 0
x = -5

[State 2310, 重力]
type = VelAdd
trigger1 = time >= 0
y = .2+fvar(0)

[State -2]
type = Varadd
trigger1 = time >= 0
fv = 0
value = 0.01

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5+fvar(1),2.5+fvar(1)

[State -2]
type = Varadd
trigger1 = time >= 0
fv = 1
value = 0.12

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,150

[State 633, 消える]
type = DestroySelf
trigger1 = time = 55

;----------------------------------------------------------------------
;ガラス2（ヘルパー）メタ世界展開～解除時

[Statedef 2904]
type    = S
physics = S
velset = 0,0
anim = 9999;1860
ctrl = 0
sprpriority = 99999

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2912)
trigger2 = ishelper(2921)
value = 6100

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2902)
trigger2 = ishelper(2911)
trigger3 = ishelper(2922)
value = 6101

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2903)
trigger2 = ishelper(2910)
trigger3 = ishelper(2917)
value = 6102

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2904)
trigger2 = ishelper(2909)
trigger3 = ishelper(2918)
value = 6103

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2905)
trigger2 = ishelper(2914)
trigger3 = ishelper(2924)
value = 6104

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2906)
trigger2 = ishelper(2913)
trigger3 = ishelper(2923)
value = 6105

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2907)
trigger2 = ishelper(2916)
trigger3 = ishelper(2919)
value = 6106

[State 1848, 1] 
type = ChangeAnim
triggerall = time = 0
trigger1 = ishelper(2908)
trigger2 = ishelper(2915)
trigger3 = ishelper(2920)
value = 6107

[State 2310]
type = Velset
triggerall = time = 0
trigger1 = ishelper(2902)
trigger2 = ishelper(2903)
trigger3 = ishelper(2904)
trigger4 = ishelper(2905)
trigger5 = ishelper(2906)
y = -5

[State 2310]
type = Velset
triggerall = time = 0
trigger1 = ishelper(2907)
trigger2 = ishelper(2908)
trigger3 = ishelper(2909)
trigger4 = ishelper(2910)
trigger5 = ishelper(2911)
trigger6 = ishelper(2912)
y = -3

[State 2310]
type = Velset
triggerall = time = 0
trigger1 = ishelper(2913)
trigger2 = ishelper(2914)
trigger3 = ishelper(2915)
trigger4 = ishelper(2916)
trigger5 = ishelper(2917)
trigger6 = ishelper(2918)
y = -1

[State 2310]
type = Velset
triggerall = time = 0
trigger1 = ishelper(2919)
trigger2 = ishelper(2920)
trigger3 = ishelper(2921)
trigger4 = ishelper(2922)
trigger5 = ishelper(2923)
trigger6 = ishelper(2924)
y = 1

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2919)
trigger2 = ishelper(2912)
trigger3 = ishelper(2924)
trigger4 = ishelper(2907)
x = -5

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2902)
trigger2 = ishelper(2908)
trigger3 = ishelper(2920)
trigger4 = ishelper(2911)
trigger5 = ishelper(2923)
x = -3

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2903)
trigger2 = ishelper(2910)
trigger3 = ishelper(2916)
trigger4 = ishelper(2921)
x = -1

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2904)
trigger2 = ishelper(2909)
trigger3 = ishelper(2915)
trigger4 = ishelper(2922)
x = 1

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2917)
trigger2 = ishelper(2914)
trigger3 = ishelper(2905)
x = 3

[State 2310]
type = Velset
triggerall = time >= 0
trigger1 = ishelper(2918)
trigger2 = ishelper(2913)
trigger3 = ishelper(2906)
x = 5

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1980, ぶつかり判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 636, 1]
type = PosSet
trigger1 = Time = 0
y = 5-ScreenPos Y

[State 2310, 重力]
type = VelAdd
trigger1 = time >= 0
y = .2+fvar(0)

[State -2]
type = Varadd
trigger1 = time >= 0
fv = 0
value = 0.02

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5+fvar(1),2.5+fvar(2)

[State -2]
type = Varadd
trigger1 = time >= 0
fv = 1
value = 0.12

[State -2]
type = Varadd
trigger1 = time >= 0
fv = 2
value = -0.005

[State 1947]
type = AngleAdd
trigger1 = ishelper(2919)
value = 2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2920)
value = 1.8

[State 1947]
type = AngleAdd
trigger1 = ishelper(2907)
value = 1.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2921)
value = 1.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2911)
value = 1.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2908)
value = 1

[State 1947]
type = AngleAdd
trigger1 = ishelper(2903)
value = 0.8

[State 1947]
type = AngleAdd
trigger1 = ishelper(2918)
value = 0.7

[State 1947]
type = AngleAdd
trigger1 = ishelper(2916)
value = 0.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2914)
value = 0.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2905)
value = -0.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2917)
value = -0.3

[State 1947]
type = AngleAdd
trigger1 = ishelper(2904)
value = -0.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2922)
value = -0.6

[State 1947]
type = AngleAdd
trigger1 = ishelper(2906)
value = -0.7

[State 1947]
type = AngleAdd
trigger1 = ishelper(2909)
value = -1

[State 1947]
type = AngleAdd
trigger1 = ishelper(2913)
value = -1.2

[State 1947]
type = AngleAdd
trigger1 = ishelper(2923)
value = -1.5

[State 1947]
type = AngleAdd
trigger1 = ishelper(2915)
value = -1.6

[State 1947]
type = AngleAdd
trigger1 = ishelper(2924)
value = -1.9

[State 1947]
type = AngleAdd
trigger1 = ishelper(2910)
value = -2

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,150

[State 633, 消える]
type = DestroySelf
trigger1 = time = 55




;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■　メタ世界～メタ返し
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 2910]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2910
sprpriority = 2

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 0
trigger1 = animelemtime(1) <= 60
value = SCA
time = 1

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 1
value = SCA
time = 1

[State 2097]
type = Pause
trigger1 = time = 0
time = 1
movetime = 1

[State -2];メタ返し判定解除
type = Varset
trigger1 = time = 0
v = 21
value = 0

[State 200, 1];真実系キーン音
type = PlaySnd
trigger1 = animelem = 1
value = s12, 38

[State 50];超必殺技エフェクト
type = Explod
trigger1 = animelemtime(1) = 43
anim = 7040
postype = p2
pos = (enemynear,Const(size.mid.pos.x)),(enemynear,Const(size.mid.pos.y))
ownpal = 1
sprpriority = 4
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(1) = 43
v = 19
value = 0

[State 1840, メタ世界展開ガラス1（解除時）呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "glass"
ID = 2901
pos = 30+ceil(ifelse(var(51)>=161,var(51)/5,0)), -20
postype = left
facing = 1
stateno = 2903
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 200, 1];ガシャーン音
type = PlaySnd
trigger1 = animelemtime(1) = 43
value = s12, 3

[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = left
facing = 1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = right
facing = -1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7047
pos = 260, 240
postype = right
facing = 1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7047
pos = -260, 240
postype = left
facing = -1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State -2]
type = RemoveExplod
trigger1 = 1
ID = 8201

[State 2097]
type = Pause
trigger1 = time >= 2
trigger1 = animelemtime(1) <= 60
time = 2
movetime = 2

[State -2];メタゲージ再増加用
type = Varset
trigger1 = time = 0
fv = 2
value = var(46) - 90

[State -2];メタゲージ減少
type = Varadd
trigger1 = var(46) >= 1
trigger1 = animelemtime(1) <= 59
v = 46
value = -20

[State -2];メタゲージ減少
type = Varset
trigger1 = var(46) <= 0
v = 46
value = 0

[State -2];メタ再展開判定
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = power >= 2000
trigger1 = command = "meta"
trigger2 =var(59)!=0;AIならpowerあれば再展開
v = 21
value = 1

[State 800, 2]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(21) = 1
value = 2920

[State -2];相手がメタ返しに対応しているか判定解除
type = Varset
trigger1 = time = 0
fvar(7) = 0

[State -2];相手がメタ返しに対応しているか判定
type = Varset
trigger1 = enemynear,numexplod(19864) = 1
fvar(7) = 1

[State 1840, メタ返し（未対応）呼び出し]
type = Helper
trigger1 = AnimTime = 0
trigger1 = fvar(7) = 0
helpertype = normal
name = "meta mitaiou"
ID = 2950
pos = 0, 0
postype = p2
stateno = 2950
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;メタ世界～メタ再展開
[Statedef 2920]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2910
sprpriority = 2

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2097]
type = Pause
trigger1 = time = 0
time = 1
movetime = 1

[State 1200];スペシャルゲージ減る
type = Poweradd
trigger1 = animelem = 1
value = -2000

[State 200, 1];パワーアップするのです
type = PlaySnd
trigger1 = var(57)=1;パートーナーがトラップサトコ
trigger1 = animelemtime(1) = 1
value = s13, 2


[State 200, 1];良く吠える事
type = PlaySnd
trigger1 = var(57)=2;パートーナーがベルンカステル
trigger1 = animelemtime(1) = 1
value = s14, 2

[State 200, 1];宣言音
type = PlaySnd
trigger1 = animelem = 1
value = s12, 4

[State 200, 1];ガシャーン音
type = PlaySnd
trigger1 = animelemtime(1) = 43
value = s12, 3

[State 50];超必殺技エフェクト
type = Explod
trigger1 = animelemtime(1) = 43
anim = 7040
postype = p1
pos =70,-87;-10,-70
ownpal = 1
sprpriority = 4
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(1) = 43
v = 19
value = 1

[State 1840, メタ世界展開時背景演出呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "ao haikei"
ID = 3002
pos = 120, 0
postype = left
facing = 1
stateno = 3002
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, メタ世界展開ガラス1（展開時）呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "glass"
ID = 2901
pos = 30+ceil(ifelse(var(51)>=161,var(51)/5,0)), -20
postype = left
facing = 1
stateno = 2901
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, カットイン呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7048
pos = -340+ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = left
facing = 1
stateno = 7048
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, カットイン呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7048
pos = 340-ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = right
facing = -1
stateno = 7048
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = left
facing = 1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = right
facing = -1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7045
pos = -190, 0
postype = left
facing = 1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7045
pos = 190, 0
postype = right
facing = -1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ増加
type = Varset
trigger1 = time <= 29
v = 46
value = 0

[State -2];メタゲージ増加
type = Varadd
trigger1 = time >= 30
v = 46
value = 20

[State -2];メタゲージ増加
type = Varset
trigger1 = var(46) >= floor(fvar(2))
v = 46
value = floor(fvar(2))

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State 2097]
type = Pause
trigger1 = time >= 2
trigger1 = animelemtime(6) <= 5
time = 2
movetime = 2

[State 2097]
type = Pause
trigger1 = AnimTime = 0
time = 4
movetime = 4

[State -2];メタ再反論判定（パワー最大値1000）～相手が未対応時
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 1000
triggerall = enemynear,power >= 800
triggerall = fvar(7) = 0
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値2000）～相手が未対応時
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 2000
triggerall = enemynear,power >= 1600
triggerall = fvar(7) = 0
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値3000）～相手が未対応時
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 3000
triggerall = enemynear,power >= 2000
triggerall = fvar(7) = 0
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値5000以上）～相手が未対応時
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax >= 5000
triggerall = enemynear,power >= 4000
triggerall = fvar(7) = 0
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値その他）～相手が未対応時
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = !(enemynear,powermax = 1000)
triggerall = !(enemynear,powermax = 2000)
triggerall = !(enemynear,powermax = 3000)
triggerall = enemynear,powermax <= 4999
triggerall = enemynear,power >= 2000
triggerall = fvar(7) = 0
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値1000）～相手が対応している
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 1000
triggerall = enemynear,power >= 400
triggerall = fvar(7) = 1
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値2000）～相手が対応している
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 2000
triggerall = enemynear,power >= 800
triggerall = fvar(7) = 1
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値3000）～相手が対応している
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax = 3000
triggerall = enemynear,power >= 1000
triggerall = fvar(7) = 1
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値5000以上）～相手が対応している
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = enemynear,powermax >= 5000
triggerall = enemynear,power >= 2000
triggerall = fvar(7) = 1
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State -2];メタ再反論判定（パワー最大値その他）～相手が対応している
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = !(enemynear,powermax = 1000)
triggerall = !(enemynear,powermax = 2000)
triggerall = !(enemynear,powermax = 3000)
triggerall = enemynear,powermax <= 4999
triggerall = enemynear,power >= 2000
triggerall = fvar(7) = 1
trigger1 = enemynear,command = "a"
trigger2 = enemynear,command = "b"
trigger3 = enemynear,command = "c"
trigger4 = enemynear,command = "x"
trigger5 = enemynear,command = "y"
trigger6 = enemynear,command = "z"
trigger7 = enemynear,command = "start"
trigger8 = enemynear,command = "AI_07"
trigger9 = enemynear,command = "AI_08"
trigger10= enemynear,command = "AI_09"
trigger11= enemynear,command = "AI_10"
trigger12= enemynear,command = "AI_11"
trigger13= enemynear,command = "AI_12"
trigger14= enemynear,command = "AI_13"
trigger15= enemynear,command = "AI_14"
trigger16= enemynear,command = "AI_15"
trigger17= enemynear,command = "AI_16"
trigger18= enemynear,command = "AI_17"
trigger19= enemynear,command = "AI_18"
trigger20= enemynear,command = "AI_19"
trigger21= enemynear,command = "AI_20"
trigger22= enemynear,command = "AI_21"
trigger23= enemynear,command = "AI_22"
trigger24= enemynear,command = "AI_23"
trigger25= enemynear,command = "AI_24"
trigger26= enemynear,command = "AI_25"
trigger27= enemynear,command = "AI_26"
trigger28= enemynear,command = "AI_27"
trigger29= enemynear,command = "AI_28"
trigger30= enemynear,command = "AI_29"
trigger31= enemynear,command = "AI_30"
trigger32= enemynear,command = "AI_31"
trigger33= enemynear,command = "AI_32"
trigger34= enemynear,command = "AI_33"
trigger35= enemynear,command = "AI_34"
trigger36= enemynear,command = "AI_35"
trigger37= enemynear,command = "AI_36"
trigger38= enemynear,command = "AI_37"
trigger39= enemynear,command = "AI_38"
trigger40= enemynear,command = "AI_39"
trigger41= enemynear,command = "AI_40"
trigger42 = enemynear,command = "AI_41"
trigger43 = enemynear,command = "AI_42"
trigger44 = enemynear,command = "AI_43"
trigger45 = enemynear,command = "AI_44"
trigger46 = enemynear,command = "AI_45"
trigger47 = enemynear,command = "AI_46"
trigger48 = enemynear,command = "AI_47"
trigger49 = enemynear,command = "AI_48"
trigger50 = enemynear,command = "AI_49"
trigger51 = enemynear,command = "AI_50"
trigger52 = enemynear,command = "AI_51"
trigger53 = enemynear,command = "AI_52"
trigger54 = enemynear,command = "AI_53"
trigger55 = enemynear,command = "AI_54"
trigger56 = enemynear,command = "AI_55"
trigger57 = enemynear,command = "AI_56"
trigger58 = enemynear,command = "AI_57"
trigger59 = enemynear,command = "AI_58"
trigger60 = enemynear,command = "AI_59"
trigger61 = enemynear,command = "AI_60"
v = 21
value = 2

[State 800, 2]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(21) = 2
value = 2930

;[State 191];ワルギリア～BRIMFUL＆STUN BOOST
;type = varset
;triggerall = animtime = 0
;trigger1 = var(57) = 1
;v = 26
;value = 100


;[State -2, 1];STUN BOOST&BRIMFUL表示用
;type = Varset
;triggerall = animtime = 0
;trigger1 = var(57) = 1
;v = 13
;value = 21


[State 1840, メタ返し（未対応）呼び出し]
type = Helper
trigger1 = AnimTime = 0
trigger1 = fvar(7) = 0
helpertype = normal
name = "meta mitaiou"
ID = 2950
pos = 0, 0
postype = p2
stateno = 2950
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;メタ世界～メタ再反論
[Statedef 2930]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2910
sprpriority = 2

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

[State 2097]
type = Pause
trigger1 = time = 0
time = 1
movetime = 1

[State -2];メタ再展開判定解除
type = Varset
trigger1 = time = 0
v = 21
value = 0

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 0
trigger1 = animelemtime(1) <= 60
value = SCA
time = 1

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 1
value = SCA
time = 1

[State 200, 1];真実系キーン音
type = PlaySnd
trigger1 = animelem = 1
value = s12, 38

[State 50];超必殺技エフェクト
type = Explod
trigger1 = animelemtime(1) = 43
anim = 7040
postype = p2
pos = (enemynear,Const(size.mid.pos.x)),(enemynear,Const(size.mid.pos.y))
ownpal = 1
sprpriority = 4
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(1) = 43
v = 19
value = 0

[State 1840, メタ世界展開ガラス1（解除時）呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "glass"
ID = 2901
pos = 30+ceil(ifelse(var(51)>=161,var(51)/5,0)), -20
postype = left
facing = 1
stateno = 2903
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 200, 1];ガシャーン
type = PlaySnd
trigger1 = animelemtime(1) = 43
value = s12, 3

[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = left
facing = 1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = right
facing = -1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7047
pos = 260, 240
postype = right
facing = 1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7047
pos = -260, 240
postype = left
facing = -1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ再増加用
type = Varset
trigger1 = time = 0
fv = 2
value = var(46) - 90

[State -2];メタゲージ減少
type = Varadd
trigger1 = var(46) >= 1
trigger1 = animelemtime(1) <= 59
v = 46
value = -20

[State -2];メタゲージ減少
type = Varset
trigger1 = var(46) <= 0
v = 46
value = 0

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State 2097]
type = Pause
trigger1 = time >= 2
trigger1 = animelemtime(1) <= 60
time = 2
movetime = 2

[State -2];メタ強制展開判定
type = Varset
triggerall = animelemtime(1) <= 64
triggerall = power >= 2000
trigger1 = command = "meta"
trigger2 =var(59)!=0;AIならpowerあれば強制展開
v = 21
value = 1

[State 800, 2]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(21) = 1
value = 2940

[State -2];相手がメタ再反論に対応しているか判定解除
type = Varset
trigger1 = time = 0
fvar(7) = 0

[State -2];相手がメタ再反論に対応しているか判定
type = Varset
trigger1 = enemynear,numexplod(19865) = 1
fvar(7) = 1

[State 1840, メタ再反論（未対応）呼び出し]
type = Helper
trigger1 = AnimTime = 0
trigger1 = fvar(7) = 0
helpertype = normal
name = "meta mitaiou"
ID = 2970
pos = 0, 0
postype = p2
stateno = 2970
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;メタ世界～メタ強制展開
[Statedef 2940]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 2910;1701
sprpriority = 2

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

[State 2045,無敵時間]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2097]
type = Pause
trigger1 = time = 0
time = 1
movetime = 1

[State -2];メタ強制展開判定解除
type = Varset
trigger1 = time = 0
v = 21
value = 0

[State 1200];スペシャルゲージ減る
type = Poweradd
trigger1 = animelem = 1
value = -2000

[State 200, 1];チェックメイト！！我が推理は揺るぎません！
type = PlaySnd
trigger1 = var(57) = 1;ドラノール
trigger1 = animelemtime(1) = 1
value = s13, 3


[State 200, 1];ゲロカスがー！！
type = PlaySnd
trigger1 = var(57) = 2;パートーナーがベルンカステル
trigger1 = animelemtime(1) = 1
value = s14, 3


[State 200, 1];メタ宣言
type = PlaySnd
trigger1 = animelem = 1
value = s12, 4

[State 200, 1];ガシャーン
type = PlaySnd
trigger1 = animelemtime(1) = 43
value = s12, 3

[State 50];超必殺技エフェクト
type = Explod
trigger1 = animelemtime(1) = 43
anim = 7040
postype = p1
pos =70,-87;-10,-70
ownpal = 1
sprpriority = 4
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(1) = 43
v = 19
value = 1

[State 1840, メタ世界展開時背景演出呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "ao haikei"
ID = 3002
pos = 120, 0
postype = left
facing = 1
stateno = 3002
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, メタ世界展開ガラス1（展開時）呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "glass"
ID = 2901
pos = 30+ceil(ifelse(var(51)>=161,var(51)/5,0)), -20
postype = left
facing = 1
stateno = 2901
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, カットイン呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7053
pos = -340+ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = left
facing = 1
stateno = 7053
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, カットイン呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7053
pos = 340-ceil(ifelse(var(51)>=161,var(51)/5,0)), 0
postype = right
facing = -1
stateno = 7053
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = left
facing = 1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7044
pos = 0, 0
postype = right
facing = -1
stateno = 7044
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7045
pos = -190, 0
postype = left
facing = 1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7045
pos = 190, 0
postype = right
facing = -1
stateno = 7045
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999
size.xscale = .5
size.yscale = .5

[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ増加
type = Varset
trigger1 = time <= 29
v = 46
value = 0

[State -2];メタゲージ増加
type = Varadd
trigger1 = time >= 30
v = 46
value = 20

[State -2];メタゲージ増加
type = Varset
trigger1 = var(46) >= floor(fvar(2))
v = 46
value = floor(fvar(2))

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State 2097]
type = Pause
trigger1 = time >= 2
trigger1 = animelemtime(1) <= 60
time = 2
movetime = 2

[State 800, 2]
type = ChangeState
triggerall = animelem = 2
trigger1 = var(21) = 2
value = 2931

[State 1840, メタ再反論（未対応）呼び出し]
type = Helper
trigger1 = AnimTime = 0
trigger1 = fvar(7) = 0
helpertype = normal
name = "meta mitaiou"
ID = 2970
pos = 0, 0
postype = p2
stateno = 2970
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;メタ世界～メタ再反論
[Statedef 2931]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2910
sprpriority = 2

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State -2];相手の向き判定～解除
type = VarSet
trigger1 = time = 0
fv = 4
value = 0

[State -2];相手の向き判定～右向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = 1
trigger1 = enemynear,facing = 1
fv = 4
value = 1

[State -2];相手の向き判定～左向き
type = VarSet
triggerall = time = 0
triggerall = enemynear,alive = 1
trigger1 = facing = -1
trigger1 = enemynear,facing = -1
fv = 4
value = 2

[State 2097]
type = Pause
trigger1 = time = 0
time = 1
movetime = 1

[State -2];メタ再展開判定解除
type = Varset
trigger1 = time = 0
v = 21
value = 0

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 0
trigger1 = animelemtime(1) <= 60
value = SCA
time = 1

[State 2045,無敵時間]
type = NotHitBy
trigger1 = var(21) = 1
value = SCA
time = 1

[State 200, 1];真実系キーン音
type = PlaySnd
trigger1 = animelem = 1
value = s12, 38

[State 50];超必殺技エフェクト
type = Explod
trigger1 = animelemtime(1) = 43
anim = 7040
postype = p2
pos = (enemynear,Const(size.mid.pos.x)),(enemynear,Const(size.mid.pos.y))
ownpal = 1
sprpriority = 4
pausemovetime = 999999999
supermovetime = 999999999

[State -2];メタ世界展開
type = Varset
trigger1 = animelemtime(1) = 43
v = 19
value = 0

[State 1840, メタ世界展開ガラス1（解除時）呼び出し]
type = Helper
trigger1 = animelemtime(1) = 43
helpertype = normal
name = "glass"
ID = 2901
pos = 30+ceil(ifelse(var(51)>=161,var(51)/5,0)), -20
postype = left
facing = 1
stateno = 2903
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 200, 1];ガシャーン
type = PlaySnd
trigger1 = animelemtime(1) = 43
value = s12, 3

[State 1840, 背景演出1呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = left
facing = 1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, 背景演出1呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7046
pos = 0, 0
postype = right
facing = -1
stateno = 7046
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, 背景演出2呼び出し]
type = Helper
triggerall = animelem = 1
trigger1 = facing = 1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 2
helpertype = normal
name = "catin"
ID = 7047
pos = 260, 240
postype = right
facing = 1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 1840, 背景演出2呼び出し反対]
type = Helper
triggerall = animelem = 1
trigger1 = facing = -1
trigger1 = fvar(4) = 0
trigger2 = fvar(4) = 1
helpertype = normal
name = "catin"
ID = 7047
pos = -260, 240
postype = left
facing = -1
stateno = 7047
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State -2]
type = Varset
trigger1 = time = 0
v = 0
value = 0

[State -2]
type = Varadd
trigger1 = time = [1,5]
v = 0
value = 20

[State 0];背景色
type = BGPalFX
trigger1 = time = [1,42]
time = 1
mul = 255-var(0),255-var(0),255-var(0)
invertall = 0

[State -2];メタゲージ再増加用
type = Varset
trigger1 = time = 0
fv = 2
value = var(46) - 90

[State -2];メタゲージ減少
type = Varadd
trigger1 = var(46) >= 1
trigger1 = animelemtime(1) <= 59
v = 46
value = -20

[State -2];メタゲージ減少
type = Varset
trigger1 = var(46) <= 0
v = 46
value = 0

[State -2];メタゲージ増減制御
type = Varadd
trigger1 = time = 1
v = 16
value = 1

[State -2];メタゲージ増減制御解除
type = Varset
Trigger1 = AnimTime = 0
v = 16
value = 0

[State 2097]
type = Pause
trigger1 = time >= 2
trigger1 = animelemtime(1) <= 60
time = 2
movetime = 2

[State -2];相手がメタ再反論に対応しているか判定解除
type = Varset
trigger1 = time = 0
fvar(7) = 0

[State -2];相手がメタ再反論に対応しているか判定
type = Varset
trigger1 = enemynear,numexplod(19867) = 1
fvar(7) = 1

[State 1840, メタ再反論（未対応）呼び出し]
type = Helper
trigger1 = AnimTime = 0
trigger1 = fvar(7) = 0
helpertype = normal
name = "meta mitaiou"
ID = 22970
pos = 0, 0
postype = p2
stateno = 22970
keyctrl = 0
ownpal = 0
pausemovetime = 999999999
supermovetime = 999999999

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;メタ返し（未対応） 2P
[Statedef 2960]
type = U
movetype = U
physics = U

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 1000
value = -400

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 2000
value = -800

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 3000
trigger2 = powermax != [1000,2000]
trigger2 = powermax <= 4999
value = -1000

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax >= 5000
value = -2000

[State 19864]
type = SelfState
trigger1 = time = 0
value = prevstateno

;---------------------------------------------------------------------------
;メタ再反論（未対応） 2P
[Statedef 2980]
type = U
movetype = U
physics = U

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 1000
value = -800

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 2000
value = -1600

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax = 3000
trigger2 = powermax != [1000,2000]
trigger2 = powermax <= 4999
value = -2000

[State 19864]
type = powerAdd
triggerall = time = 0
trigger1 = powermax >= 5000
value = -4000

[State 19864]
type = SelfState
trigger1 = time = 0
value = prevstateno

;----------------------------------------------------------------------
;メタ返し（未対応）（ヘルパー）

[Statedef 2950]
type    = A
movetype= A
physics = S
anim = 2920;攻撃枠だけ
ctrl = 0

[State 39];当て身投げ回避
type = HitOverride
trigger1 = 1
attr = SCA, AA,AP,AT
ignorehitpause = 1

[State 636, 1]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y

[State 1911, 1]
type = AssertSpecial
trigger1 = 1
flag = unguardable
ignorehitpause=1

[State 1987, 2]
type = HitDef
trigger1 = time = 0
attr = S,HT
damage    = 0
hitflag = MAFD
sparkno = -1
pausetime = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = low
air.velocity = 0,-5
fall.recover = 0
fall = 0
kill = 0
guard.kill = 0
fall.kill = 0
p2stateno = 2960
getpower = 0,0

[State 1982, 消える]
type = DestroySelf
trigger1 = movecontact

;----------------------------------------------------------------------
;メタ再反論（未対応）（ヘルパー）

[Statedef 2970]
type    = A
movetype= A
physics = S
anim = 2920;攻撃枠だけ
ctrl = 0

[State 39];当て身投げ回避
type = HitOverride
trigger1 = 1
attr = SCA, AA,AP,AT
ignorehitpause = 1

[State 636, 1]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y

[State 1911, 1]
type = AssertSpecial
trigger1 = 1
flag = unguardable
ignorehitpause=1

[State 1987, 2]
type = HitDef
trigger1 = time = 0
attr = S,HT
damage    = 0
hitflag = MAFD
sparkno = -1
pausetime = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = low
air.velocity = 0,-5
fall.recover = 0
fall = 0
kill = 0
guard.kill = 0
fall.kill = 0
p2stateno = 2980
getpower = 0,0

[State 1982, 消える]
type = DestroySelf
trigger1 = movecontact

;----------------------------------------------------------------------
;メタ再反論（未対応）（ヘルパー）

[Statedef 22970]
type    = A
movetype= A
physics = S
anim = 2920;攻撃枠だけ
ctrl = 0

[State 39];当て身投げ回避
type = HitOverride
trigger1 = 1
attr = SCA, AA,AP,AT
ignorehitpause = 1

[State 636, 1]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y

[State 1911, 1]
type = AssertSpecial
trigger1 = 1
flag = unguardable
ignorehitpause=1

[State 1987, 2]
type = HitDef
trigger1 = time = 0
attr = S,HT
damage    = 0
hitflag = MAFD
sparkno = -1
pausetime = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = low
air.velocity = 0,-5
fall.recover = 0
fall = 0
kill = 0
guard.kill = 0
fall.kill = 0
p2stateno = 2980
getpower = 0,0

[State 1982, 消える]
type = DestroySelf
trigger1 = movecontact










;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界展開時背景演出（ヘルパー）～メタ世界展開
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

[Statedef 3002]
type    = A
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 9999;1860;6124
sprpriority = -9999

[State -2]
type = Varrandom
trigger1 = 1
v = 1
range = 1,20

[State -2]
type = Varrandom
trigger1 = 1
v = 2
range = 1,20

[State -2]
type = Varrandom
trigger1 = 1
v = 3
range = 1,20

[State -2]
type = Varrandom
trigger1 = 1
v = 4
range = 1,20

[State 52, 呪文1ヘルパー呼び出し]
type = Helper
trigger1 = root,stateno != 4400
trigger1 = numhelper(3009) = 0
trigger1 = var(1) = 10
helpertype = normal
name = "jumon"
ID = 3009
pos = -80,-100
postype = left
stateno = 3009
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 52, 呪文2ヘルパー呼び出し]
type = Helper
trigger1 = root,stateno != 4400
trigger1 = numhelper(3010) = 0
trigger1 = var(2) = 10
helpertype = normal
name = "jumon"
ID = 3010
pos = 80,-110
postype = left
stateno = 3010
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 52, 呪文3ヘルパー呼び出し]
type = Helper
trigger1 = root,stateno != 4400
trigger1 = numhelper(3008) = 0
trigger1 = var(3) = 10
helpertype = normal
name = "jumon"
ID = 3008
pos = 200,-120
postype = left
stateno = 3008
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 52, 呪文4ヘルパー呼び出し]
type = Helper
trigger1 = root,stateno != 4400
trigger1 = numhelper(3011) = 0
trigger1 = var(4) = 10
helpertype = normal
name = "jumon"
ID = 3011
pos = 320,-100
postype = left
stateno = 3011
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 1868]
type = SprPriority
trigger1 = 1
value = -9999

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 5000,5000

[State -2]
type = varadd
trigger1 = root,stateno = 4100
trigger1 = root,time = [5,9]
trigger2 = root,stateno = 4000
trigger2 = root,time = [1,5]
trigger3 = root,stateno = 4001
trigger3 = root,time = [1,4]
trigger4 = root,stateno = 4200
trigger4 = root,time = [5,9]
trigger5 = root,stateno = 4300
trigger5 = root,time = [1,5]
trigger6 = root,stateno = 4303
trigger6 = root,time = [8,12]
trigger7 = numhelper(2750) = 1
trigger7 = helper(2750),stateno = 2757
trigger7 = helper(2750),time = [1,5]
v = 5
value = 10

[State -2]
type = varadd
trigger1 = root,stateno = 4100
trigger1 = root,time = [30,34]
trigger2 = root,stateno = 4000
trigger2 = root,time = [26,30]
trigger3 = root,stateno = 4001
trigger3 = root,time = [25,29]
trigger4 = root,stateno = 4200
trigger4 = root,time = [30,34]
trigger5 = root,stateno = 4300
trigger5 = root,time = [26,30]
trigger6 = root,stateno = 4303
trigger6 = root,time = [33,37]
trigger7 = numhelper(2750) = 1
trigger7 = helper(2750),stateno = 2757
trigger7 = helper(2750),time = [26,30]
v = 5
value = -10

[State 0];背景色
type = BGPalFX
trigger1 = 1
time = 1
mul = 100-var(5),100-var(5),256-var(5)
invertall = 0

[State -2]
type = Varadd
trigger1 = numhelper(3003) = 1
v = 0
value = 10

[State -2]
type = Varadd
trigger1 = numhelper(3004) = 1
trigger1 = helper(3004),var(1) >= 10
v = 0
value = -10

[State -2]
type = Varset
trigger1 = numhelper(3003) = 0
trigger1 = numhelper(3004) = 0
v = 0
value = 0

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100-var(0),120

[State 1982, 消える]
type = DestroySelf
trigger1 = root,var(19) = 0


;■■■■■■■■■■■■■■■■■■■■■■■■
;■魔方陣用ヘルパー1（ヘルパー） 
;■v0,1
;■f0～
;■■■■■■■■■■■■■■■■■■■■■■■■

[Statedef 3001]
type    = A
movetype= I
physics = S
velset = 0,0
anim = 6279;6188
ctrl = 0

[State 1947,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1981];タッチゲージ増加制御～仮
type = parentvarset
trigger1 = var(1) = 601
trigger2 = var(3) = 631
trigger3 = var(5) = 451
trigger4 = var(6) = 631
trigger5 = var(8) = 451
trigger6 = var(9) = 931
trigger7 = var(10) = 931
trigger8 = var(11) = 931
trigger9 = var(12) = 631
trigger10 = var(13) = 451
trigger11 = var(14) = 931
trigger12 = var(15) = 571
trigger13 = var(16) = 11
trigger14 = var(17) = 11
trigger15 = var(18) = 11
fv = 3
value = 100

[State 1981];タッチゲージ増加制御～仮
type = parentvarset
triggerall = var(50) = 326
trigger1 = root,var(57) = 1
trigger2 = root,var(57) = 3
trigger3 = root,var(57) = [5,6]
trigger4 = root,var(57) = [8,18]
fv = 3
value = 100


[State 1868]
type = SprPriority
trigger1 = 1
value = -10000

[State 636]
type = PosSet
trigger1 = 1
x = parent,pos x - 4
y = 2

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 1,0.15;1.3,0.22

[State 191];演出フラグセット1
type = varset
trigger1 = root,var(19) = 1
trigger1 = var(50)=0
v = 50
value = 1

;[State 191];演出フラグセット2
;type = varset
;trigger1 = var(2)=1
;trigger1 = var(50)=0
;v = 50
;value = 1

[State 50];魔方陣演出エフェクト1
type = Explod
triggerall = numexplod(6289) = 0
trigger1 = root,var(19) = 1
trigger1 = var(50) >= 1 && var(50) <=300
anim = 6289
ID = 6289
postype = p1
pos = -2,-5
ownpal = 1
scale = 0.48,0.6
sprpriority = -9999
bindtime = -1
removetime = -1
facing = -1

[State 50];魔方陣演出エフェクト2
type = Explod
triggerall = numexplod(6288) = 0
trigger1 = root,var(19) = 1
trigger1 = var(50) >= 1 && var(50) <=300
anim = 6288
ID = 6288
postype = p1
pos = 5,-5
ownpal = 1
scale = 0.48,0.6
sprpriority = 3
bindtime = -1
removetime = -1
facing = -1

[State -3];魔方陣演出エフェクト1消す
type = RemoveExplod
trigger1 = var(50) = 301
trigger2 = root,var(19) = 0
ID = 6289

[State -3];魔方陣演出エフェクト2消す
type = RemoveExplod
trigger1 = var(50) = 301
trigger2 = root,var(19) = 0
ID = 6288

;[State 191]
;type = PalFX
;trigger1 = var(2) >= 1
;mul = 0,120,256
;time = 1

;[State 191]
;type = varadd
;trigger1 = var(2) >= 1
;v = 2
;value = 1

;[State 191]
;type = varset
;trigger1 = var(2) = 632
;v = 2
;value = 0

[State 191]
type = PalFX
trigger1 = var(50) >= 1
mul = 256,256,0
time = 1

[State 191]
type = varadd
trigger1 = var(50) >= 1
v = 50
value = 1

[State 191]
type = varset
trigger1 = var(50) = 630
v = 50
value = 0

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 633];透明にする
type = Trans
trigger1 = root,var(19)=0
trans = addalpha
alpha = 0,256


[State 191];アビリティ魔方陣用
type = varadd
trigger1 = var(50) = [1,5]
v = 0
value = 50

[State 191];アビリティ魔方陣用
type = varset
trigger1 = var(50) = 6
v = 0
value = 256

[State 191];アビリティ魔方陣用
type = varadd
trigger1 = var(50) = [300,325]
v = 0
value = -10

[State 191];アビリティ魔方陣用
type = varset
trigger1 = var(50) >= 326
v = 0
value = 0




;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界展開時背景演出呪文1（ヘルパー）～メタ世界展開
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3008]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = -9999

[State 1868]
type = SprPriority
trigger1 = 1
value = -9999

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -2]
type = Varrandom
trigger1 = time = 0
v = 5
range = -60,60

[State -2]
type = Varrandom
trigger1 = time = 0
v = 6
range = -75,75

[State -2]
type = PosAdd
trigger1 = time = 0
x = var(5)
y = var(6)

[State -2]
type = Varrandom
trigger1 = time = 0
v = 0
range = 1,3

[State -2]
type = Varrandom
trigger1 = time = 0
v = 1
range = 1,2

[State -2]
type = Varrandom
triggerall = var(3) != 10
trigger1 = var(2) >= 160
trigger2 = var(7) >= 160
v = 3
range = 1,30

[State -2]
type = Varset
trigger1 = root,stateno = 4400
trigger1 = root,anim = 4400
trigger1 = root,animelemtime(3) >= 10
v = 3
value = 10

[State -2]
type = PosFreeze
trigger1 = root,var(16) != 0
trigger1 = root,stateno != [2900,2940]
value = 1

[State 2310]
type = Velset
trigger1 = var(1) = 1
y = -0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 1
v = 2
value = 1

[State -2]
type = Varset
trigger1 = var(2) = [1,10]
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) = [11,159]
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) = [11,159]
trigger1 = vel y >= 0
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) >= 160
trigger1 = vel y <= 0.4
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) >= 160
trigger1 = vel y >= 0.4
fv = 0
value = 0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 1
y = fvar(0)

[State 2310]
type = Velset
trigger1 = var(1) = 2
y = 0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 2
v = 7
value = 1

[State -2]
type = Varset
trigger1 = var(7) = [1,10]
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) = [11,159]
trigger1 = vel y >= -0.4
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) = [11,159]
trigger1 = vel y <= 0
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) >= 160
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) >= 160
trigger1 = vel y <= -0.4
fv = 1
value = -0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 2
y = fvar(1)

[State -3]
type = RemoveExplod
trigger1 = var(3) = 10
ID = 6221

[State 50];呪文1
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 1
anim = 6221
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文2
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 2
anim = 6223
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文3
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 3
anim = 6225
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文1消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 1
anim = 6222
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文2消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 2
anim = 6224
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文3消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 3
anim = 6226
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State -2]
type = Varset
trigger1 = numexplod(6222) = 1
v = 4
value = 1

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6221

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6222

[State 1982, 消える]
type = DestroySelf
trigger1 = root,var(19) = 0
trigger2 = numexplod(6222) = 1
trigger2 = var(4) = 1


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界展開時背景演出呪文2（ヘルパー）～メタ世界展開
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3009]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = -9999

[State 1868]
type = SprPriority
trigger1 = 1
value = -9999

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -2]
type = Varrandom
trigger1 = time = 0
v = 5
range = -60,60

[State -2]
type = Varrandom
trigger1 = time = 0
v = 6
range = -75,75

[State -2]
type = PosAdd
trigger1 = time = 0
x = var(5)
y = var(6)

[State -2]
type = Varrandom
trigger1 = time = 0
v = 0
range = 1,3

[State -2]
type = Varrandom
trigger1 = time = 0
v = 1
range = 1,2

[State -2]
type = Varrandom
triggerall = var(3) != 10
trigger1 = var(2) >= 160
trigger2 = var(7) >= 160
v = 3
range = 1,30

[State -2]
type = Varset
trigger1 = root,stateno = 4400
trigger1 = root,anim = 4400
trigger1 = root,animelemtime(3) >= 10
v = 3
value = 10

[State -2]
type = PosFreeze
trigger1 = root,var(16) != 0
trigger1 = root,stateno != [2900,2940]
value = 1

[State 2310]
type = Velset
trigger1 = var(1) = 1
y = -0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 1
v = 2
value = 1

[State -2]
type = Varset
trigger1 = var(2) = [1,10]
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) = [11,159]
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) = [11,159]
trigger1 = vel y >= 0
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) >= 160
trigger1 = vel y <= 0.4
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) >= 160
trigger1 = vel y >= 0.4
fv = 0
value = 0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 1
y = fvar(0)

[State 2310]
type = Velset
trigger1 = var(1) = 2
y = 0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 2
v = 7
value = 1

[State -2]
type = Varset
trigger1 = var(7) = [1,10]
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) = [11,159]
trigger1 = vel y >= -0.4
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) = [11,159]
trigger1 = vel y <= 0
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) >= 160
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) >= 160
trigger1 = vel y <= -0.4
fv = 1
value = -0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 2
y = fvar(1)

[State -3]
type = RemoveExplod
trigger1 = var(3) = 10
ID = 6221

[State 50];呪文1
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 1
anim = 6227
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文2
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 2
anim = 6229
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文3
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 3
anim = 6231
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文1消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 1
anim = 6228
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文2消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 2
anim = 6230
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文3消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 3
anim = 6232
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State -2]
type = Varset
trigger1 = numexplod(6222) = 1
v = 4
value = 1

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6221

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6222

[State 1982, 消える]
type = DestroySelf
trigger1 = root,var(19) = 0
trigger2 = numexplod(6222) = 1
trigger2 = var(4) = 1


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界展開時背景演出呪文3（ヘルパー）～メタ世界展開
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3010]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = -9999

[State 1868]
type = SprPriority
trigger1 = 1
value = -9999

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -2]
type = Varrandom
trigger1 = time = 0
v = 5
range = -60,60

[State -2]
type = Varrandom
trigger1 = time = 0
v = 6
range = -75,75

[State -2]
type = PosAdd
trigger1 = time = 0
x = var(5)
y = var(6)

[State -2]
type = Varrandom
trigger1 = time = 0
v = 0
range = 1,3

[State -2]
type = Varrandom
trigger1 = time = 0
v = 1
range = 1,2

[State -2]
type = Varrandom
triggerall = var(3) != 10
trigger1 = var(2) >= 160
trigger2 = var(7) >= 160
v = 3
range = 1,30

[State -2]
type = Varset
trigger1 = root,stateno = 4400
trigger1 = root,anim = 4400
trigger1 = root,animelemtime(3) >= 10
v = 3
value = 10

[State -2]
type = PosFreeze
trigger1 = root,var(16) != 0
trigger1 = root,stateno != [2900,2940]
value = 1

[State 2310]
type = Velset
trigger1 = var(1) = 1
y = -0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 1
v = 2
value = 1

[State -2]
type = Varset
trigger1 = var(2) = [1,10]
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) = [11,159]
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) = [11,159]
trigger1 = vel y >= 0
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) >= 160
trigger1 = vel y <= 0.4
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) >= 160
trigger1 = vel y >= 0.4
fv = 0
value = 0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 1
y = fvar(0)

[State 2310]
type = Velset
trigger1 = var(1) = 2
y = 0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 2
v = 7
value = 1

[State -2]
type = Varset
trigger1 = var(7) = [1,10]
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) = [11,159]
trigger1 = vel y >= -0.4
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) = [11,159]
trigger1 = vel y <= 0
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) >= 160
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) >= 160
trigger1 = vel y <= -0.4
fv = 1
value = -0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 2
y = fvar(1)

[State -3]
type = RemoveExplod
trigger1 = var(3) = 10
ID = 6221

[State 50];呪文1
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 1
anim = 6233
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文2
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 2
anim = 6235
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文3
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 3
anim = 6237
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文1消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 1
anim = 6234
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文2消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 2
anim = 6236
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文3消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 3
anim = 6238
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State -2]
type = Varset
trigger1 = numexplod(6222) = 1
v = 4
value = 1

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6221

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6222

[State 1982, 消える]
type = DestroySelf
trigger1 = root,var(19) = 0
trigger2 = numexplod(6222) = 1
trigger2 = var(4) = 1


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  メタ世界展開時背景演出呪文4（ヘルパー）～メタ世界展開
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3011]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = -9999

[State 1868]
type = SprPriority
trigger1 = 1
value = -9999

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -2]
type = Varrandom
trigger1 = time = 0
v = 5
range = -60,60

[State -2]
type = Varrandom
trigger1 = time = 0
v = 6
range = -75,75

[State -2]
type = PosAdd
trigger1 = time = 0
x = var(5)
y = var(6)

[State -2]
type = Varrandom
trigger1 = time = 0
v = 0
range = 1,3

[State -2]
type = Varrandom
trigger1 = time = 0
v = 1
range = 1,2

[State -2]
type = Varrandom
triggerall = var(3) != 10
trigger1 = var(2) >= 160
trigger2 = var(7) >= 160
v = 3
range = 1,30

[State -2]
type = Varset
trigger1 = root,stateno = 4400
trigger1 = root,anim = 4400
trigger1 = root,animelemtime(3) >= 10
v = 3
value = 10

[State -2]
type = PosFreeze
trigger1 = root,var(16) != 0
trigger1 = root,stateno != [2900,2940]
value = 1

[State 2310]
type = Velset
trigger1 = var(1) = 1
y = -0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 1
v = 2
value = 1

[State -2]
type = Varset
trigger1 = var(2) = [1,10]
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) = [11,159]
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) = [11,159]
trigger1 = vel y >= 0
fv = 0
value = 0

[State -2]
type = Varadd
trigger1 = var(2) >= 160
trigger1 = vel y <= 0.4
fv = 0
value = 0.00005

[State -2]
type = Varset
trigger1 = var(2) >= 160
trigger1 = vel y >= 0.4
fv = 0
value = 0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 1
y = fvar(0)

[State 2310]
type = Velset
trigger1 = var(1) = 2
y = 0.4
persistent = 0

[State -2]
type = Varadd
trigger1 = var(1) = 2
v = 7
value = 1

[State -2]
type = Varset
trigger1 = var(7) = [1,10]
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) = [11,159]
trigger1 = vel y >= -0.4
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) = [11,159]
trigger1 = vel y <= 0
fv = 1
value = 0

[State -2]
type = Varadd
trigger1 = var(7) >= 160
fv = 1
value = -0.00005

[State -2]
type = Varset
trigger1 = var(7) >= 160
trigger1 = vel y <= -0.4
fv = 1
value = -0.04

[State 2310, 重力]
type = VelAdd
trigger1 = var(1) = 2
y = fvar(1)

[State -3]
type = RemoveExplod
trigger1 = var(3) = 10
ID = 6221

[State 50];呪文1
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 1
anim = 6239
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文2
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 2
anim = 6241
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文3
type = Explod
trigger1 = time = 0
trigger1 = var(0) = 3
anim = 6243
postype = p1
pos = 0,0
ownpal = 1
ID = 6221
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1

[State 50];呪文1消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 1
anim = 6240
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文2消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 2
anim = 6242
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State 50];呪文3消える
type = Explod
trigger1 = numexplod(6221) = 0
trigger1 = time >= 1
trigger1 = var(0) = 3
anim = 6244
postype = p1
pos = 0,0
ownpal = 1
ID = 6222
scale = 0.5,0.5
sprpriority = 4
pausemovetime = 99999999
supermovetime = 99999999
bindtime = -1
persistent = 1

[State -2]
type = Varset
trigger1 = numexplod(6222) = 1
v = 4
value = 1

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6221

[State -3]
type = RemoveExplod
trigger1 = root,var(19) = 0
ID = 6222

[State 1982, 消える]
type = DestroySelf
trigger1 = root,var(19) = 0
trigger2 = numexplod(6222) = 1
trigger2 = var(4) = 1




;■■■■■■■■■■■■■■■■■■■■■■■■■
;魔方陣用ヘルパー2（ヘルパー） 
;v0,1
;f0～
;■■■■■■■■■■■■■■■■■■■■■■■■■

[Statedef 3007]
type    = A
movetype= I
physics = S
velset = 0,0
anim = 6189
ctrl = 0

[State 1947,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1868]
type = SprPriority
trigger1 = 1
value = -10000

[State 636]
type = PosSet
trigger1 = 1
x = parent,pos x - 4
y = 2

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 0.47,0.07


[State 191];演出フラグセット1
type = varset
trigger1 = root,var(19) = 1
trigger1 = var(50)=0
v = 1
value = 1


[State 191];演出フラグセット2
type = varset
trigger1 = var(1)=1
v = 50
value = 1


[State 191]
type = PalFX
trigger1 = var(1) >= 1
mul = 0,120,256
time = 1

;[State 191]
;type = varadd
;trigger1 = var(1) >= 1
;v = 1
;value = 1

;[State 191]
;type = varset
;trigger1 = var(1) = 632
;v = 1
;value = 0





[State 191]
type = PalFX
trigger1 = var(1) >= 1
mul = 256-floor(fvar(0)),256-floor(fvar(1)),0+floor(fvar(2))
time = 1

[State 191]
type = varadd
trigger1 = var(1) = [1,40]
trigger2 = var(1) = [81,120]
trigger3 = var(1) = [161,200]
trigger4 = var(1) = [241,280]
trigger5 = var(1) >= 321
fv = 0
value = 6.2

[State 191]
type = varadd
trigger1 = var(1) = [41,80]
trigger2 = var(1) = [121,160]
trigger3 = var(1) = [201,240]
trigger4 = var(1) = [281,320]
fv = 0
value = -6.2

[State 191]
type = varadd
trigger1 = var(1) = [1,40]
trigger2 = var(1) = [81,120]
trigger3 = var(1) = [161,200]
trigger4 = var(1) = [241,280]
trigger5 = var(1) >= 321
fv = 1
value = 3.4

[State 191]
type = varadd
trigger1 = var(1) = [41,80]
trigger2 = var(1) = [121,160]
trigger3 = var(1) = [201,240]
trigger4 = var(1) = [281,320]
fv = 1
value = -3.4

[State 191]
type = varadd
trigger1 = var(1) = [1,40]
trigger2 = var(1) = [81,120]
trigger3 = var(1) = [161,200]
trigger4 = var(1) = [241,280]
trigger5 = var(1) >= 321
fv = 2
value = 6.2

[State 191]
type = varadd
trigger1 = var(1) = [41,80]
trigger2 = var(1) = [121,160]
trigger3 = var(1) = [201,240]
trigger4 = var(1) = [281,320]
fv = 2
value = -6.2

[State 191]
type = varadd
trigger1 = var(1) >= 1
v = 1
value = 1

[State 191]
type = varset
trigger1 = var(1) = 630
v = 1
value = 0


[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 633];透明にする
type = Trans
trigger1 = root,var(19)=0
trans = addalpha
alpha = 0,256

[State 191];アビリティ魔方陣用
type = varadd
trigger1 = var(1) = [1,5]
v = 0
value = 50

[State 191];アビリティ魔方陣用
type = varset
trigger1 = var(1) = 6
v = 0
value = 256

[State 191];アビリティ魔方陣用
type = varadd
trigger1 = var(1) = [300,325]
v = 0
value = -10

[State 191];アビリティ魔方陣用
type = varset
trigger1 = var(1) >= 326
v = 0
value = 0

[State 191]
type = varset
trigger1 = var(1) = 0
v = 50
value = 0

[State 191]
type = varset
trigger1 = var(1) >= 326
fv = 0
value = 0

[State 191]
type = varset
trigger1 = var(1) >= 326
fv = 1
value = 0

[State 191]
type = varset
trigger1 = var(1) >= 326
fv = 2
value = 0





;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■喰らった相手その1
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3020]
type    = A
movetype= H
physics = N
velset = 0,0
ctr = 0

[State 3020]
type = LifeAdd
trigger1 = time = 0
value = -(LifeMax / 90)
absolute = 1;防御力無視
kill=0

[State 3020, 速度設定]
type =velset
trigger1 = time =60
x =-20

[State 3020, 相手をすり抜ける]
type = PlayerPush
trigger1 = 1
value = 0

[State 3905,地面めり込み対応]
Type =Posset
Trigger1 =Pos y >0
Trigger1 = time =0
y=0

[State 3020, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3020

[State 3020, 音]
type = PlaySnd
trigger1 = backedgebodydist <= 10
value = F7,2

[State -1, Explod]
Type = Explod
trigger1 = backedgebodydist <= 10
Anim = F72
ID = 72
Postype = p1
Pos = -40,0 
scale = 1,1
Ownpal = 1
SprPriority = 8
bindtime = -1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State 3020,画面ゆらす]
type = EnvShake
trigger1 = backedgebodydist <= 10
time = 30
freq = 60
ampl = -8
phase = 90

[State 3020, バウンド]
type = velset
trigger1 = backedgebodydist <= 10
x = 1
y = -3

[State 3020, ステート変更]
type = SelfState
trigger1 = backedgebodydist <= 10
value = 5050 ;common1.cns参照

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = IsHelper;ヘルパーなら削除

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■喰らった相手その2
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3030]
type    = A
movetype= H
physics = N
velset = 0,0
ctr = 0

[State 3030]
type = LifeAdd
trigger1 = time = 0
value = -(LifeMax / 7)
absolute = 1;防御力無視
kill=1

[State 3030, 速度設定]
type =velset
trigger1 = time =10
x =-20

[State 3030, 相手をすり抜ける]
type = PlayerPush
trigger1 = 1
value = 0

[State 3030,地面めり込み対応]
Type =Posset
Trigger1 =Pos y >0
Trigger1 = time =0
y=0

[State 3030, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5030

[State 3030, 音]
type = PlaySnd
trigger1 = backedgebodydist <= 10
value = F7,2

[State -1, Explod]
Type = Explod
trigger1 = backedgebodydist <= 10
Anim = F72
ID = 72
Postype = p1
Pos = -40,0 
scale = 1,1
Ownpal = 1
SprPriority = 8;-1
bindtime = -1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State 3030,画面ゆらす]
type = EnvShake
trigger1 = backedgebodydist <= 10
time = 30
freq = 60
ampl = -8
phase = 90

[State 3030, バウンド]
type = velset
trigger1 = backedgebodydist <= 10
x = 1
y = -3

[State 3030, ステート変更]
type = SelfState
trigger1 = backedgebodydist <= 10
value = 5050 ;common1.cns参照

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = IsHelper;ヘルパーなら削除




;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール_キルシュアイゼン(古戸ヱリカ本体)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3200]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 3200
sprpriority = 1
velset =0,0
ctrl = 0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State 3200];タッチゲージ値を0に
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 3200];タッチゲージ増加制御～ガードブレイク
type = varset
trigger1 = time = 0
fv = 3
value = 3

[State 3200, 1];パートナーSPゲージ減少
type = Varadd
trigger1 = time = 0
v = 58
value = -200
ignorehitpause=1


[State 3200, 演出無敵]
Type = NotHitBy
Trigger1 = time = 0
Value = SCA
Time = 100

[State 3200, 押せなくする]
type = PlayerPush
trigger1 = 1
value = 0

[State 3200, 画面固定]
Type = screenbound
Trigger1 =time =[0,100]
Value = 0;画面外へ行ける
movecamera=0,0


[State 3200]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 40

[State 3200]
type = superpause
trigger1 = time = 1
time = 45
movetime = 45
anim = s9999
darken = 0
SprPriority = 0

[State 3200,バックジャンプ開始]
type = Velset
trigger1 = animelemtime(6) = 1
x=-16
y=-8

[State 3200, ジャンプ音]
type = PlaySnd
trigger1 = animelemtime(6)=1
value = s6, 4
volume =255
persistent =0

[State 3200,移動停止]
type = Velset
trigger1 = animelemtime(12) = 1
x=0
y=0

[State 4300,空中停止]
type = Posset
trigger1 = animelemtime(12) = 1
y=-80

[State 3200, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) <1
Trigger2 =animelemtime(12) >1
Value = 0;画面外へ行ける
movecamera=0,0

[State 3200, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) =1
Value = 1;画面外から戻る
movecamera=0,0

[State 3200,重力設定]
type = StateTypeSet
trigger1 =  animelemtime(13) = 1
physics =  A
persistent = 0


[State 3200,前ジャンプで戻る]
type = Velset
trigger1 = animelemtime(13) = -1
x=8
y=16


[State 3200];ジャンプ時の残像
type = AfterImage
;trigger1 = animelemtime(6)=1
trigger1 = animelemtime(13)=1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State -1, ドラノール呼び出し]
Type     = Helper
trigger1 = time =0
Stateno  = 3220
ID       = 365
Pos      = 0,0
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 60
PauseMoveTime = 60
IgnoreHitPause = 1
Persistent = 0
facing = 1

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール_キルシュアイゼン(ドラノール)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3220]
type    = S
movetype= A
physics =S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = 0
anim =3220

[State 3220];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

[State 3200, 必殺音]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = s12, 2
volume =255
persistent =0

[State 3200, 必殺エフェクト]
type = Explod
trigger1 = animelemtime(1) =1
anim = 7040
scale = 1,1
postype = p1
pos =-5,-44
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State -1, コーネリアカットイン]
Type = Explod
Trigger1 = Time = 3
Anim = 8799
ID = 8799
Postype = back
pos = root,var(51)-230-57,-10+33
scale = 0.5,0.5
Ownpal = 1
SprPriority = -2
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999
facing =1

[State -1, ドラノールカットイン]
Type = Explod
Trigger1 = Time = 0
Anim = 8798
ID = 8798
Postype = back
pos = root,var(51)-230,-10
scale = 0.5,0.5
Ownpal = 1
SprPriority = -3
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999
facing =1

[State -1, ガートルードカットイン]
Type = Explod
Trigger1 = Time = 6
Anim = 8797
ID = 8797
Postype = back
pos = root,var(51)-230-10,-10-35
scale = 0.5,0.5
Ownpal = 1
SprPriority = -4
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999
facing =1


[State 3200, 掛け声1:ガートルード、コーネリア]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = s105, 0
volume =255
persistent =0

[State 3200, 掛け声2:我らの結界は完璧なり]
type = PlaySnd
trigger1 = animelemtime(4)=1
value = s105, 1
volume =255
persistent =0


[State -1, ガートルード登場エフェクト]
Type = Explod
Trigger1 = Time = 1
Anim = 7890
ID = 7890
Postype = P1
pos = -39,-80
scale = 1,1
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1

[State -1, ガートルード本体]
Type = Explod
Trigger1 = Time = 6
Anim = 3230
ID = 3230
Postype = P1
pos = -8,-3
scale = 0.5,0.5
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1

[State -1, ガートルード退場エフェクト]
Type = Explod
Trigger1 = animelemTime(27) = 1
Anim = 7891
ID = 7891
Postype = P1
pos = -5,-87
scale = 1,1
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1

[State -1, ガートルード結界エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(5) = 1
helpertype = normal
name = "EFECT"
ID = 3230
pos = 0, 0
postype = p1
facing = 1
stateno = 3230
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 0
pausemovetime = 0
persistent=0
ignorehitpause=0


[State -1, コーネリア登場エフェクト]
Type = Explod
Trigger1 = Time = 4
Anim = 7890
ID = 7890
Postype = P1
pos = -84,-60
scale = 1,1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1


[State -1, コーネリア本体]
Type = Explod
Trigger1 = Time = 9
Anim = 3240
ID = 3240
Postype = P1
pos = -60,10
scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1

[State -1, コーネリア退場エフェクト]
Type = Explod
Trigger1 = animelemTime(27) = 1
Anim = 7891
ID = 7891
Postype = P1
pos = -60,-67
scale = 1,1
Ownpal = 1
SprPriority = 4
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 61
PauseMoveTime = 61
facing =1

[State -1, コーネリア結界エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(5) = 1
helpertype = normal
name = "EFECT"
ID = 3240
pos = 0, 0
postype = p1
facing = 1
stateno = 3240
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 0
pausemovetime = 0
persistent=0
ignorehitpause=0

[State -1, ダッシュエフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(5) = 1
helpertype = normal
name = "EFECT"
ID = 7160
pos = 0, 0
postype = p1
facing = 1
stateno = 7160
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State 3220, 揺らす]
type = EnvShake
Trigger1 = animelemtime(5) = 1
time = 8
freq = 90
ampl = -4


[State 3300, ワープ音]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = s12, 12
Volume =0

[State 3220, ダッシュ音]
type = PlaySnd
Trigger1 = animelemtime(5) = 1
value = s6,6
persistent= 0

[State 3220,移動]
type = Velset
trigger1 = animelemtime(5) >= 1 && animelemtime(26)< 1 
x=7.0

[State 3220,画面外にでないよう位置補正]
type= posadd
trigger1 = FrontEdgeBodyDist < 60
x= FrontEdgeBodyDist-60

[State 3220,画面外にでないよう位置補正]
type= posadd
trigger1 = BackEdgeBodyDist < 15
x= BackEdgeBodyDist+15


[State 3220, ヒット定義]
type = HitDef
trigger1 = animelemtime(5)=1
attr = , HA
damage = 200, 45
animtype = DiagUp
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 22, 28+ifelse((var(45)=1),1,0)
sparkno = -1;s7020
guard.sparkno = -1;s7500
sparkxy = -28, -63
hitsound = s12, 7
guardsound = s6, 3
ground.type = hard
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -16,-12
airguard.velocity = -16,-12
air.type = hard
air.velocity = -16,-12
air.hittime = 16
p2facing=1
fall=1
fall.recovertime =180
fall.recover=0
yaccel = 0.48
fall.yvelocity = -4.5
ground.cornerpush.veloff = -10
persistent=0
fall.envshake.time = 11
envshake.time = 11
sprpriority =2

[State 3220, ダッシュ中煙エフェクトヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(5)>=1 && animelemtime(26)<=1
trigger1 = time%4 = 0
helpertype = normal
name = "land"
ID = 7095
pos = -0,2
postype = p1
stateno = 7095
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3220, ダッシュ中バリアエフェクト呼び出し]
type = Explod
trigger1 = animelemtime(5)>=1 && animelemtime(26)<=1
anim = 7735
postype = p1
pos = 30, -70
ownpal = 1
scale = 1.0,1.5
sprpriority = 4
facing = 1
pausemovetime = 0
supermovetime = 0
ignorehitpause=1
persistent=18
bindtime =-1

[State 3300, ダッシュ停止音]
type = PlaySnd
trigger1 = animelemtime(26)=1
value = s6,1;s12, 5
Volume =255

[State 3300, ワープ音]
type = PlaySnd
trigger1 = animelemtime(26)=1
value = s12, 12
Volume =0

[State 3300, 煙エフェクトヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(26)=1
helpertype = normal
name = "land"
ID = 7096
pos = 0,2
postype = p1
stateno = 7096
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 3220, 勝利時のステート変更]
type = ChangeState
trigger1 = animelemtime(38) = 1
Trigger1 = WINKO
value = 1300


[State 3220, 掛け声用ランダム]
type = VarRandom
trigger1 = animelemtime(41) = 1
V = 11
Range = 0,1
IgnoreHitPause = 1

[State 3220, 掛け声]
type = PlaySnd
trigger1 = animelemtime(41) = 1
value = s101, var(11)
persistent= 0
volume =0

[State 3220, 飛び去りステート変更]
type = changestate
Trigger1 = animtime = 0
value = 2520

[State -1,ヒットエフェクト] 
type = Explod
trigger1 = Movehit
anim = 7140
postype = p1
pos = 50, -70
ownpal = 1
scale = 1.5,1.5
sprpriority = 10
facing = 1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

[State -1,ガードエフェクト] 
type = Explod
trigger1 = MoveGuarded
anim = 7021
postype = p1
pos = 50, -70
ownpal = 1
scale = 1,1
sprpriority = 9
facing = 1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0


;■障壁エフェクト(赤)
[Statedef 3230]
Type = A
Physics = N
anim = 7900
SprPriority = 2
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
type = posset
trigger1 = 1
x= Parent,Pos X
y= Parent,Pos Y

[State -1]
type = posadd
trigger1 = 1
x= 55
y= -85

[State -1]
type = PalFX
trigger1 = 1
mul = 256,128,196
time = 16
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 7160, 消える]
type = DestroySelf
trigger1 = animtime =0

;■障壁エフェクト(赤_長時間)
[Statedef 3231]
Type = A
Physics = N
anim = 7901
SprPriority = 2

;[State -1]
;type = posset
;trigger1 = 1
;x= Parent,Pos X
;y= Parent,Pos Y

;[State -1]
;type = posadd
;trigger1 = 1
;x= 55
;y= -85

[State -1]
type = PalFX
trigger1 = 1
mul = 256,128,196
time = 16
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 7160, 消える]
type = DestroySelf
trigger1 = animtime =0

;■障壁エフェクト(青)
[Statedef 3240]
Type = A
Physics = N
anim = 7900
SprPriority = 3
SuperMoveTime = 0
PauseMoveTime = 0

[State -1]
type = posset
trigger1 = 1
x= Parent,Pos X
y= Parent,Pos Y

[State -1]
type = posadd
trigger1 = 1
x= 0
y= -60

[State -1]
type = PalFX
trigger1 = 1
mul = 196,128,256
time = 16
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 7160, 消える]
type = DestroySelf
trigger1 = animtime =0

;■障壁エフェクト(青_長時間)
[Statedef 3241]
Type = A
Physics = N
anim = 7901
SprPriority = 3
SuperMoveTime = 0
PauseMoveTime = 0

;[State -1]
;type = posset
;trigger1 = 1
;x= Parent,Pos X
;y= Parent,Pos Y

;[State -1]
;type = posadd
;trigger1 = 1
;x= 0
;y= -60

[State -1]
type = PalFX
trigger1 = 1
mul = 196,128,256
time = 16
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 7160, 消える]
type = DestroySelf
trigger1 = animtime =0


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール、赤鍵と青鍵
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3300]
type    = S
movetype= A
physics =S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 1
poweradd = 0
anim =3300

[State 3300];タッチゲージ値を0に
type = ParentVarset
trigger1 = time = 0
v = 28
value = 0

[State 3300];タッチゲージ増加制御～ガードブレイク
type = Parentvarset
trigger1 = time = 0
fv = 3
value = 3

[State 3300, 1];パートナーSPゲージ減少
type = ParentVaradd
trigger1 = time = 0
v = 58
value = -100
ignorehitpause=1


[State 3300]
type = posset
Trigger1 = time =0
y=0

[State 3300];ダッシュ音を鳴らす
type = PlaySnd
trigger1 = Time = 0
value = s12, 11
volume=255

[State 3300, 掛け声用ランダム]
type = VarRandom
Trigger1 = Time = 0
V = 11
Range = 2,4
IgnoreHitPause = 1

[State 3300, 掛け声]
type = PlaySnd
Trigger1 = Time = 0
value = s100, var(11)
persistent= 0
channel =0
volume=255


[State 3300, 1]
type = ChangeState
trigger1 = 1
value = 3305


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール、赤鍵と青鍵の射撃破壊
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3304]
type    = U
;movetype= A
;physics =S
velset = 0,0
poweradd = 200
anim=3300

[State -1, 半透明剣エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

[State 3300, nothitby];一時的な無敵
Type=nothitby
Trigger1=1
Time=1
Value=SCA
Ignorehitpause=1

[State -1,ガードエフェクト] 
type = Explod
trigger1 =  time =0
trigger2 =  time =1
trigger3 =  time =2
anim = 7021
postype = p1
pos = 60, -60
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1


[State 3310];はじく音
type = PlaySnd
trigger1 = Time =0
value = s1, 6
Volume=255

[State 3304, 1]
type = ChangeState
trigger1 = time >=15
value = 3305

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール、赤鍵と青鍵
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3305]
type    = S
movetype= A
physics =S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 1
poweradd = 0
anim =3300

[State -1, 半透明剣エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

;[State 3300, 画面固定]
;Type = screenbound
;Trigger1 =1
;Value = 0;画面外へ行ける
;movecamera=0,0


;[State 3300,ダッシュアニメへチェンジ]
;type =ChangeAnim
;trigger1 = time =0
;value = 3300
;elem = 1

[State 3300,速度固定]
type =velset
trigger1 = 1
x=5.5


[State 3300, nothitby];投げ無敵
Type=nothitby
Trigger1=1
Time=-1
Value=,NT,ST,HT
Ignorehitpause=1

[State 2211, 3];打撃、射撃の相殺
type = HitOverRide
trigger1 = 1
time = -1
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 3304;一度、射撃破壊エフェクトステートへ飛ぶ
slot =1
　
;[State 3300];喰らいステートに移行
;type = HitOverRide
;trigger1 = time = 0
;time = -1
;attr = SCA,NA,SA,HA
;slot = 0
;stateno = 2530

[State 3300, ダッシュ中煙エフェクトヘルパー呼び出し]
type = Helper
trigger1 = time%4 = 0
helpertype = normal
name = "land"
ID = 7095
pos = -30,2
postype = p1
stateno = 7095
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0


[State 3300, ステート変更]
type = changestate
Trigger1 = P2BodyDist X <= 80
Trigger2 = time >=180;予備終了
value = 3310

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ドラノール、赤鍵と青鍵2
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3310]
type    = S
movetype= A
physics =S
juggle  = 0
ctrl = 0
sprpriority = 1
poweradd = 0
anim =3310

[State -1, 半透明剣エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

[State 3310, nothitby];無敵
Type=nothitby
Trigger1=1
Time=-1
Value=SCA
Ignorehitpause=1

[State 52, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "land"
ID = 7016
pos = 30,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 52, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "land"
ID = 7017
pos = 30,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999


[State 3310];振る音
type = PlaySnd
trigger1 = AnimelemTime(3) = 1
value = s0, 3

[State 3310, 掛け声用ランダム]
type = VarRandom
Trigger1 = Time = 1
V = 11
Range = 5,7
IgnoreHitPause = 1

[State 3310, 掛け声]
type = PlaySnd
trigger1 = animelemTime(1) = 1
value = s100, var(11)
persistent= 0
volume=255


[State -1, 赤鍵の軌跡エフェクト]
Type = Explod
Trigger1 = animelemtime(4)=1
Anim = 7870
ID = 7870
Postype = P1
Pos = 55,-13
scale = 1,1
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
facing =1
bindtime=-1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
persistent=0

[State -1, 青鍵の軌跡エフェクト]
Type = Explod
Trigger1 = animelemtime(5)=1
Anim = 7880
ID = 7880
Postype = P1
Pos = 10,-18
scale = 1,1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
facing =1
bindtime=-1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
persistent=0

[State 3310, ヒット定義]
type = HitDef
trigger1 = animelemtime(7)=1
attr = , SA
damage = 95, 30
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 20, 38+ifelse((var(45)=1),1,0)
guard.pausetime=20, 18+ifelse((var(45)=1),1,0)
sparkno = -1;s7020
guard.sparkno = -1;s7500
sparkxy = -28, -63
hitsound = s1, 4
guardsound = s1, 7
ground.type = high
ground.slidetime = 32
ground.hittime  = 32
ground.velocity = -6,-0
air.velocity = -6.0,-4
airguard.velocity = -6,-4
air.type = High
air.hittime = 16
fall=0
fall.recovertime =120
fall.recover=0
persistent=0
yaccel = 0.48
fall.yvelocity = -4.5
ground.cornerpush.veloff = -10




[State 3310,ヒット定義1]
type = null;projectile
trigger1 = animelemtime(6)=1
postype =P2
projanim = 3311
projremovetime = 8
projhitanim = -1
projid =3311;これは入れたほうが制御しやすいです。
offset = 0,-5
velocity = 0,0
projremove=0;貫通弾
ProjHitAnim=-1
;projremanim=7920
remvelocity = 0, 0;消えるときの速度
attr = S, HA
animtype = hard
damage =  85, 30
hitflag = MAF
guardflag = M
pausetime = 0,38+ifelse((var(45)=1),1,0)
guard.pausetime=0,20
sparkky = 120,-120
sparkno = s7202
hitsound =s1,4 
guardsound =s1,7
guard.sparkno = -1;s7510
ground.type = high
ground.slidetime = 24
ground.hittime = 24
ground.velocity = -6.0,0
air.velocity = -6.0,-4
;guard.velocity = 0.25,-4
airguard.velocity =-6.0,-4
fall=0
fail.recover=0
fail.recovertime=120
SuperMoveTime = 0
PauseMoveTime = 0
kill=1
persistent=0
yaccel = 0.48
fall.yvelocity = -4.5
;projedgebound =120
;projheightbound=-120,120


[State -1, ヒットポーズ]
type = null;Pause
trigger1 = root,Projcontact(3311)=1
time = 11
movetime = 0
persistent= 0

;[State -1, ヒットポーズ]
;type = ChangeAnim
;trigger1 = root,Projcontact(3311)=1
;value = 3315
;elem = 7
;persistent =0

[State -1, 斬撃ヒットエフェクト中呼び出し]
type = Helper
trigger1 = movehit>=1
helpertype = normal
name = "EFECT"
ID = 7021
pos = 85, -70
postype = p1
facing = 1
stateno = 7021
keyctrl = 0
ownpal = 0
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト大呼び出し]
type = Helper
trigger1 = moveHit>=1
helpertype = normal
name = "EFECT"
ID = 7022
pos = 85, -70
postype = p1
facing = 1
stateno = 7022
keyctrl = 0
ownpal = 0
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State -1, 斬撃ガードエフェクト呼び出し]
type = Helper
trigger1 =  moveGuarded>=1
helpertype = normal
name = "EFECT"
ID = 7023
pos = 85, -70
postype = p1
facing = 1
stateno = 7023
keyctrl = 0
ownpal = 0
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State 3310, 勝利時のステート変更]
type = ChangeState
trigger1 = animelemtime(16) = 1
Trigger1 = WINKO
value = 1300

[State 3310, 掛け声用ランダム]
type = VarRandom
trigger1 = animelemtime(24) = 1
V = 11
Range = 0,1
IgnoreHitPause = 1

[State 3310, 掛け声]
type = PlaySnd
trigger1 = animelemtime(24) = 1
value = s101, var(11)
persistent= 0



[State 3310, 飛び去りステート変更]
type = changestate
Trigger1 = animtime = 0
value = 2520


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ヘイリッヒ・トーデスルタイル(古戸ヱリカ本体)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3400]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 3400
sprpriority = 1
velset =0,0
ctrl = 0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

;[State 3400,ゲージ技使用回数カウント]
;type=varadd
;Trigger1 =time =0 
;V=40
;Value =1

[State 3400];タッチゲージ値を0に
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 3400];タッチゲージ増加制御～ガードブレイク
type = varset
trigger1 = time = 0
fv = 3
value = 3

[State 3400, 1];パートナーSPゲージ減少
type = Varadd
trigger1 = time = 0
v = 58
value = -300
ignorehitpause=1


[State 3400, 演出無敵]
Type = NotHitBy
Trigger1 = time = 0
Value = SCA
Time = 100

[State 3400, 押せなくする]
type = PlayerPush
trigger1 = 1
value = 0

[State 3400, 画面固定]
Type = screenbound
Trigger1 =time =[0,100]
Value = 0;画面外へ行ける
movecamera=0,0




[State 3400]
type = superpause
trigger1 = time = 1
time = 38
movetime = 38
anim = s9999
darken = 0
SprPriority = 0

[State 3400,バックジャンプ開始]
type = Velset
trigger1 = animelemtime(6) = 1
x=-16
y=-8

[State 3400, ジャンプ音]
type = PlaySnd
trigger1 = animelemtime(6)=1
value = s6, 4
volume =255
persistent =0

[State 3400,移動停止]
type = Velset
trigger1 = animelemtime(12) = 1
x=0
y=0

[State 3400,空中停止]
type = Posset
trigger1 = animelemtime(12) = 1
y=-80

[State 3400, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) <1
Trigger2 =animelemtime(12) >1
Value = 0;画面外へ行ける
movecamera=0,0

[State 3400, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) =1
Value = 1;画面外から戻る
movecamera=0,0

[State 3400,重力設定]
type = StateTypeSet
trigger1 =  animelemtime(13) = 1
physics =  A
persistent = 0


[State 3400,前ジャンプで戻る]
type = Velset
trigger1 = animelemtime(13) = -1
x=8
y=16


[State 3400];ジャンプ時の残像
type = AfterImage
;trigger1 = animelemtime(6)=1
trigger1 = animelemtime(13)=1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State -1, ドラノール呼び出し]
Type     = Helper
trigger1 = time =0
Stateno  = 3410
ID       = 365
Pos      = 0,0
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 60
PauseMoveTime = 60
IgnoreHitPause = 1
Persistent = 0
facing = 1

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ヘイリッヒ・トーデスルタイル(ドラノール)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3410]
type    = S
movetype= A
physics =S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = 0
anim =3410


[State 3400]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State 3410,画面外にでないよう位置補正]
type= posadd
trigger1 = FrontEdgeBodyDist < 30
x= FrontEdgeBodyDist-30

[State 3410,画面外にでないよう位置補正]
type= posadd
trigger1 = BackEdgeBodyDist < 30
x= -BackEdgeBodyDist+30

[State 3410];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3410]
type = Velset
trigger1 = Animelemtime(4)>=1 && Animelemtime(13)<=1
x=9

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

[State 3410, 必殺音]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = s12, 2
volume =255
persistent =0

[State 3410, 必殺エフェクト]
type = Explod
trigger1 = animelemtime(1) =1
anim = 7040
scale = 1,1
postype = p1
pos =-5,-44
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State -2,カットイン]
type = Explod
trigger1 = animelemtime(1) =1
anim = 8900
ID = 8900
postype = back
pos = 0,120
facing = 1
scale = 0.5,0.5
ownpal = 1
sprpriority = -3
pausemovetime = 999999999
supermovetime = 999999999

[State -2,カットイン（剣）]
type = Explod
trigger1 = animelemtime(1) =1
anim = 8901
ID = 8901
postype = back
pos = 0,120
facing = 1
scale = 0.5,0.5
ownpal = 1
sprpriority = -2
pausemovetime = 999999999
supermovetime = 999999999

[State 3400,受けてもらいます]
type = PlaySnd
trigger1 = animelemtime(2) =1
value = s105, 2
volume=0

[State 3400];ダッシュ音を鳴らす
type = PlaySnd
trigger1 = animelemtime(4) =1
value = s12, 11
volume=255

[State 3400, ダッシュ中煙エフェクトヘルパー呼び出し]
type = Helper
trigger1 = time%4 = 0
trigger1 = Animelemtime(4)>=1 && Animelemtime(14)<=1
helpertype = normal
name = "land"
ID = 7095
pos = -30,2
postype = p1
stateno = 7095
keyctrl = 0
ownpal = 0
supermovetime = 99999
pausemovetime = 99999

[State 52, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = Animelemtime(14)=1
helpertype = normal
name = "land"
ID = 7016
pos = 30,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 52, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = Animelemtime(14)=1
helpertype = normal
name = "land"
ID = 7017
pos = 30,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 3410, ヒット定義]
type = HitDef
Trigger1 = 1;animelem =5
attr = S, HT
hitflag = MAFD
guardflag = MA
pausetime = 4, 18+ifelse((var(45)=1),1,0)       
priority = 5, miss    ;投げなので優先度を低く、かつmissかdodgeの属性でなければなりません
sparkno = -1          ;-1にすればヒットスパークが表示しなくなります
hitsound   = s12,42
sparkxy = -28, -63
;p1facing = ifelse(command = "holdfwd", -1, 1) ;攻撃が当たった時の自分の向き ★６
p2facing = 1          ;攻撃が当たった時の相手の向き
p1stateno = 3420
p2stateno = 3430       ;相手を制御するステートに行かせる
;guard.dist = 0        ;相手がガード状態に移行出来る距離（現在は0なのでガード不可）
fall = 0              ;1にすれば相手がダウン状態になる
hitonce =0            ;複数にヒット
yaccel = 0.48
guardsound = s6, 3
ground.type = hard
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -10
airguard.velocity = -10
air.type = hard
kill=0
P1SprPriority =2
persistent =0

[State 3410, 掛け声用ランダム]
type = VarRandom
trigger1 = animelemtime(27) = 1
V = 11
Range = 0,1
IgnoreHitPause = 1

[State 3410, 掛け声]
type = PlaySnd
trigger1 = animelemtime(27) = 1
value = s101, var(11)
persistent= 0

[State 3410, 飛び去りステート変更]
type = changestate
Trigger1 = animtime = 0
value = 2520


;■攻撃成功ドラノール■■■■■■■■■■■■■■
[Statedef 3420]
type     = S                     ;キャラの状態を指定（S=立ち・C=しゃがみ・A=空中・L=横に倒れている・U=前のステートの状態を引き継ぐ）
movetype = A                     ;キャラの行動内容を指定（I=何もしない・A=攻撃している・H=攻撃を食らっている）
physics  = S                     ;キャラの物理的な体勢（S=立ち・C=しゃがみ・A=空中・N=重力や摩擦の影響を受けない・U=前のステートの体勢を引き継ぐ）
juggle   = 0                     ;攻撃を当てた時に溜まるジャグルポイントの設定
velset   = 0,0                   ;移動初速度の設定（このステートでは0,0なので移動せず止まります）
ctrl     = 0                     ;コントロールの可否（0=キー操作不可・1=キー操作可能）
anim     = 3420                   ;airファイルの[Begin Action 200]のアニメを使っています
poweradd = 0                    ;パワーゲージの増加量を設定
sprpriority = 2                  ;画像表示優先度　数値が多いと手前に、少ないと奥に優先されます

[State 3420]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State 3420, 自分の位置]
type = Posadd
Trigger1 = BackEdgeBodyDist<6
x= -BackEdgeBodyDist+6

[State 3420, 相手の位置]
type = TargetBind
trigger1 = AnimElemTime(74) <= 1
pos = 70, 0

[State -1, ヒットエフェクト1]
Type = Explod
trigger1 = time =0
anim  = 7140
id= 7140
scale = 1,1
Pos      = 0,-80
PosType  = P2
OwnPal   = 1
bindtime = -1
removeongethit = 1
SuperMoveTime =100
PauseMoveTime = 100
sprpriority = 20
facing = 1
vfacing = 1
IgnoreHitPause = 1
persistent=0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7776

[State 3420]
type = superpause
trigger1 = animelemtime(1) = 1
time = 300
movetime = 300
anim = s9999
darken = 0
SprPriority = 0
unhittable=0

[State 3420, デスデスデス～]
type = PlaySnd
trigger1 = animelemtime(4) = 1
trigger2 = animelemtime(14) = 1
trigger3 = animelemtime(24) = 1
trigger4 = animelemtime(34) = 1
value = s105,3
Volume=-255
channel=1
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 3420]
type = PlaySnd
trigger1 = animelemtime(20) = 1
value = s105,4
Volume=255
channnel=0
SuperMoveTime = 99999999
PauseMoveTime = 99999999

[State 3420, 召喚音]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = s12,12
Volume=255

[State 3420, 退避音]
type = PlaySnd
trigger1 = animelemtime(55) = 1
value = s12,12
Volume=255

[State -1, ガートルード登場エフェクト]
Type = Explod
trigger1 = animelemtime(1) = 1
Anim = 7890
ID = 7890
Postype = P1
pos = 10,-80
scale = 1,1
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =1

[State -1, ガートルード呼び出し]
type = Helper
Trigger1 = animelemtime(1) = 1
helpertype = normal
name = "EFECT"
ID = 3460
pos = 10,0
postype = p1
facing = 1
stateno = 3460
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 999999
pausemovetime = 999999
persistent=0
ignorehitpause=0

[State -1, コーネリア登場エフェクト]
Type = Explod
trigger1 = animelemtime(1) = 1
Anim = 7890
ID = 7890
Postype = P1
pos = 155,-80
scale = 1,1
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =-1

[State -1, コーネリア呼び出し]
type = Helper
Trigger1 = animelemtime(1) = 1
helpertype = normal
name = "EFECT2"
ID = 3470
pos = 155,0
postype = p1
facing = -1
stateno = 3470
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 999999
pausemovetime = 999999
persistent=0
ignorehitpause=0


[State -1, 剣(水平1)呼び出し]
type = Helper
trigger1 = animelemtime(3) = 3
trigger2 = animelemtime(18) = 3
trigger3 = animelemtime(33) = 3
trigger4 = animelemtime(48) = 3
helpertype = normal
name = "sword"
ID = 3440
pos = 30, -66
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(水平2)呼び出し]
type =Helper
trigger1 = animelemtime(4) = 3
trigger2 = animelemtime(19) = 3
trigger3 = animelemtime(34) = 3
trigger4 = animelemtime(49) = 3
helpertype = normal
name = "sword"
ID = 4000
pos = 62, -69
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(水平3)呼び出し]
type = Helper
trigger1 = animelemtime(5) = 3
trigger2 = animelemtime(20) = 3
trigger3 = animelemtime(35) = 3
trigger4 = animelemtime(50) = 3
helpertype = normal
name = "sword"
ID = 4000
pos = 47, -68
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上1)呼び出し]
type = Helper
trigger1 = animelemtime(6) = 3
trigger2 = animelemtime(21) = 3
trigger3 = animelemtime(36) = 3
trigger4 = animelemtime(51) = 3
helpertype = normal
name = "sword"
ID = 3441
pos = 20, -86
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上2)呼び出し]
type = Helper
trigger1 = animelemtime(7) = 3
trigger2 = animelemtime(22) = 3
trigger3 = animelemtime(37) = 3
trigger4 = animelemtime(52) = 3
helpertype = normal
name = "sword"
ID = 4001
pos = 55, -100
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上3)呼び出し]
type = Helper
trigger1 = animelemtime(8) = 3
trigger2 = animelemtime(23) = 3
trigger3 = animelemtime(38) = 3
trigger4 = animelemtime(53) = 3
helpertype = normal
name = "sword"
ID = 4001
pos = 35, -91
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下1)呼び出し]
type = Helper
trigger1 = animelemtime(9) = 3
trigger2 = animelemtime(24) = 3
trigger3 = animelemtime(39) = 3
trigger4 = animelemtime(54) = 3
helpertype = normal
name = "sword"
ID = 3442
pos = 27, -50
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下2)呼び出し]
type = Helper
trigger1 = animelemtime(10) = 3
trigger2 = animelemtime(25) = 3
trigger3 = animelemtime(40) = 3
trigger4 = animelemtime(55) = 3
helpertype = normal
name = "sword"
ID = 4002
pos = 56, -46
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下3)呼び出し]
type = Helper
trigger1 = animelemtime(11) = 3
trigger2 = animelemtime(26) = 3
trigger3 = animelemtime(41) = 3
trigger4 = animelemtime(56) = 3
helpertype = normal
name = "sword"
ID = 4002
pos = 37, -49
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上2_1)呼び出し]
type = Helper
trigger1 = animelemtime(12) = 3
trigger2 = animelemtime(27) = 3
trigger3 = animelemtime(42) = 3
trigger4 = animelemtime(57) = 3
helpertype = normal
name = "sword"
ID = 3443
pos = 24, -75
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上2_2)呼び出し]
type = Helper
trigger1 = animelemtime(13) = 3
trigger2 = animelemtime(28) = 3
trigger3 = animelemtime(43) = 3
trigger4 = animelemtime(58) = 3
helpertype = normal
name = "sword"
ID = 4003
pos = 58, -85
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右上2_3)呼び出し]
type = Helper
trigger1 = animelemtime(14) = 3
trigger2 = animelemtime(29) = 3
trigger3 = animelemtime(44) = 3
trigger4 = animelemtime(59) = 3
helpertype = normal
name = "sword"
ID = 4003
pos = 38, -81
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下2_1)呼び出し]
type = Helper
trigger1 = animelemtime(15) = 3
trigger2 = animelemtime(30) = 3
trigger3 = animelemtime(45) = 3
trigger4 = animelemtime(60) = 3
helpertype = normal
name = "sword"
ID = 3444
pos = 20, -40
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下2_2)呼び出し]
type = Helper
trigger1 = animelemtime(16) = 3
trigger2 = animelemtime(31) = 3
trigger3 = animelemtime(46) = 3
trigger4 = animelemtime(61) = 3
helpertype = normal
name = "sword"
ID = 4004
pos = 48, -30
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 剣(右下2_3)呼び出し]
type = Helper
trigger1 = animelemtime(17) = 3
trigger2 = animelemtime(32) = 3
trigger3 = animelemtime(47) = 3
trigger4 = animelemtime(62) = 3
helpertype = normal
name = "sword"
ID = 4004
pos = 30, -37
postype = p1
facing = 1
stateno = 3440
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト中呼び出し1]
type = Helper
trigger1 = animelemtime(5) = 1
trigger2 = animelemtime(20) = 1
trigger3 = animelemtime(35) = 1
trigger4 = animelemtime(50) = 1
helpertype = normal
name = "EFECT"
ID = 7025
pos = 0, -80
postype = p2
facing = 1
stateno = 7025
keyctrl = 0
ownpal = 1
supermovetime = 100
pausemovetime = 100
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト中呼び出し2]
type = Helper
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(23) = 1
trigger3 = animelemtime(38) = 1
trigger4 = animelemtime(53) = 1
helpertype = normal
name = "EFECT"
ID = 7022
pos = 0, -60
postype = p2
facing = 1
stateno = 7022
keyctrl = 0
ownpal = 1
supermovetime = 100
pausemovetime = 100
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト中呼び出し3]
type = Helper
trigger1 = animelemtime(11) = 1
trigger2 = animelemtime(26) = 1
trigger3 = animelemtime(41) = 1
trigger4 = animelemtime(56) = 1
helpertype = normal
name = "EFECT"
ID = 7025
pos = 0, -40
postype = p2
facing = 1
stateno = 7025
keyctrl = 0
ownpal = 1
supermovetime = 100
pausemovetime = 100
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト中呼び出し4]
type = Helper
trigger1 = animelemtime(14) = 1
trigger2 = animelemtime(29) = 1
trigger3 = animelemtime(44) = 1
trigger4 = animelemtime(59) = 1
helpertype = normal
name = "EFECT"
ID = 7022
pos = 0, -60
postype = p2
facing = 1
stateno = 7022
keyctrl = 0
ownpal = 1
supermovetime = 100
pausemovetime = 100
ignorehitpause=1

[State -1, 斬撃ヒットエフェクト中呼び出し5]
type = Helper
trigger1 = animelemtime(17) = 1
trigger2 = animelemtime(32) = 1
trigger3 = animelemtime(47) = 1
trigger4 = animelemtime(62) = 1
helpertype = normal
name = "EFECT"
ID = 7025
pos = 0, -40
postype = p2
facing = 1
stateno = 7025
keyctrl = 0
ownpal = 1
supermovetime = 100
pausemovetime = 100
ignorehitpause=1

[State 3410, 斬撃音]
type = VarRandom
trigger1 = 1
V = 11
Range = 3,5
IgnoreHitPause = 1

[State 3410, 斬撃音]
type = PlaySnd
trigger1 = animelemtime(5) = 1
trigger2 = animelemtime(20) = 1
trigger3 = animelemtime(35) = 1
trigger4 = animelemtime(50) = 1
trigger5 = animelemtime(8) = 1
trigger6 = animelemtime(23) = 1
trigger7 = animelemtime(38) = 1
trigger8 = animelemtime(53) = 1
trigger9 = animelemtime(11) = 1
trigger10 = animelemtime(26) = 1
trigger11 = animelemtime(41) = 1
trigger12 = animelemtime(56) = 1
trigger13 = animelemtime(14) = 1
trigger14 = animelemtime(29) = 1
trigger15 = animelemtime(44) = 1
trigger16 = animelemtime(59) = 1
trigger17 = animelemtime(17) = 1
trigger18 = animelemtime(32) = 1
trigger19 = animelemtime(47) = 1
trigger20 = animelemtime(62) = 1
value = s1, var(11)
;channel =4
volume=-255


[State -1, 文字デスデスエフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(10) = 1
helpertype = normal
name = "moji"
ID = 3424
pos = 0, 0
postype = p1
facing = 1
stateno = 3424
keyctrl =0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 99999
pausemovetime = 99999
persistent=0
ignorehitpause=1

[State -1, 文字1エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(20) = 1
helpertype = normal
name = "moji"
ID = 3421
pos = 0, 0
postype = p1
facing = 1
stateno = 3421
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State -1, 文字2エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(40) = 1
helpertype = normal
name = "moji"
ID = 3422
pos = 0, 0
postype = p1
facing = 1
stateno = 3422
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State -1, 文字3エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(60) = 1
helpertype = normal
name = "moji"
ID = 3423
pos = 0, 0
postype = p1
facing = 1
stateno = 3423
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 100
pausemovetime = 100
persistent=0
ignorehitpause=1

[State 3420,大剣]
type=Helper
trigger1 = animelemtime(67) = 1
helpertype=normal
name="taiken"
ID=3450
pos=60,-300
postype=p2
stateno=3450
facing=-1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3420,血糊1]
type=null;Helper
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(23) = 1
trigger3 = animelemtime(38) = 1
trigger4 = animelemtime(53) = 1
trigger5 = animelemtime(17) = 1
trigger6 = animelemtime(32) = 1
trigger7 = animelemtime(47) = 1
trigger8 = animelemtime(62) = 1
helpertype=normal
name="blood1"
ID=2499
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3420,血糊2]
type=null;Helper
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(23) = 1
trigger3 = animelemtime(38) = 1
trigger4 = animelemtime(53) = 1
trigger5 = animelemtime(17) = 1
trigger6 = animelemtime(32) = 1
trigger7 = animelemtime(47) = 1
trigger8 = animelemtime(62) = 1
helpertype=normal
name="blood2"
ID=2500
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3420,血糊3]
type=null;Helper
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(23) = 1
trigger3 = animelemtime(38) = 1
trigger4 = animelemtime(53) = 1
trigger5 = animelemtime(17) = 1
trigger6 = animelemtime(32) = 1
trigger7 = animelemtime(47) = 1
trigger8 = animelemtime(62) = 1
helpertype=normal
name="blood3"
ID=2501
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3420,画面端にならないよう位置補正]
type= posadd
Trigger1 = time=0
trigger1 = FrontEdgeBodyDist < 130
x= FrontEdgeBodyDist-130

[State 3420, 勝利時のステート変更]
type = ChangeState
trigger1 = animelemtime(99) = 1
Trigger1 = WINKO
value = 1300


[State 3420, 掛け声用ランダム]
type = VarRandom
trigger1 = animelemtime(100) = 1
V = 11
Range = 0,1
IgnoreHitPause = 1

[State 3420, 掛け声]
type = PlaySnd
trigger1 = animelemtime(100) = 1
value = s101, var(11)
persistent= 0
volume =0

[State 3420, 飛び去りステート変更]
type = changestate
Trigger1 = animtime = 0
value = 2520


;■■■■■■■■■■■■■■■■■■■■■■■■
;■文字1エフェクト
;■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3421]
Type = A
Physics = N
anim = 9999
SprPriority = -2
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1]
type = PalFX
trigger1 = time=0
mul = 256,0,0
time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3421]
type = varadd
trigger1 =time =[1,25]
fv=0
value=0.1

[State 3421,文字1]
type = Explod
trigger1 = time = 0
anim = 7930
ID = 7930
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 2.875,3.0


[State -1,文字1エフェクト再設定]
type = modifyexplod
trigger1 =time =[1,25]
ID = 7930
scale = 2.875-fvar(0),3.0-fvar(0)

[State 3421, 揺らす]
type = EnvShake
trigger1 = time = 25
time = 12
freq = 90
ampl = -8

[State 3421]
type = PlaySnd
trigger1 = time = 25
value = s0, 5
valume =255


[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 3421, 消える]
type = DestroySelf
trigger1 = time >=80

;■■■■■■■■■■■■■■■■■■■■■■■■
;■文字2エフェクト
;■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3422]
Type = A
Physics = N
anim = 9999
SprPriority = -2
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1]
type = PalFX
trigger1 = time=0
mul = 256,0,0
time = 30
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3422]
type = varadd
trigger1 =time =[1,25]
fv=0
value=0.1

[State 3421,文字1]
type = Explod
trigger1 = time = 0
anim = 7931
ID = 7931
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 2.875,3.0


[State -1,文字1エフェクト再設定]
type = modifyexplod
trigger1 =time =[1,25]
ID = 7931
scale = 2.875-fvar(0),3.0-fvar(0)

[State 3422, 揺らす]
type = EnvShake
trigger1 = time = 25
time = 12
freq = 90
ampl = -8

[State 3422]
type = PlaySnd
trigger1 = time = 25
value = s0, 5
valume =255


[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 3421, 消える]
type = DestroySelf
trigger1 = time >=80

;■■■■■■■■■■■■■■■■■■■■■■■■
;■文字3エフェクト
;■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3423]
Type = A
Physics = N
anim = 9999
SprPriority = -2
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1]
type = PalFX
trigger1 = time=0
mul = 256,0,0
time =-1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3421,文字1]
type = Explod
trigger1 = time = 0
anim = 7932
ID = 7932
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.625,1.0

[State 3421,文字1]
type = Explod
trigger1 = time = 15
anim = 7933
ID = 7933
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.625,1.0


[State 3421,文字1]
type = Explod
trigger1 = time = 30
anim = 7934
ID = 7934
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.625,1.0

[State 3421,文字1]
type = Explod
trigger1 = time = 45
anim = 7935
ID = 7935
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.625,1.0

[State 3421,文字D]
type = Explod
trigger1 = time = 60
anim = 7936
ID = 7936
bindtime = -1
postype = left
pos = root,var(51)-140,121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1.0,1.0

[State 3421,文字E]
type = Explod
trigger1 = time = 60
anim = 7937
ID = 7937
bindtime = -1
postype = left
pos = root,var(51)-80,121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1.0,1.0

[State 3421,文字A]
type = Explod
trigger1 = time = 60
anim = 7938
ID = 7938
bindtime = -1
postype = left
pos = root,var(51),121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1.0,1.0


[State 3421,文字H]
type = Explod
trigger1 = time = 60
anim = 7939
ID = 7939
bindtime = -1
postype = left
pos = root,var(51)+80,121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1.0,1.0

[State 3421,文字T]
type = Explod
trigger1 = time = 60
anim = 7940
ID = 7940
bindtime = -1
postype = left
pos = root,var(51)+140,121
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1.0,1.0



[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 3421, 消える]
type = DestroySelf
trigger1 = time >=120

;■■■■■■■■■■■■■■■■■■■■■■■■
;■文字デスデスエフェクト
;■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3424]
Type = A
Physics = N
anim = 9999
SprPriority = -2
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1]
type = PalFX
trigger1 = time=0
mul = 256,0,0
time =-1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3421,文字1]
type = Explod
trigger1 = time%15 = 1
anim = 7941
ID = 7941
bindtime = -1
postype = left
pos = random%30*10,random%20*12
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.75,0.75

[State 3421,文字1]
type = Explod
trigger1 = time%12 = 1
anim = 7942
ID = 7942
bindtime = -1
postype = left
pos = random%30*10,random%20*12
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.75,0.75

[State 3421,文字1]
type = Explod
trigger1 = time%9 = 1
anim = 7943
ID = 7943
bindtime = -1
postype = left
pos = random%30*10,random%20*12
ownpal = 0
sprpriority = -2
;facing = 1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.75,0.75

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 3424, 消える]
type = DestroySelf
trigger1 = time >=160



;■攻撃喰らった相手■■■■■■■■■■■■■■

[Statedef 3430]
;type    = A
movetype= H
physics = N
velset = 0,0
ctr = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 3430,位置補正]
Type = posset
trigger1 = Time =0
y=0

[State -1, DestroySelf];ヘルパーなら削除
Type = DestroySelf
trigger1 = IsHelper

[State 3430, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3431+random%2

[State 3430, 画面固定]
Type = screenbound
Trigger1 =1
Value = 0;画面外へ行ける
movecamera=0,0


;[State 820, ダメージ(倒せる）]
;type = LifeAdd
;Trigger1 = animelemtime(10) =1
;value = -(lifemax/8)
;absolute = 1
;kill =1

;[State 3430, しばらく無敵]
;Type = NotHitBy
;Trigger1 = 1
;Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
;Time = 1



[State 3430]
type = SelfState
trigger1 = time >=300
value = 5050

;■剣■■■■■■■■■■■■■■
[Statedef 3440]
type    = A
movetype= A
physics = N
velset = 0,0
anim=7920
sprpriority = 2

[State -1]
Type     = AngleSet
trigger1=ishelper(3441)
trigger2=ishelper(4001)
Value    = 20

[State -1]
Type     = AngleSet
trigger1=ishelper(3442)
trigger2=ishelper(4002)
Value    = -20

[State -1]
Type     = AngleSet
trigger1=ishelper(3443)
trigger2=ishelper(4003)
Value    = 10

[State -1]
Type     = AngleSet
trigger1=ishelper(3444)
trigger2=ishelper(4004)
Value    = -30

[State 3440];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 3440]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 3440,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3440, ヒット定義]
type = HitDef
trigger1 = animelemtime(1)=1
trigger1 = ishelper(3440)||ishelper(3441)||ishelper(3442)||ishelper(3443)||ishelper(3444)
attr = S, HA
damage = 15, 15
animtype = medium
;guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 0, 1+ifelse((var(45)=1),1,0)
sparkno = -1;s7000
guard.sparkno = -1;s7500
sparkxy = -10, -33
hitsound = -1;s1, 3
guardsound = -1;s1, 7
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-12
air.type = low
air.velocity = -2,-7
air.hittime =30
yaccel = 0.48
fall.yvelocity = -4.5
air.fall = 0
fall=0
fall.recover = 1
fall.recovertime = 300
persistent=0
kill=0
p2stateno = 3430

[State 3440, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■止めの大剣■■■■■■■■■■■■■■
[Statedef 3450]
type    = A
movetype= A
physics = N
velset = 6,22.5;8,30
anim=7925
sprpriority = 0


[State 3420,大剣]
type=Helper
trigger1 = time=0
helpertype=normal
name="taiken2"
ID=3451
pos=60,-300
postype=p1
stateno=3451
facing=1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1


[State -1]
Type     = AngleSet
trigger1 = 1
Value    = 15

[State 3450];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 3450]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 3450]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 3450]
type = velset
trigger1 = Pos Y >=-130
x= 0
y =0

;[State 3450]
;type = PosSet
;trigger1 = Pos Y >-110
;y= -110

;[State 3450]
;type = velset
;trigger1 = Pos Y >=-110
;x= 0
;y =0

[State 3450, 着弾の揺らす]
type = EnvShake
trigger1 = Pos Y >=-130
time = 20
freq = 90
ampl = -8
persistent=0

[State 3450, 着弾音]
type = PlaySnd
trigger1 = Pos Y >=-130
value = s12, 21
volume=-255
persistent=0

[State 3450,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 3440, ヒット定義]
type = HitDef
trigger1 = time=1
attr = S, HA
damage = 15, 15
animtype = hard
;guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 0, 1+ifelse((var(45)=1),1,0)
sparkno = s6123
guard.sparkno = -1;s7500
sparkxy = -10, 120
hitsound = s1, 4
guardsound = -1;s1, 7
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-12
air.type = low
air.velocity = -2,-7
air.hittime =30
yaccel = 0.48
fall.yvelocity = -4.5
air.fall = 0
fall=0
fall.recover = 1
fall.recovertime = 300
persistent=0
kill=0
sprpriority =-1
p2stateno = 2470

[State 3450, ヒット定義]
type = HitDef
trigger1 = time =60
attr = S, HA
damage = 100, 100
animtype = diagup
;guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 0, 1+ifelse((var(45)=1),1,0)
sparkno = -1;s6123
guard.sparkno = -1;s7500
sparkxy = -10, -33
hitsound = s1, 5
guardsound = -1;s1, 7
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,-14
air.type = low
air.velocity = -6,-14
air.hittime =30
yaccel = 0.48
fall.yvelocity = -4.5
air.fall = 1
fall=1
fall.recover = 1
fall.recovertime = 300
persistent=0
supermovetime = 999999
pausemovetime = 999999


[State -1, ヒットエフェクト]
Type = Explod
trigger1 = time =60
Anim = 7850
ID = 7850
Postype = P2
pos = 0,-90
scale = 0.75,0.75
Ownpal = 1
SprPriority = 2
IgnoreHitPause = 0
bindtime =1
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =1

[State 3420,血糊1]
type=Helper
trigger1 = time =60
helpertype=normal
name="blood1"
ID=2499
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1
size.xscale = 1.0
size.yscale = 1.0

[State 3420,血糊2]
type=Helper
trigger1 = time =60
helpertype=normal
name="blood2"
ID=2500
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1
size.xscale = 1.0
size.yscale = 1.0

[State 3420,血糊3]
type=Helper
trigger1 = time =60
helpertype=normal
name="blood3"
ID=2501
pos=-10,-25
postype=p2
stateno=2499
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1
size.xscale = 1.0
size.yscale = 1.0


[State -1, ドラノールカットイン]
Type = Explod
trigger1 = time =10
Anim = 8905
ID = 8905
Postype = back
pos = root,var(51),121
scale = 0.475,0.475;0.475,0.475
Ownpal = 1
SprPriority = -3
IgnoreHitPause = 0
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =1

[State 3450,ドラノールカットイン拡大用]
type = Varset
trigger1 = time = 1
fvar(0)=0.0025

[State 3450,ドラノールカットイン拡大用]
type = Varadd
trigger1 = time >= 61
fvar(0)=fvar(0)

[State 3450,ドラノールカットイン]
type = modifyexplod
trigger1 = time >= 61
ID = 8905
scale = 0.475+fvar(0),0.475+fvar(0)

[State 3450, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■止めの大剣2■■■■■■■■■■■■■■
[Statedef 3451]
type    = A
movetype= A
physics = N
;velset = 8,30
anim=7926
sprpriority = 2

[State -1]
Type     = AngleSet
trigger1 = 1
Value    = 15

[State 3451];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 3451]
type = AngleDraw
trigger1 = 1
scale = 1,1


[State 3451,位置同期]
type = PosSet
trigger1 = 1
x= Parent,Pos X
y= Parent,Pos Y


[State 3451,大剣きえるエフェクト1]
type=Helper
trigger1 = time=60
helpertype=normal
name="taiken_kieru"
ID=3452
pos=0,0
postype=p1
stateno=3452
facing=1
ownpal = 1
size.xscale =1.0
size.yscale =0.25
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3451,大剣きえるエフェクト2]
type=Helper
trigger1 = time=60
helpertype=normal
name="taiken_kieru"
ID=3452
pos=0,0
postype=p1
stateno=3452
facing=1
ownpal = 1
size.xscale =1.0
size.yscale =0.5
supermovetime = 999999
pausemovetime = 999999
ignorehitpause=1

[State 3451,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3451, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■大剣消える■■■■■■■■■■■■■■
[Statedef 3452]
type    = A
movetype= I
physics = N
velset = 0,0
anim=7950
sprpriority = 4

[State -1]
type = PalFX
trigger1 = time=0
mul = 256,0,0
time = -1
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State -1]
Type     = AngleSet
trigger1 = 1
Value    = 15-90

[State 3451];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 3451]
type = AngleDraw
trigger1 = 1
scale = 1,1
[State 3452,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3452, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■ガートルート■■■■■■■■■■■■■■
[Statedef 3460]
type    = S
movetype= I
physics = N
velset = 0,0
anim=3460
sprpriority = -1


[State 3460, 移動]
type= velset
Trigger1 =animelemtime(44)=1
x=-3
y=-3

[State -1, ガートルード退場エフェクト]
Type = Explod
Trigger1 = animelemTime(44) = 1
Anim = 7891
ID = 7891
Postype = P1
pos = -5,-82
scale = 1,1
Ownpal = 1
SprPriority = 1
IgnoreHitPause = 1
bindtime =8
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =1

[State -1, ガートルード結界エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(5) = 1
helpertype = normal
name = "EFECT"
ID = 3231
pos = 20, -105
postype = p1
facing = 1
stateno = 3231
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 999999
pausemovetime = 999999
persistent=0
ignorehitpause=0

[State 3460, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■コーネリア■■■■■■■■■■■■■■
[Statedef 3470]
type    = S
movetype= I
physics = N
velset = 0,0
anim=3470
sprpriority = -1


[State 3460, 移動]
type= velset
Trigger1 =animelemtime(44)=1
x=-3
y=-3

[State -1, コーネリア登場エフェクト]
Type = Explod
Trigger1 = animelemTime(44) = 1
Anim = 7891
ID = 7891
Postype = P1
pos = -5,-79
scale = 1,1
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 0
bindtime =8
SuperMoveTime = 99999
PauseMoveTime = 99999
facing =1

[State -1,コーネリア結界エフェクト呼び出し]
type = Helper
Trigger1 = animelemtime(5) = 1
helpertype = normal
name = "EFECT"
ID = 3241
pos = 20, -105
postype = p1
facing = 1
stateno = 3241
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 999999
pausemovetime = 999999
persistent=0
ignorehitpause=0

[State 3460, 消える]
type = DestroySelf
trigger1 = animtime = 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■セブンズ・エクスパンションで貫かれる敵
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3805]
type    = A
movetype= H
physics = N
velset = 0,0
ctr = 0

;[State -1]
;Type = HitBy
;Trigger1 = 1
;Value = SCA
;Time = 10

[State 3805]
type = LifeAdd
trigger1 = time = 0
value = -(floor(lifemax/200))
absolute = 1;防御力無視


[State 3805, 速度設定]
type =velset
trigger1 = time =1
x =-8

[State 3805, 相手をすり抜ける]
type = PlayerPush
trigger1 = 1
value = 0

[State 3805,地面めり込み対応]
Type =Posset
Trigger1 =Pos y >0
Trigger1 = time =0
y=0

[State 3805, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5000

[State 3805, 音]
type = PlaySnd
trigger1 = backedgebodydist <= 10
trigger1 = time >= 10
value = F7,2

[State -1, Explod]
Type = Explod
trigger1 = backedgebodydist <= 10
trigger1 = time >= 10
Anim = F72
ID = 72
Postype = p1
Pos = -40,-40 
scale = 1,1
Ownpal = 1
SprPriority = 8;-1
bindtime = -1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State 3805,画面ゆらす]
type = EnvShake
trigger1 = backedgebodydist <= 10
trigger1 = time >= 10
time = 30
freq = 60
ampl = -8;-4
phase = 90;90

[State 3805, バウンド]
type = velset
trigger1 = backedgebodydist <= 10
trigger1 = time >= 10
x = 1
y = -3

[State 3805, ステート変更]
type = SelfState
trigger1 = backedgebodydist <= 10
trigger1 = time >= 10
value = 5050 ;common1.cns参照

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■青き真実で吹き飛ばされる敵
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 3810]
type    = A
movetype= H
physics = N
velset = 0,0
ctr = 0


[State 3810]
type = LifeAdd
trigger1 = time = 0
value = -165
absolute = 1;防御力無視
kill=1

[State 3810, 速度設定]
type =velset
trigger1 = time =12
x =-20

[State 3810, 相手をすり抜ける]
type = PlayerPush
trigger1 = 1
value = 0

[State 3810,地面めり込み対応]
Type =Posset
Trigger1 =Pos y >0
Trigger1 = time =0
y=0

[State 3810, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5030

[State 3810, 音]
type = PlaySnd
trigger1 = backedgebodydist <= 10
value = F7,2

[State -1, Explod]
Type = Explod
trigger1 = backedgebodydist <= 10
Anim = F72
ID = 72
Postype = p1
Pos = -40,0 
scale = 1,1
Ownpal = 1
SprPriority = 8;-1
bindtime = -1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0

[State 3810,画面ゆらす]
type = EnvShake
trigger1 = backedgebodydist <= 10
time = 30
freq = 60
ampl = -8;-4
phase = 90;90

[State 3810, バウンド]
type = velset
trigger1 = backedgebodydist <= 10
x = 1
y = -3

[State 3810, ステート変更]
type = SelfState
trigger1 = backedgebodydist <= 10
value = 5050 ;common1.cns参照






;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、滑空
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4100]
type    = A
movetype= A
physics =N
juggle  = 0
velset = 18,12
ctrl = 0
sprpriority = 1
poweradd = 100
anim =4110

[State 4100];パートナーゲージパワー加算(無条件)
type = ParentVaradd
Trigger1 = time = 0
v = 58
value = 20
ignorehitpause=0
persistent=0

[State -2];タッチゲージ値を0に
type = ParentVarset
trigger1 = time = 0
v = 28
value = 0

[State 4100];タッチゲージ増加制御～ガードブレイク
type = Parentvarset
trigger1 = time = 0
fv = 3
value = 3

[State 4100,発生音]
type = PlaySnd
trigger1 = time =1
value = s12,5
volume =0

[State 4100, 掛け声用ランダム]
type = VarRandom
Trigger1 = Time = 1
V = 11
Range = 0,3
IgnoreHitPause = 1

[State 4100, 掛け声]
type = PlaySnd
trigger1 = animelemTime(1) = 1
value = s200, var(11)
persistent= 0

[State -1, スパークエフェクト]
Type = Explod
Trigger1 = time =1
anim = 7602
ID = 7602
scale = 0.5,0.5
postype = p1
pos =30,-50
sprpriority = 5
ownpal = 1
bindtime = -1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =0
fcaing =1

[State 4100, ヒット定義]
type = HitDef
trigger1 = 1
attr = A, ST
damage    = 100,35
hitflag = MAFD
guardflag = H
priority = 3,hit
pausetime = 18,40+ifelse((root,var(45)=1),1,0)
sparkno = -1;s7031
sparkxy = 15,-25
hitsound   = s12, 1
guardsound = s6,3
guard.sparkno = -1;s7021
animtype = HARD
ground.type = High
ground.slidetime = 28
ground.hittime = 28
ground.velocity = -8,0
air.velocity =-8,-2.5
guard.velocity = -8 
airguard.velocity =-8 
fall =0
fall.recover=0
fall.recovertime =30
fall.envshake.time = 9
envshake.freq=90
envshake.ampl =6
envshake.time = 20
persistent =0
yaccel = 0.48
fall.yvelocity = -4.5
palfx.time = 40
palfx.add = 0,0,200
palfx.sinadd = 0,0,200,10
palfx.color = 0
palfx.invertall = 1
hitonce=0

[State -1]
Type        = AfterImage
Trigger1    = Time = 0
Time        = 60
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State -1, ヒットエフェクト]
type = Explod
trigger1 = Movehit=1
anim = 7032
scale = 1,1
postype = p1
pos =35,-30
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =0
fcaing =1

;[State -1, ヒットエフェクト2]
;Type = Explod
;Trigger1 = MoveHit=1
;anim = 7031
;scale = 1,1
;postype = p1
;pos =35,-30
;sprpriority = 5
;ownpal = 1
;bindtime = 1
;;removeongethit = 1
;IgnoreHitPause = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999
;persistent =0
;fcaing =1


[State -1,ガードエフェクト] 
type = Explod
Trigger1 = moveguarded=1
anim = 7021
postype = p1
pos = 35, -30
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

;[State -1, AssertSpacial]
;Type = AssertSpecial
;Trigger1 = 1
;Flag = Noshadow
;IgnoreHitPause = 1
;SuperMoveTime = 9999999
;PauseMoveTime = 9999999

[State 4100, 位置修正]
type = Posset
Trigger1 =Pos y >0
y=0

[State 4100, ステート変更]
type = changestate
Trigger1 = Pos y >= 0
value = 4110


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、着地
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4110]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4120
sprpriority = 0
velset =7,0

[State -1,スパークエフェクト削除]
type = RemoveExplod
trigger1 = time =0
id =7602

[State 4110, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4110, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999



[State 4110,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = s6,1
volume =0

[State 4110, 掛け声用ランダム]
type = VarRandom
trigger1 = animelemtime(17) = 1
V = 11
Range = 0,1
IgnoreHitPause = 1

;[State 4110, 掛け声]
;type = PlaySnd
;trigger1 = animelemtime(17) = 1
;value = s101, var(11)
;persistent= 0
;volume =-255

[State 4110, 位置修正]
type = Posset
Trigger1 =Pos y >0
y=0

;[State 4110, 勝利時のステート変更]
;type = ChangeState
;trigger1 = animelemtime(12) = 1
;Trigger1 = WINKO
;value = 1300

[State 4110, 勝利時のステート変更]
type = ChangeState
Trigger1 = animtime = 0
Trigger1 = WINKO
value = 4600


[State 4110, ステート変更]
type = changestate
Trigger1 = animtime = 0
value = 4120

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、飛び去り
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4120]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4130
sprpriority = 0
velset =-2,0

[State 4120, 画面固定]
Type = screenbound
Trigger1 =1
Value = 0;画面外へ行ける
movecamera=0,0

[State -1]
Type        = null;AfterImage
Trigger1    = Time = 0
Time        = 60
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State 4120];フェードアウト音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4120, 消滅]
type = Destroyself
trigger1 = animtime = 0






;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、冷酷なるカケラ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4200]
type    = S
movetype= A
physics =S
juggle  = 0
velset = 1.5,0
ctrl = 0
sprpriority = 1
poweradd = 100
anim =4200

[State -2];位置修正
type = posset
trigger1 = time = 0
y= 0

[State 4200];パートナーゲージパワー加算(無条件)
type = ParentVaradd
Trigger1 = time = 0
v = 58
value = 20
ignorehitpause=0
persistent=0

[State -2];タッチゲージ値を0に
type = ParentVarset
trigger1 = time = 0
v = 28
value = 0

[State 4200];タッチゲージ増加制御～ガードブレイク
type = Parentvarset
trigger1 = time = 0
fv = 3
value = 3

[State 4200];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4200]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.5


;[State 4100,発生音]
;type = PlaySnd
;trigger1 = time =1
;value = s12,5
;volume =0

[State 4200, 掛け声用ランダム]
type = VarRandom
Trigger1 = Time = 1
V = 11
Range = 0,2
IgnoreHitPause = 1

[State 4200, 掛け声]
type = PlaySnd
trigger1 = animelemTime(13) = 1
value = s201, var(11)
persistent= 0

;■冷酷なるカケラ召喚
[State -1, 冷酷なるカケラ ]
Type     = Helper
Trigger1 = animelemtime(3) =1
Stateno  = 4210
ID       = 365
Pos      = 120,-Ceil(Pos y)
PosType  = P1
OwnPal   = 1
size.xscale =0.3
size.yscale =0.3
SuperMoveTime = 0
PauseMoveTime = 0
IgnoreHitPause = 1
Persistent = 0

[State 4200, 勝利時のステート変更]
type = ChangeState
Trigger1 = animtime = 0
Trigger1 = WINKO
value = 4600

[State 4200, 退出]
type = changestate
Trigger1 = animtime = 0
value = 4120



;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、カケラ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4210]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 50
ctrl = 0
anim = 7750
sprpriority = 0
velset =0,0

[State 4210]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4210]
type = AngleAdd
trigger1 = time = 0
value = -15

[State 4210]
type = AngleDraw
trigger1 = 1
Scale = 1, FVar(1)

[State 4210,発生音]
type = PlaySnd
trigger1 = animelemtime(2)=1
value = s12,18
volume =255

[State 4210,消滅音]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = s12,3
volume =0


[State 4210, VarAdd]
Type = VarAdd
Trigger1 = animelemtime(2)>=1 && animelemtime(2)<=8
FV = 1
Value = 0.15

[State 4210]
type = Trans
trigger1 =1
trans =add

[State 4210]
Type = VarAdd
Trigger1 = animelemtime(3)>=1
V = 7
value = 15

[State 4210, Color Gradation]
type = Palfx
Trigger1 = animelemtime(3)>=1
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1



[State -1, 地面ひび割れエフェクト]
type = Explod
trigger1 = animelemtime(2)=1
anim = 7755
scale = 0.5,0.5
postype = p1
pos =0,0
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0
persistent =0
fcaing =1

[State -1, カケラ拡散トエフェクト]
type = Explod
trigger1 = animelemtime(2)=1
anim = 7760
scale = 1,1
postype = p1
pos =0,0
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 0
PauseMoveTime = 0
persistent =0
fcaing =1

[State 4200, ヒット定義]
type = HitDef
trigger1 = 1
attr = A, ST
damage    = 40,12
hitflag = MAFD
guardflag = L
priority = 3,hit
pausetime = 2,8+ifelse((root,var(45)=1),1,0)
sparkno = -1;s7031
sparkxy = 15,-25
hitsound   = s12, 1
guardsound = s6,3
guard.sparkno = -1;s7021
animtype = HARD
ground.type = High
ground.slidetime = 28
ground.hittime = 28
ground.velocity = -2,-9
air.velocity =-2,-9
guard.velocity = -4 
airguard.velocity =-4 
fall =1
fall.recover=1
fall.recovertime =60
fall.envshake.time = 9
envshake.freq=90
envshake.ampl =6
envshake.time = 20
persistent =10
yaccel = 0.48
fall.yvelocity = -4.5
;palfx.time = 40
;palfx.add = 0,0,200
;palfx.sinadd = 0,0,200,10
;palfx.color = 0
;palfx.invertall = 1
hitonce=0

[State -1, ヒットエフェクト]
type = Explod
trigger1 = Movehit=1
anim = 7032
scale = 1,1
postype = p2
pos =15,-30
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =10
fcaing =1

[State -1,ガードエフェクト] 
type = Explod
Trigger1 = moveguarded=1
anim = 7021
postype = p2
pos = 35, -30
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=10

[State 4210, 消滅]
type = Destroyself
trigger1 = animtime = 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを穿つ無慈悲なるミステリ、古戸ヱリカ本体
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4300]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4300
sprpriority = 1
velset =0,0
ctrl = 0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State 4300];タッチゲージ値を0に
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 4300];タッチゲージ増加制御～ガードブレイク
type = varset
trigger1 = time = 0
fv = 3
value = 3

[State 4300, 1];パートナーSPゲージ減少
type = Varadd
trigger1 = time = 0
v = 58
value = -200
ignorehitpause=1

[State 4300]
type = superpause
trigger1 = time = 0
time = 150
movetime = 150
anim = s9999
darken = 0
SprPriority = 0

[State 4300,バックジャンプ開始]
type = Velset
trigger1 = animelemtime(8) = 1
x=-16
y=-8

[State 4300, ジャンプ音]
type = PlaySnd
trigger1 = animelemtime(8)=1
value = s6, 4
volume =255
persistent =0

[State 4300,移動停止]
type = Velset
trigger1 = animelemtime(12) = 1
x=0
y=0

[State 4300,空中停止]
type = Posset
trigger1 = animelemtime(12) = 1
y=-80

[State 4300, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) <1
Trigger2 =animelemtime(12) >1
Value = 0;画面外へ行ける
movecamera=0,0

[State 4300, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) =1
Value = 1;画面外から戻る
movecamera=0,0

[State 4300,重力設定]
type = StateTypeSet
trigger1 =  animelemtime(13) = -1
physics =  A
persistent = 0


[State 4300,前ジャンプで戻る]
type = Velset
trigger1 = animelemtime(13) = -1
x=8
y=16


[State 4300];ジャンプ時の残像
type = AfterImage
trigger1 = animelemtime(13)=1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State -1, ベルンカステル呼び出し]
Type     = Helper
trigger1 = time =0
Stateno  = 4310
ID       = 365
Pos      = 20,0
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 180
PauseMoveTime = 180
IgnoreHitPause = 1
Persistent = 0
facing = 1

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを穿つ無慈悲なるミステリ、ベルンカステル本体
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4310]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 100
anim = 4310
sprpriority = 5
velset =0,0
ctrl = 0

[State 4310,画面外にでないよう位置補正]
type= posadd
trigger1 = BackEdgeBodyDist < 0
x= -BackEdgeBodyDist


[State 4310]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State 4310, 必殺音]
type = PlaySnd
trigger1 = animelemtime(4)=4
value = s12, 2
volume =255
persistent =0

[State 4310, 必殺エフェクト]
type = Explod
trigger1 = animelemtime(4) =4
anim = 7040
scale = 1,1
postype = p1
pos =5,-80
sprpriority = 6
ownpal = 1
bindtime = -1
removeongethit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State 4310,カットン1呼び出し]
Type        = Helper
Trigger1    = time = 0
Stateno     = 8120
ID          = 8120
Pos         = -0,0
PosType     = P1
OwnPal      = 1
Keyctrl     = 0
velset      = 0,0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4310, あっはっはっは]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = s202, 0
volume =255
persistent =0
channnel=0

[State 4310, 奇跡なんて起きない、シネェ！！ or 奇跡なんて起きない、消え去れゲロカス妄想！！]
type = PlaySnd
trigger1 = animelemtime(8)=1
value = s202, 1+random%2
volume =255
persistent =0
channnel=0

[State 4310, 効果音]
type = PlaySnd
trigger1 = animelemtime(8)=1
value = s12, 4
volume =255
persistent =0
channnel=1


[State 4310, 下地表示]
type = Explod
trigger1 = animelemtime(6) =1
Anim = 8970
id = 8970
pos = 0, 0
postype = back
ownpal = 1
bindtime = -1
sprpriority = 11
pausemovetime = -1
;removetime= 137
supermove = 1
ignorehitpause = 1
scale = 1,1

[State 4310, 赤成分表示]
type = Explod
trigger1 = animelemtime(6) =1
Anim = 8971
id = 8971
pos = -60+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)), 0
postype = back
ownpal = 1
bindtime = -1
sprpriority = 12
pausemovetime = -1
;removetime = 137
supermove = 1
ignorehitpause = 1
scale = 0.7,0.7
;trans = add

[State 4310, 緑成分表示]
type = Explod
trigger1 = animelemtime(6) =1
Anim = 8972
id = 8972
pos = -60+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)), 0
postype = back
ownpal = 1
bindtime = -1
sprpriority = 12
pausemovetime = -1
;removetime = 137
supermove = 1
ignorehitpause = 1
scale = 0.7,0.7
;trans = add


[State 4310, 青成分表示]
type = Explod
trigger1 = animelemtime(6) =1
Anim = 8973
id = 8973
pos = -60+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)), 0
postype = back
ownpal = 1
bindtime = -1
sprpriority = 12
pausemovetime = -1
;removetime = 137
supermove = 1
ignorehitpause = 1
scale = 0.7,0.7
;trans = add


[State -1, 青きミステリ召喚（直進）]
Type     = Helper
trigger1 = animelemtime(22) =1
trigger2 = animelemtime(24) =1
trigger3 = animelemtime(26) =1
trigger4 = animelemtime(28) =1
trigger5 = animelemtime(30) =1
trigger6 = animelemtime(32) =1
trigger7 = animelemtime(34) =1
trigger8 = animelemtime(36) =1
trigger9 = animelemtime(38) =1
trigger10 = animelemtime(40) =1
trigger11 = animelemtime(42) =1
Stateno  = 4320
ID       = 4320
Pos      = -200,-100+random%9*10
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 0
PauseMoveTime = 0
IgnoreHitPause = 1
facing = 1

[State -1, 青きミステリ召喚（右下がり）]
Type     = Helper
trigger1 = animelemtime(23) =1
trigger2 = animelemtime(27) =1
trigger3 = animelemtime(31) =1
trigger4 = animelemtime(35) =1
trigger5 = animelemtime(39) =1
trigger6= animelemtime(43) =1
Stateno  = 4330
ID       = 4330
Pos      = -150+random%9*15,-140
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 0
PauseMoveTime = 0
IgnoreHitPause = 1
facing = 1

[State -1, 青きミステリ召喚（右上がり）]
Type     = Helper
trigger1 = animelemtime(24) =1
trigger2 = animelemtime(28) =1
trigger3 = animelemtime(32) =1
trigger4 = animelemtime(36) =1
trigger5 = animelemtime(40) =1
trigger6 = animelemtime(44) =1
Stateno  = 4340
ID       = 4340
Pos      = -130+random%9*15,60
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 0
PauseMoveTime = 0
IgnoreHitPause = 1
facing = 1


[State 4310];勝利エフェクト1
type = null;Explod
trigger1 = win = 1
anim = 7810
ID = 7810
bindtime = -1
postype = left
pos = 159+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),119
ownpal = 1
sprpriority = -20000
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.5,0.5
persistent = 0

[State 4310];勝利エフェクト2
type = Explod
trigger1 = WinKO
anim = 7800
ID = 7800
bindtime = -1
postype = left
pos = 160+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),121
ownpal = 1
sprpriority = -19999
facing = -1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1,1
persistent = 0

[State 4310];とどめさした場合の音
type = PlaySnd
trigger1 = WinKO
value = s12, 21
persistent = 0


[State 4310, 勝利時のステート変更]
type = ChangeState
Trigger1 = animtime = 0
Trigger1 = WINKO
value = 4600


[State 4310, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120




;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを穿つ無慈悲なるミステリ、青きミステリ（直進）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4320]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 7770
sprpriority = 6
velset =20,0
ctrl = 0

[State 4320, 出現音]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = s12, 8
volume =0

[State 4320]
type = AssertSpecial
trigger1 =1
flag = noshadow


[State 4320, ヒット定義]
type = HitDef
trigger1 = 1
attr = A, HP
damage    = 27,15
hitflag = MAFD
guardflag = H
priority = 3,hit
pausetime = 0,6+ifelse((root,var(45)=1),1,0)
sparkno = -1;s7031
sparkxy = 15,-25
hitsound   = s1, 4
guardsound = s6,3
guard.sparkno = -1;s7021
animtype = HARD
ground.type = High
ground.slidetime = 28
ground.hittime = 28
ground.velocity = -9,-3
air.velocity =-9,-3
guard.velocity = -4 
airguard.velocity =-4 
fall =1
fall.recover=1
fall.recovertime =60
fall.envshake.time = 9
envshake.freq=90
envshake.ampl =6
envshake.time = 20
persistent =0
yaccel = 0.48
fall.yvelocity = -4.5
palfx.time = 40
palfx.add = 0,0,200
palfx.sinadd = 0,0,200,10
palfx.color = 0
palfx.invertall = 1


[State -1, ヒットエフェクト1]
Type = Explod
trigger1 = Movehit=1
anim  = 7140
id= 7140
scale = 1,1
Pos      = -0-32+random%8*8,-80+random%8*8
PosType  = P2
OwnPal   = 1
bindtime = -1
removeongethit = 1
SuperMoveTime =100
PauseMoveTime = 100
sprpriority = 2
facing = 1
vfacing = 1
IgnoreHitPause = 1



[State -1, ヒットエフェクト]
type = null;Explod
trigger1 = Movehit=1
anim = 7032
scale = 1.0,1.0
postype = p2
pos =15-32+random%8*8,-30-32+random%8*8
sprpriority = 7
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =0
fcaing =1

[State -1,ガードエフェクト] 
type = Explod
Trigger1 = moveguarded=1
anim = 7021
postype = p2
pos = 35-32+random%8*8, -30-32+random%8*8
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=10


[State -1]
Type        = AfterImage
Trigger1    = Time = 1
Time        = 30
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State -1];残像
type = null;AfterImage
trigger1 = time = 1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State 4320, 消滅]
type = Destroyself
trigger1 = animtime = 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを穿つ無慈悲なるミステリ、青きミステリ（右下がり）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4330]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 7770
sprpriority = 6
velset =20,5
ctrl = 0

;[State 4330, 出現音]
;type = PlaySnd
;trigger1 = animelemtime(1)=1
;value = s12, 8
;volume =0

[State 4330]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4330]
type = AngleAdd
trigger1 = time = 0
value = -15

[State 4330]
type = AngleDraw
trigger1 = 1

[State 4330]
type = Trans
trigger1 =1
trans =add

[State -1]
Type        = AfterImage
Trigger1    = Time = 1
Time        = 30
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State -1];残像
type = null;AfterImage
trigger1 = time = 1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State 4330, 消滅]
type = Destroyself
trigger1 = animtime = 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを穿つ無慈悲なるミステリ、青きミステリ（右上がり）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4340]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 7770
sprpriority = 6
velset =20,-9
ctrl = 0

;[State 4340, 出現音]
;type = PlaySnd
;trigger1 = animelemtime(1)=1
;value = s12, 8
;volume =0

[State 4340]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4340]
type = AngleAdd
trigger1 = time = 0
value = 25

[State 4340]
type = AngleDraw
trigger1 = 1

[State 4340]
type = Trans
trigger1 =1
trans =add

[State -1]
Type        = AfterImage
Trigger1    = Time = 1
Time        = 30
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State -1];残像
type = null;AfterImage
trigger1 = time = 1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State 4340, 消滅]
type = Destroyself
trigger1 = animtime = 0










;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、古戸エリカ本体
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4400]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4400
sprpriority = 1
velset =0,0
ctrl = 0

[State -1, 半透明鎌エフェクト削除]
Type = removeExplod
Trigger1 = time=0
ID = 7777

[State 4400];タッチゲージ値を0に
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 4400];タッチゲージ増加制御～ガードブレイク
type = varset
trigger1 = time = 0
fv = 3
value = 3

[State 4400, 1];パートナーSPゲージ減少
type = Varadd
trigger1 = time = 0
v = 58
value = -300
ignorehitpause=1

[State 4400]
type = superpause
trigger1 = time = 0
time = 76
movetime = 76
anim = s9999
darken = 0
SprPriority = 0

[State 4400,バックジャンプ開始]
type = Velset
trigger1 = animelemtime(6) = 1
x=-16
y=-8

[State 4400, ジャンプ音]
type = PlaySnd
trigger1 = animelemtime(6)=1
value = s6, 4
volume =255
persistent =0

[State 4400,移動停止]
type = Velset
trigger1 = animelemtime(12) = 1
x=0
y=0

[State 4400,空中停止]
type = Posset
trigger1 = animelemtime(12) = 1
y=-80

[State 4400, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) <1
Trigger2 =animelemtime(12) >1
Value = 0;画面外へ行ける
movecamera=0,0

[State 4400, 画面固定]
Type = screenbound
Trigger1 =animelemtime(12) =1
Value = 1;画面外から戻る
movecamera=0,0

[State 4400,重力設定]
type = StateTypeSet
trigger1 =  animelemtime(13) = 1
physics =  A
persistent = 0

[State 4400,前ジャンプで戻る]
type = Velset
trigger1 = animelemtime(13) = -1
x=8
y=16


[State 4400];ジャンプ時の残像
type = AfterImage
trigger1 = animelemtime(13)=1
time = 32
length = 5
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.8,0.8,0.8
timegap = 2
framegap = 1
trans = add1

[State -1, ベルンカステル呼び出し]
Type     = Helper
trigger1 = time =0
Stateno  = 4410
ID       = 365
Pos      = 20,0
PosType  = P1
OwnPal   = 1
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 1800
PauseMoveTime = 1800
IgnoreHitPause = 1
Persistent = 0
facing = 1

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、ベルンカステル本体
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4410]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 100
anim = 4410
sprpriority = 5
velset =0,0
ctrl = 0

[State 4410,画面外にでないよう位置補正]
type= posadd
trigger1 = BackEdgeBodyDist < 0
x= -BackEdgeBodyDist


[State 4410]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State 4410, 喰らい尽くせ！！リヴァイアサン！！]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = s215, 0
volume =255
persistent =0
channnel=0

[State 4410, 必殺音]
type = PlaySnd
trigger1 = animelemtime(4)=3
value = s12, 2
volume =255
persistent =0

[State 4410, 必殺エフェクト]
type = Explod
trigger1 = animelemtime(4) =3
anim = 7040
scale = 1,1
postype = p1
pos =-6,-135
sprpriority = 6
ownpal = 1
bindtime = -1
removeongethit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State 4410,ベルンカットイン呼び出し]
Type        = Helper
Trigger1    = animelemtime(1)=1
Stateno     = 8980
ID          = 8980
Pos         = 60+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-80
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.25
size.yscale =0.25
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410, ネコ目1エフェクト]
Type        = Helper
Trigger1    = animelemtime(2)=1
Stateno     = 4440
ID          = 4440
Pos         = 260+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-65
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410, ネコ目2エフェクト]
Type        = Helper
Trigger1    = animelemtime(2)=8
Stateno     = 4450
ID          = 4450
Pos         = 70+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-0
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.7
size.yscale =0.8
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410, ネコ目3エフェクト]
Type        = Helper
Trigger1    = animelemtime(2)=14
Stateno     = 4460
ID          = 4460
Pos         = 90+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-130
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.6
size.yscale =0.6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410,光集結呼び出し]
Type        = Helper
Trigger1    = animelemtime(5)=-1
Stateno     = 4420
ID          = 4420
Pos         = -80,-ceil(pos y)
PosType     = P1
OwnPal      = 1
Keyctrl     = 0
size.xscale =1.0
size.yscale =1.0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410, 光集結音]
type = PlaySnd
trigger1 = animelemtime(5)=-1
value = s12, 24
volume =255
persistent =0

[State 4410, リヴァイアサン登場前エフェクト]
Type = Explod
Trigger1    = animelemtime(9)=1
Anim = 7786
ID = 7786
Postype = P1
Pos     = 90,50-ceil(pos y)
scale = 2.5,2.5
Ownpal = 1
SprPriority = 7
bindtime = -1
persistent=0
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State 4410,リヴァイアサン呼び出し]
Type        = Helper
Trigger1    = animelemtime(11)=1
Stateno     = 4430
ID          = 4430
Pos         = 60,0-ceil(pos y)
PosType     = P1
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.7
size.yscale =0.7
SuperMoveTime = 0
PauseMoveTime = 0


[State 4410, 波1エフェクト]
Type        = Helper
Trigger1    = animelemtime(17)=1
Stateno     = 4470
ID          = 4470
Pos         = 0,-30-ceil(pos y)
PosType     = P1
OwnPal      = 1
Keyctrl     = 0
size.xscale =2.0
size.yscale =0.5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4410, 波1エフェクト]
Type        = Helper
Trigger1    = animelemtime(19)=1
Stateno     = 4470
ID          = 4470
Pos         = 80,10-ceil(pos y)
PosType     = P1
OwnPal      = 1
Keyctrl     = 0
size.xscale =1.8
size.yscale =0.5
SuperMoveTime = 9999
PauseMoveTime = 9999


;[State 4410, 効果音]
;type = PlaySnd
;trigger1 = animelemtime(8)=1
;value = s12, 4
;volume =255
;persistent =0
;channnel=1

[State 4310];勝利エフェクト1
type = null;Explod
trigger1 = win = 1
anim = 7810
ID = 7810
bindtime = -1
postype = left
pos = 159+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),119
ownpal = 1
sprpriority = -20000
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 0.5,0.5
persistent = 0

[State 4410,];勝利エフェクト2
type = Explod
trigger1 = WinKO
anim = 7800
ID = 7800
bindtime = -1
postype = left
pos = 160+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),121
ownpal = 1
sprpriority = -19999
facing = -1
supermovetime = 9999999999
pausemovetime = 9999999999
scale = 1,1
persistent = 0

[State 4410];とどめさした場合の音
type = PlaySnd
trigger1 = WinKO
value = s12, 21
persistent = 0

[State 4410, 勝利時の特殊ステート変更]
type = ChangeState
Triggerall = WINKO
Trigger1 = animelemtime(24) = 1
Trigger2 = animelemtime(28) = 1
value = 4480


[State 4410, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、光集結
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4420]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7780
sprpriority = 5
velset =0,0

[State 4420]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State -1, FVarSet1]
Type = Varset
Trigger1 = time =0
fv = 1
value = 2.0

[State 4210, VarAdd]
Type = VarAdd
trigger1 = statetime = [0,30]
trigger1 = statetime%2 = 1
FV = 1
Value = -0.1

[State 4420]
type = AngleDraw
trigger1 = 1
Scale = FVar(1), FVar(1)




[State 4420]
Type = VarAdd
trigger1 = statetime >= 30
V = 7
value = 60

[State 4420, Color Gradation]
type = Palfx
trigger1 = statetime >= 30
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4420]
type = Trans
Trigger1 = 1
trans =add

[State -1]
Type        = AfterImage
Trigger1    = Time = 1
Time        = 30
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1


[State 4420, 消滅]
type = Destroyself
trigger1 = time >= 40


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、リヴァイアサン本体
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4430]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 7785
sprpriority = 7
velset =1,2

[State 4430]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4430]
type = Angleset
trigger1 = time = 0
value = 15

[State 4430]
type = Angleadd
trigger1 = statetime = [1,90]
value = -3

[State 4430]
type = AngleDraw
trigger1 = 1

[State 4430]
type = Trans
Trigger1 = 1
trans =add

[State 4430,ヒット定義]
type = projectile
trigger1 = animelemtime(1)=1
projanim = 7784
projremovetime = 120
projid =7784
offset = 0,0
velocity = 1,2
;Accel = 0.2,0
projremove=1;非貫通弾
ProjHitAnim=-1
projremanim=-1
remvelocity = 0, 0;消えるときの速度
attr = A, HT
animtype = hard
damage =  320, 130
hitflag = MAFD
guardflag = M
sparkno = -1
sparkky = 0,0
hitsound   = S1,5
pausetime = 24, 28+ifelse((root,var(45)=1),1,0)
;guard.pausetime=0,8
fall = 1              ;1にすれば相手がダウン状態になる
fall.recovertime =120
fall.recover = 0
guardsound = S6,3
guard.sparkno = -1
ground.type = low
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -9,0
air.velocity = -9,-2
down.velocity = -9,0
down.hittime = 26
ground.cornerpush.veloff=0
sprpriority=1
envshake.freq=90
envshake.ampl =6
envshake.time = 11
fall.envshake.time = 11
yaccel = 0.48
fall.yvelocity = -4.5
;guard.dist = 300
Projheightbound=-500,500

[State -1, ポーズ]
Type = Pause
Trigger1 = root,ProjHit(7784)=1
trigger2 = root,ProjGuarded(7784)=1
time = 24

[State 4430, ヒット定義]
type = null;HitDef
trigger1 = 1
attr = A, HT
damage = 300, 120
animtype = hard
guardflag = M
hitflag = MAFD
priority = 5, Hit
pausetime = 24, 28+ifelse((root,var(45)=1),1,0)
sparkno = -1;s7020
guard.sparkno = -1;s7500
sparkxy = -28, -63
hitsound = s1, 5
guardsound = s6, 3
ground.type = low
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -9,0
airguard.velocity = -9,-2
air.type = High
air.velocity = -9,0
air.hittime = 16
fall=1
fall.recovertime =120
fall.recover=0
persistent=0
fall.envshake.time = 18
envshake.time = 14
envshake.freq=90
envshake.ampl =8
hitonce =0
guard.dist = 300
sprpriority = 5

[State 4430];ヒットエフェクト
type = Explod
Trigger1 = root,ProjHit(7784)=1
anim = 6123
postype = p2
pos = 0, -60
ownpal = 1
scale = 1.25,1.25
sprpriority = 20
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

[State 4430];ヒットエフェクト
type = Explod
Trigger1 = root,ProjHit(7784)=1
anim = 6123
postype = p2
pos = 0, -60
ownpal = 1
scale = 1.25,1.25
sprpriority = 20
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=0

[State -1,ガードエフェクト] 
type = Explod
trigger1 =  root,ProjGuarded(7784)=1
anim = 7021
postype = p2
pos = 20, -50
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=6




[State 4430, 消滅]
type = Destroyself
trigger1 = time >= 90

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、ネコ目1
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4440]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7790
sprpriority = 6
velset =0,0

[State 4440]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4440]
type = Angleset
trigger1 = time = 0
value = -20

[State 4440]
type = AngleDraw
trigger1 = 1


[State 4440]
Type = VarAdd
trigger1 = AnimelemTime(13) >= 1
V = 7
value = 15

[State 4440, Color Gradation]
type = Palfx
trigger1 = AnimelemTime(13) >= 1
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4440]
type = Trans
Trigger1 = 1
trans =add


[State 4440, 消滅]
type = Destroyself
trigger1 = animtime >= 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、ネコ目2
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4450]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7791
sprpriority = 6
velset =0,0

[State 4450]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4450]
type = Angleset
trigger1 = time = 0
value = 0

[State 4450]
type = AngleDraw
trigger1 = 1


[State 4450]
Type = VarAdd
trigger1 = AnimelemTime(13) >= 1
V = 7
value = 15

[State 4450, Color Gradation]
type = Palfx
trigger1 = AnimelemTime(13) >= 1
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4450]
type = Trans
Trigger1 = 1
trans =add


[State 4450, 消滅]
type = Destroyself
trigger1 = animtime >= 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、ネコ目3
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4460]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7791
sprpriority = 6
velset =0,0

[State 4460]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4460]
type = Angleset
trigger1 = time = 0
value = 5

[State 4460]
type = AngleDraw
trigger1 = 1


[State 4460]
Type = VarAdd
trigger1 = AnimelemTime(13) >= 1
V = 7
value = 15

[State 4460, Color Gradation]
type = Palfx
trigger1 = AnimelemTime(13) >= 1
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4460]
type = Trans
Trigger1 = 1
trans =add


[State 4460, 消滅]
type = Destroyself
trigger1 = animtime >= 0

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、波1
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4470]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 7787
sprpriority = 9
velset =2,0

[State 4470]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4470, VarAdd]
Type = VarAdd
Trigger1 = statetime = [0,29]
V = 1
Value = 8

[State 4470, VarAdd]
Type = Varset
Trigger1 = statetime = 30
V = 1
Value = 255

[State 4470, Color Gradation]
type = Palfx
Trigger1 = statetime = [0,30]
mul = ceil(var(1)),ceil(var(1)),ceil(var(1))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State 4470]
Type = VarAdd
trigger1 = statetime >= 120
V = 7
value = 15

[State 4470, Color Gradation]
type = Palfx
trigger1 = statetime >= 120
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4470]
type = Trans
Trigger1 = 1
trans =add

[State -1]
Type        = AfterImage
Trigger1    = Time = 1
Time        = 30
Trans       = Add
Length      = 10
TimeGap     = 1
FrameFap    = 1
PalBright   = 0  , 0  , 0
PalContrast = 150  , 150  , 150;150
PalAdd      = 0  , 0  , 0
PalMul      = .5 , .5 , .5
Peresistent = 1

[State 4430, ヒット定義]
type = HitDef
trigger1 = statetime = [30,100]
attr = A, HT
damage = 5, 3
animtype = hard
guardflag = M
hitflag = MAFD
priority = 5, Hit
pausetime = 0, 4+ifelse((root,var(45)=1),1,0)
sparkno = -1;s7020
guard.sparkno = -1;s7500
sparkxy = -28, -63
hitsound = s1, 1
guardsound = s6, 3
ground.type = low
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -9,0
air.hittime = 16
fall=1
fall.recovertime =120
fall.recover=0
persistent=8
fall.envshake.time = 18
;envshake.time = 14
;envshake.freq=90
;envshake.ampl =8
hitonce =0
guard.dist = 300
sprpriority = 10

[State -1, ヒットエフェクト]
type = Explod
trigger1 = moveHit=1
anim = 7032
scale = 1,1
postype = p2
pos =-0+random%6*3,-30+random%6*3
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =8
fcaing =1

[State -1, ヒットエフェクト2]
Type = null;Explod
trigger1 = moveHit=1
anim = 7031
scale = 1,1
postype = p2
pos =-0,-60
sprpriority = 5
ownpal = 1
bindtime = 1
;removeongethit = 1
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent =8
fcaing =1


[State -1,ガードエフェクト] 
type = Explod
trigger1 =moveGuarded=1
anim = 7021
postype = p2
pos = 20, -50
ownpal = 1
scale = 1,1
sprpriority = 9
facing = -1
pausemovetime = 100
supermovetime = 100
ignorehitpause=1
persistent=6

[State 4470, 消滅]
type = Destroyself
trigger1 = time >= 160



;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、ベルンカステル本体、止め専用演出
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4480]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 100
anim = 4480
sprpriority = 5
velset =-3,0
ctrl = 0

[State 4480, 画面固定]
Type = screenbound
Trigger1 = animelemtime(12) <= -1
Value = 0;画面外へ行ける
movecamera=0,0

[State 4480]
Type = velset
Trigger1 = animelemtime(12) = 1
x=0

[State 4480]
Type = posset
Trigger1 = animelemtime(12) = 1
y=0

[State 4480, 呑み込め、すり潰せ！！]
type = PlaySnd
trigger1 = animelemtime(1)=1
value = s215, 1
volume =255
channel=0

[State 4480, リヴァイアサンの口（喉）エフェクト]
Type        = Helper
Trigger1    = animelemtime(1)=1
Stateno     = 4490
ID          = 4490
Pos         = 160+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-100
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.5
size.yscale =0.5
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4480, リヴァイアサンの口（上あご）エフェクト]
Type        = Helper
Trigger1    = animelemtime(1)=1
Stateno     = 4491
ID          = 4491
Pos         = 160+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-120
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.9;0.8
size.yscale =0.9;0.9
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 4480, リヴァイアサンの口（下あご）エフェクト]
Type        = Helper
Trigger1    = animelemtime(1)=1
Stateno     = 4492
ID          = 4492
Pos         = 160+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),-50
PosType     = back
OwnPal      = 1
Keyctrl     = 0
size.xscale =0.8;0.7
size.yscale =0.8;0.7
SuperMoveTime = 9999
PauseMoveTime = 9999


[State 4480, フェードアウトエフェクト]
Type = Explod
Trigger1    = animelemtime(1)=80
anim = 9998
ID = 9998
Postype = back
Pos = -100 ,-100
scale =2,2
Ownpal = 0
SprPriority = 10
bindtime =-1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime =99999
persistent =1

[State 4480,位置補正]
type= posadd
Trigger1 = animelemtime(12) = 1
trigger1 = BackEdgeBodyDist < 0
x= -BackEdgeBodyDist+150+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0))

[State 4480, ステート変更(勝利時)]
type = ChangeState
Trigger1 = animtime = 0
value = 4600

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、リヴァイアサンの口（喉）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4490]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7795
sprpriority = 7
velset =0,0

[State 4490]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4490,位置補正]
type= posadd
Trigger1 = 1
x= -BackEdgeBodyDist+130+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0))

[State -1, FVarSet1]
Type = Varset
Trigger1 = time =0
fv = 1
value = 1.0


[State 4490, VarAdd]
Type = VarAdd
trigger1 = statetime = [1,29]
FV = 1
Value = 0.015

[State 4490]
type = AngleDraw
trigger1 = 1
Scale = FVar(1), FVar(1)

[State 4490, VarAdd]
Type = VarAdd
Trigger1 = statetime = [0,29]
V = 1
Value = 8

[State 4490, VarAdd]
Type = Varset
Trigger1 = statetime = 30
V = 1
Value = 255

[State 4490, Color Gradation]
type = Palfx
Trigger1 = statetime = [0,30]
mul = ceil(var(1)),ceil(var(1)),ceil(var(1))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State 4490]
Type = VarAdd
trigger1 = statetime >= 80
V = 7
value = 5

[State 4490, Color Gradation]
type = Palfx
trigger1 = statetime >= 80
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4490]
type = Trans
Trigger1 = 1
trans =add

[State 4490, 消滅]
type = Destroyself
trigger1 = time >= 160

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、リヴァイアサンの口（上あご）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4491]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7796
sprpriority = 9
velset =0,0


[State 4491, 歯をかみ合わせた音]
type = PlaySnd
trigger1 = animelemtime(11)=1
value = s0, 5
volume =255

[State 4491, 揺らす]
type = EnvShake
trigger1 = animelemtime(11)=1
time = 6
freq = 160
ampl = -4

[State 4491]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State 4491,位置補正]
type= posadd
Trigger1 = 1
x= -BackEdgeBodyDist+130+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0))



[State -1, FVarSet1]
Type = Varset
Trigger1 = time =0
fv = 1
value = 1.0


[State 4491, Velset]
Type = Velset
trigger1 = statetime = 80
y=-0.2

[State 4491, VarAdd]
Type = VarAdd
trigger1 = statetime >= 80
FV = 1
Value = 0.005

[State 4491]
type = AngleDraw
trigger1 = 1
Scale = FVar(1), FVar(1)

[State 4491, VarAdd]
Type = VarAdd
Trigger1 = statetime = [0,29]
V = 1
Value = 8

[State 4491, VarAdd]
Type = Varset
Trigger1 = statetime = 30
V = 1
Value = 255

[State 4491, Color Gradation]
type = Palfx
Trigger1 = statetime = [0,30]
mul = ceil(var(1)),ceil(var(1)),ceil(var(1))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State 4491]
Type = VarAdd
trigger1 = statetime >= 80
V = 7
value = 7

[State 4491, Color Gradation]
type = Palfx
trigger1 = statetime >= 80
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4491]
type = Trans
Trigger1 = 1
trans =add

[State 4491, 消滅]
type = Destroyself
trigger1 = time >= 160


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、全てを呑み込む無慈悲なるリヴァイアサン、リヴァイアサンの口（下あご）
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4492]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 7797
sprpriority = 9
velset =0,0

[State 4492]
type = AssertSpecial
trigger1 =1
flag = noshadow


[State 4492,位置補正]
type= posadd
Trigger1 = 1
x= -BackEdgeBodyDist+130+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0))


[State -1, FVarSet1]
Type = Varset
Trigger1 = time =0
fv = 1
value = 1.0

[State 4491, Velset]
Type = Velset
trigger1 = statetime = 80
y=0.2


[State 4492, VarAdd]
Type = VarAdd
trigger1 = statetime >= 80
FV = 1
Value = 0.005

[State 4492]
type = AngleDraw
trigger1 = 1
Scale = FVar(1), FVar(1)

[State 4492, VarAdd]
Type = VarAdd
Trigger1 = statetime = [0,29]
V = 1
Value = 8

[State 4492, VarAdd]
Type = Varset
Trigger1 = statetime = 30
V = 1
Value = 255

[State 4492, Color Gradation]
type = Palfx
Trigger1 = statetime = [0,30]
mul = ceil(var(1)),ceil(var(1)),ceil(var(1))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State 4492]
Type = VarAdd
trigger1 = statetime >= 80
V = 7
value = 7

[State 4492, Color Gradation]
type = Palfx
trigger1 = statetime >= 80
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State 4492]
type = Trans
Trigger1 = 1
trans =add

[State 4492, 消滅]
type = Destroyself
trigger1 = time >= 160









;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、イントロ1
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4500]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4500
sprpriority = -1
velset =0,0

[State 4500, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4500, うふふふ、奇跡を与えてあげる]
type = PlaySnd
trigger1 = animelemtime(7)=1
value = s210, 0
volume =255
channel=0

[State 4500, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、イントロ2
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4510]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4510
sprpriority = -1
velset =0,0

[State 4510, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4510, それじゃ、さっそくゲームを始めましょうか]
type = PlaySnd
trigger1 = animelemtime(7)=1
value = s210, 1
volume =255
channel=0

[State 4510, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、イントロ3
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4520]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4520
sprpriority = -1
velset =0,0

[State 4520, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4520, 私に出会うことが～]
type = PlaySnd
trigger1 = animelemtime(7)=1
value = s210, 2
volume =255
channel=0

[State 4510, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、対トラップサトコ＆ラムダデルタ  イントロ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4530]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4530
sprpriority = -1
velset =0,0

[State 4530]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State 4530, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State -1,本光上昇エフェクト呼び出し]
Type = Explod
Trigger1 = AnimelemTime(34)>=1 && AnimelemTime(90)<=1
Anim = 7110
ID = 7110
Postype = p1
Pos      = -8,-20
scale = 0.5,0.5
Ownpal = 1
SprPriority = 0
bindtime = 1
IgnoreHitPause = 1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
Persistent = 40
facing =1

[State -1,本光上昇エフェクト(消えかかり)呼び出し]
Type = Explod
Trigger1 = AnimelemTime(90)=1
Anim = 7111
ID = 7111
Postype = p1
Pos      = -8,-20
scale = 0.5,0.5
Ownpal = 1
SprPriority = 0
bindtime = 1
IgnoreHitPause = 1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
Persistent = 40
facing =1


[State -1,地面の波状]
Type = Explod
Trigger1 = AnimelemTime(34)>=1 && AnimelemTime(95)<=1
Anim = 7070
ID = 7070
Postype = p1
Pos      = -5,10
scale = 0.5,0.5
Ownpal = 1
SprPriority = -3
bindtime = 1
IgnoreHitPause = 1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
Persistent = 30
facing =1

[State -1,地面の波状2]
Type = Explod
Trigger1 = AnimelemTime(34)>=1 && AnimelemTime(95)<=1
Anim = 7071
ID = 7071
Postype = p1
Pos      = -5,10
scale = 0.5,0.5
Ownpal = 1
SprPriority = -3
bindtime = 1
IgnoreHitPause = 1
removeongethit = 1
SuperMoveTime = 0
PauseMoveTime = 0
Persistent = 30
facing =1

[State 4530, 揺らす]
type = EnvShake
trigger1 = animelemtime(34)=1
time = 300
freq = 90
ampl = -2

[State 4520]
type = PlaySnd
trigger1 = animelemtime(34)=1
value = s12, 17
volume =-255

[State 4520]
type = PlaySnd
trigger1 = animelemtime(34)=1
value = s213, 2
volume =255
channel=0

[State 4510, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、対エンジェ専用開始イントロ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4550]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4550
sprpriority = -1
velset =0,0

[State 4550, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4550, エンジェ～]
type = PlaySnd
trigger1 = animelemtime(7)=1
value = s213, 0
volume =255
channel=0

[State 4550, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、対ルシファー専用開始イントロ
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4560]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 4560
sprpriority = -1
velset =0,0

[State 4560, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 4560, メイドイン～]
type = PlaySnd
trigger1 = animelemtime(7)=1
value = s213, 1
volume =255
channel=0

[State 4560, 退出ステートへ]
type = changestate
Trigger1 = animtime = 0
value = 4120


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ決定(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4600]
type    = A
movetype= I
physics =N

[State 4600, nothitby];無敵
Type=nothitby
Trigger1=1
Time=-1
Value=SCA
Ignorehitpause=1

[State -1]
Type     = VarRandom
Trigger1 = Time = 0
V        = 11
Range    = 0,2

;セリフテスト用
[State -1]
Type     = null;varset
Trigger1 = Time = 0
V        = 11
Value    = 2

[State 4600, 対エンジェ勝利ポーズ  へステート変更]
type = ChangeState
trigger1 = Enemynear,Name(0) = "USHIROMIYA ANGE" || Enemynear,Name(1) = "USHIROMIYA ANGE"
value = 4650

[State 4600, 対エヴァベアトリーチェ勝利ポーズ  へステート変更]
type = ChangeState
trigger1 = Enemynear,Name(0) = "EvaBeatrice" || Enemynear,Name(0) = "EvaBeatrice"
value = 4660

[State 4600, 勝利ポーズ 1 へステート変更];あはははは～
type = ChangeState
trigger1 = var(11) = 0
value = 4610

[State 4600, 勝利ポーズ 2 へステート変更];うふふ、今回～
type = ChangeState
trigger1 = var(11) = 1
value = 4620

[State 4600, 勝利ポーズ 3 へステート変更];芝生を踏みながら～
type = ChangeState
trigger1 = var(11) = 2
value = 4630


;[State 4600,保険]
;type = ChangeState
;trigger1 = 1
;value = 1310

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ1(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4610]
type    = A
movetype= I
physics =N
velset = 0,0
anim = 4610

[State 4610, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4610, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4110,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
value = s6,1
volume =0


[State 4610, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(1) = 1
value = s211, 0
volume=255
channel =0

[State 4610, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 500
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ2(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4620]
type    = A
movetype= I
physics =N
velset = 0,0
anim = 4620

[State 4620, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4620, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4120,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
value = s6,1
volume =0


[State 4620, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(8) = 1
value = s211, 1
volume=255
channel =0

[State 4620, 掛け声2]
type = PlaySnd
Trigger1 = animelemTime(63) = 1
value = s211, 3
volume=255
channel =0
persistent =0

[State 4620, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 360
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ3(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4630]
type    = A
movetype= I
physics =N
velset = 0,0
anim = 4630

[State 4630, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4630, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4630,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
value = s6,1
volume =0


[State 4630, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(6) = 1
value = s211, 2
volume=255
channel =0

[State 4630, 掛け声2]
type = PlaySnd
Trigger1 = animelemTime(63) = 1
value = s211, 3
volume=255
channel =0
persistent =0


[State 4630, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 560
flag = RoundNotOver


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、対エンジェ勝利ポーズ(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4650]
type    = A
movetype= I
physics =N
velset = 0,0
anim = 4650

[State 4650, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4650, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4650,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
value = s6,1
volume =0


[State 4650, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(6) = 1
value = s214, 0
volume=255
channel =0

[State 4650, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 430
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、対エヴァベアトリーチェ勝利ポーズ(画面上に存在している場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4660]
type    = A
movetype= I
physics =N
velset = 0,0
anim = 4660

[State 4660, 着地エフェクト（煙右）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7016
pos = 0,0
postype = p1
stateno = 7016
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4660, 着地エフェクト（煙左）用ヘルパー呼び出し]
type = Helper
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
helpertype = normal
name = "land"
ID = 7017
pos = 0,0
postype = p1
stateno = 7017
keyctrl = 0
ownpal = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 4660,着地音]
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = Pos y= 0
value = s6,1
volume =0


[State 4660, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(6) = 1
value = s214, 1
volume=255
channel =0

[State 4660, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 430
flag = RoundNotOver



;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ1(画面上に存在していない場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4700]
type    = S
movetype= I
physics =S
velset = 0,0
anim = 4700

[State 4700];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4700]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.0


[State 4700, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(15) = 1
value = s212, 0
volume=255
channel =0

[State 4700, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 560
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ2(画面上に存在していない場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4710]
type    = S
movetype= I
physics =S
velset = 0,0
anim = 4710

[State 4710];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4710]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.0


[State 4710, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(15) = 1
value = s212, 1
volume=255
channel =0

[State 4710, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(64) = 1
value = s211, 3
volume=255
channel =0
persistent=0

[State 4710, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 540
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ3(画面上に存在していない場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4720]
type    = S
movetype= I
physics =S
velset = 0,0
anim = 4720

[State 4720];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4720]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.0


[State 4720, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(17) = 1
value = s212, 2
volume=255
channel =0

[State 4720, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 450
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ4(画面上に存在していない場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4730]
type    = S
movetype= I
physics =S
velset = 0,0
anim = 4730

[State 4730];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4730]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.0


[State 4730, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(15) = 1
value = s212, 3
volume=255
channel =0

[State 4730, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 350
flag = RoundNotOver

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、勝利ポーズ5(画面上に存在していない場合)
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 4740]
type    = S
movetype= I
physics =S
velset = 0,0
anim = 4740

[State 4740];フェードイン音
type = PlaySnd
trigger1 = Time = 0
value = 12,12

[State 4740]
type = velset
trigger1 = animelemtime(11) <= 1
x=1.0


[State 4740, 掛け声]
type = PlaySnd
Trigger1 = animelemTime(18) = 1
value = s212, 4
volume=255
channel =0

[State 4740, 特殊効果] 
type = AssertSpecial
trigger1 = Time <= 380
flag = RoundNotOver


;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■  カットイン（ヘルパー）～メタ宣言
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 7043]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = -30

[State 1848, 1] 
type = ChangeAnim
trigger1 = time = 0
value = 8801+(root,var(57)=2)

[State 1868]
type = SprPriority
trigger1 = 1
value = -30

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 100-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 0.97,0.97;0.5+(root,var(57)=2)*0.5,0.5+(root,var(57)=2)*0.5

[State 1980, スピード]
type = VelSet
trigger1 = time <= 15
x = 16

[State 1980, スピード]
type = VelSet
trigger1 = time = 16
x = 12.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 17
x = 10

[State 1980, スピード]
type = VelSet
trigger1 = time = 18
x = 7.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 19
x = 5

[State 1980, スピード]
type = VelSet
trigger1 = time = 20
x = 2.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 21
x = 0

[State 633];透明にする
type = Trans
trigger1 = time >= 42
trans = addalpha
alpha = 256-var(0),256

[State -2]
type = Varadd
trigger1 = time >= 42
v = 0
value = 12

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 64



;---------------------------------------------------------------------------
; 背景演出1（ヘルパー）～メタ宣言
[Statedef 7044]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6097
sprpriority = -31

[State 1868]
type = SprPriority
trigger1 = 1
value = -31

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 240-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 1.5-fvar(0),1.5-fvar(0)

[State -2]
type = Varadd
trigger1 = time <= 10
fv = 0
value = 0.05

[State -2]
type = Varadd
trigger1 = time >= 11
fv = 0
value = 0.0025

[State -2]
type = Varadd
trigger1 = time <= 4
v = 0
value = 30

[State -2]
type = Varadd
trigger1 = time >= 20
v = 0
value = -7

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 42

;---------------------------------------------------------------------------
; 背景演出2（ヘルパー）～メタ宣言
[Statedef 7045]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6098
sprpriority = -32

[State 1868]
type = SprPriority
trigger1 = 1
value = -32

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 120-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5,2.5

[State -2]
type = Varset
trigger1 = time = 0
fv = 0
value = 80

[State -2]
type = Varset
trigger1 = time = 1
fv = 0
value = 5

[State -2]
type = Varset
trigger1 = time = 15
fv = 0
value = 0.09

[State 1947]
type = AngleAdd
trigger1 = 1
value = fvar(0)

[State -2]
type = Varadd
trigger1 = time <= 4
v = 0
value = 30

[State -2]
type = Varadd
trigger1 = time >= 20
v = 0
value = -7

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 42

;---------------------------------------------------------------------------
; 背景演出1（ヘルパー）～メタ返し
[Statedef 7046]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6108
sprpriority = -31

[State 1868]
type = SprPriority
trigger1 = 1
value = -31

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 0-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 1.5-fvar(0),1.5-fvar(0)

[State -2]
type = Varadd
trigger1 = time <= 10
fv = 0
value = 0.05

[State -2]
type = Varadd
trigger1 = time >= 11
fv = 0
value = 0.0025

[State -2]
type = Varadd
trigger1 = time <= 4
v = 0
value = 30

[State -2]
type = Varadd
trigger1 = time >= 20
v = 0
value = -7

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 42

;---------------------------------------------------------------------------
; 背景演出2（ヘルパー）～メタ返し
[Statedef 7047]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6099
sprpriority = -32

[State 1868]
type = SprPriority
trigger1 = 1
value = -32

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 550-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 2.5,2.5

[State -2]
type = Varset
trigger1 = time = 0
fv = 0
value = -90

[State -2]
type = Varset
trigger1 = time = 1
fv = 0
value = 5

[State -2]
type = Varset
trigger1 = time = 15
fv = 0
value = 0.09

[State 1947]
type = AngleAdd
trigger1 = 1
value = fvar(0)

[State -2]
type = Varadd
trigger1 = time <= 4
v = 0
value = 30

[State -2]
type = Varadd
trigger1 = time >= 20
v = 0
value = -7

[State 633];透明にする
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(0),256

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 42

;---------------------------------------------------------------------------
; カットイン（ヘルパー）～メタ再展開＆メタ強制展開
[Statedef 7048]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = 50

[State 1848, 1] 
type = ChangeAnim
trigger1 = time = 0
value = 8802+(root,var(57)=2)*2+(root,stateno=2940 && root,var(57)=2)


[State 1868]
type = SprPriority
trigger1 = 1
value = 50

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 100-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 0.97,0.97;0.5+(root,var(57)=2)*0.5,0.5+(root,var(57)=2)*0.5

[State 1980, スピード]
type = VelSet
trigger1 = time <= 15
x = 16

[State 1980, スピード]
type = VelSet
trigger1 = time = 16
x = 12.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 17
x = 10

[State 1980, スピード]
type = VelSet
trigger1 = time = 18
x = 7.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 19
x = 5

[State 1980, スピード]
type = VelSet
trigger1 = time = 20
x = 2.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 21
x = 0

[State 633];透明にする
type = Trans
trigger1 = time >= 42
trans = addalpha
alpha = 256-var(0),256

[State -2]
type = Varadd
trigger1 = time >= 42
v = 0
value = 12

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 64

;■■■■■■■■■■■■■■■■■■■■■
;■SP必殺技勝利演出ヘルパー1
;■■■■■■■■■■■■■■■■■■■■■
[Statedef 7051]
type=A
movetype=I
physics=S
ctrl=0
anim=6258
sprpriority=15000

[State ]
type=PosSet
trigger1=Time=0
y=120-ScreenPos Y

[State ]
type=AssertSpecial
trigger1=1
flag=noshadow

[State ]
type=AngleDraw
trigger1=1
scale=0.2+fvar(1),0.2+fvar(1)

[State ];勝利エフェクト1用
type=Varadd
trigger1=time>=1
fvar(1)=0.3

[State ]
type=Varadd
trigger1=time<=4
var(0)=25

[State ]
type=Varset
trigger1=time=5
var(0)=125

[State ]
type=Varset
trigger1=time=14
var(0)=256

[State ]
type=Varadd
trigger1=time>=15
var(0)=-50

[State ]
type=Trans
trigger1=time<=14
trans=add
alpha=var(0),50

[State ]
type=Trans
trigger1=time>=15
trans=addalpha
alpha=var(0),256

[State ]
type=DestroySelf
trigger1=time>=15&&var(0)<=0

;■■■■■■■■■■■■■■■■■■■■■
;■SP必殺技勝利演出ヘルパー2
;■■■■■■■■■■■■■■■■■■■■■
[Statedef 7052]
type=A
movetype=I
physics=S
ctrl=0
anim=6259
sprpriority=15001

[State ]
type=PosSet
trigger1=Time=0
y=120-ScreenPos Y

[State ]
type=AssertSpecial
trigger1=1
flag=noshadow

[State ]
type=AngleDraw
trigger1=1
scale=0.2+fvar(1),0.2+fvar(1)

[State ];勝利エフェクト1用
type=Varadd
trigger1=time>=1
fvar(1)=0.2

[State ]
type=Varadd
trigger1=time%2=0
var(0)=1

[State ]
type=Varadd
trigger1=time=0
var(0)=256

[State ]
type=Varadd
trigger1=time>=10
var(0)=-50

[State ]
type=Trans
trigger1=1
trans=addalpha
alpha=var(0),256

[State ]
type=DestroySelf
trigger1=time>=10&&var(0)<=1

;---------------------------------------------------------------------------
; カットイン（ヘルパー）～メタ再展開＆メタ強制展開
[Statedef 7053]
type    = A
movetype= I
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9999;1860
sprpriority = 50

[State 1848, 1]
type = ChangeAnim
trigger1 = time = 0
value = 8803+(root,var(57)=2)*2+(root,stateno=2940 && root,var(57)=2)


[State 1868]
type = SprPriority
trigger1 = 1
value = 50

[State 636, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 100-ScreenPos Y

[State 1860,影を消す]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1987]
type = AngleDraw
trigger1 = 1
scale = 0.97,0.97;0.5+(root,var(57)=2)*0.5,0.5+(root,var(57)=2)*0.5

[State 1980, スピード]
type = VelSet
trigger1 = time <= 15
x = 16

[State 1980, スピード]
type = VelSet
trigger1 = time = 16
x = 12.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 17
x = 10

[State 1980, スピード]
type = VelSet
trigger1 = time = 18
x = 7.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 19
x = 5

[State 1980, スピード]
type = VelSet
trigger1 = time = 20
x = 2.5

[State 1980, スピード]
type = VelSet
trigger1 = time = 21
x = 0

[State 633];透明にする
type = Trans
trigger1 = time >= 42
trans = addalpha
alpha = 256-var(0),256

[State -2]
type = Varadd
trigger1 = time >= 42
v = 0
value = 12

[State 1982, 消える]
type = DestroySelf
trigger1 = time = 64

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■■ヱリカ_カットイン1（右に流れる）■■■■■■
[Statedef 8000]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State 8000]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8790
ID = 8790
Postype = back
Pos = root,var(51)-50,0+100
scale = 0.5,0.5
Ownpal = 1
SprPriority = -2
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8791
ID = 8791
Postype = back
Pos = root,var(51)-50,0+100
scale = 0.5,0.5
Ownpal = 1
SprPriority = -2
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State 8000]
type = Varadd
trigger1 = time>=27
fvar(0)=0.025

[State 8000]
type = modifyexplod
trigger1 = time >= 27
ID = 8790
scale = 0.5+fvar(0),0.5+fvar(0)

[State 8000]
type = modifyexplod
trigger1 = time >= 27
ID = 8791
scale = 0.5+fvar(0),0.5+fvar(0)

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape1"
ID=7825
pos=root,var(51),0
postype=left
stateno=8010
facing=-1
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape2"
ID=7826
pos=root,var(51),0
postype=left
stateno=8010
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape3"
ID=7827
pos=root,var(51)+20,0
postype=left
stateno=8010
facing=-1
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 70

;■ガムテープ2■■■■■■■■■
[Statedef 8010]
type=A
physics=S
anim=9999
ctrl=0

[State ]
type=ChangeAnim
trigger1=time=0
value=7825+ifelse(ishelper(7826),1,ifelse(ishelper(7827),2,0))

[State ]
type=PosSet
trigger1=Time=0
y=155+ifelse(ishelper(7825),30,ifelse(ishelper(7826),10,-60))-ScreenPos Y

[State ]
type=SprPriority
trigger1=1
value=-2-ifelse(ishelper(7826),1,ifelse(ishelper(7827),2,-1))

[State ]
type=AssertSpecial
trigger1=1
flag=noshadow

[State ]
type=AngleDraw
trigger1=ishelper(7825)
scale=2.3+ifelse(root,var(51)>=161,0.7,0)-fvar(0),2.3+ifelse(root,var(51)>=161,0.2,0)-fvar(0)

[State ]
type=AngleDraw
trigger1=ishelper(7826)||ishelper(7827)
scale=2.3-fvar(0),2.3-fvar(0)

[State ]
type=Varadd
trigger1=time<=7
fvar(0)=0.1

[State ]
type=Varset
trigger1=time=8
fvar(0)=0.8

[State ]
type=Varadd
trigger1=time>=30
fvar(0)=-0.1

[State ]
type=Trans
trigger1=1
trans=addalpha
alpha=var(0),0+var(1)

[State ]
type=Varadd
trigger1=time<=7
var(0)=30

[State ]
type=Varset
trigger1=time=8
var(0)=240

[State ]
type=Varadd
trigger1=time>=30
var(0)=-32+ifelse(ishelper(7826),8,ifelse(ishelper(7827),12,0))

[State ]
type=Varadd
trigger1=time>=30
var(1)=30-ifelse(ishelper(7826),6,ifelse(ishelper(7827),10,0))

[State ]
type=Angleset
trigger1=1
value=0+ifelse(ishelper(7825),10,ifelse(ishelper(7826),10,20))

;[State ]
;type=Angleset
;trigger1=1
;value=20+ifelse(ishelper(7827),20,0)

[State ]
type=DestroySelf
trigger1=animtime=0

;■■カットイン2（右に流れるカットイン）■■■■■■
[Statedef 8100]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State 8100]
type = BGPalfx
trigger1 = 1
add = -128,-128,-128
sinadd = 128, 128, 128
time = 1

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8792
ID = 8792
Postype = back
Pos = root,var(51)-50,0+130
scale = 0.5,0.5
Ownpal = 1
SprPriority = -2
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8793
ID = 8793
Postype = back
Pos = root,var(51)-50,0+130
scale = 0.5,0.5
Ownpal = 1
SprPriority = -2
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State 8100]
type = Varadd
trigger1 = time>=27
fvar(0)=0.025

[State 8100]
type = modifyexplod
trigger1 = time >= 27
ID = 8792
scale = 0.5+fvar(0),0.5+fvar(0)

[State 8100]
type = modifyexplod
trigger1 = time >= 27
ID = 8793
scale = 0.5+fvar(0),0.5+fvar(0)

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape1"
ID=7825
pos=root,var(51),0
postype=left
stateno=8010
facing=-1
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape2"
ID=7826
pos=root,var(51),0
postype=left
stateno=8010
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State 2430,ガムテープ]
type=Helper
trigger1=1
helpertype=normal
name="duct tape3"
ID=7827
pos=root,var(51)+20,0
postype=left
stateno=8010
facing=-1
persistent=0
supermovetime = 99999999
pausemovetime = 99999999

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 70


;■■カットイン3（右に流れるカットイン）■■■■■■
[Statedef 8110]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8795
ID = 8795
Postype = back
Pos = 0+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),130
scale = 0.5,0.5
Ownpal = 1
SprPriority = -3
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = Time > 40 && time <90
Anim = 8796
ID = 8796
Postype = back
Pos = 0-180+ceil(statetime*4.5)+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)) ,130
scale =0.1 +(statetime*0.01),0.1+(statetime*0.01)
Ownpal = 0
SprPriority = -3
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time >= 40 && time <90
V = 7
value = 7

[State 8000, Color Gradation]
type = Palfx
trigger1 = time > 40 && time <90
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 90

;■■カットイン2（右に流れるカットイン、ベルンカステル）■■■■■■
[Statedef 8120]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8960
ID = 8960
Postype = back
Pos = 30+0+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)),10
scale = 0.75,0.75
Ownpal = 1
SprPriority = -3
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = Time > 50 && time <90
Anim = 8961
ID = 8961
Postype = back
Pos = 30+0-225+ceil(statetime*4.5)+ceil(ifelse(root,var(51)>=161,root,var(51)/5,0)) ,10
scale = 0.25+(statetime*0.01),0.25+(statetime*0.01)
Ownpal = 0
SprPriority = -3
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time >= 50 && time <90
V = 7
value = 7

[State 8000, Color Gradation]
type = Palfx
trigger1 = time > 50 && time <90
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 70

;■■カットイン2（赤き真実・攻撃瞬間カットイン）■■■■■■
[Statedef 8200]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State 8200,攻撃瞬間のカットン]
type = Explod
trigger1 = time =0
anim = 8200
scale = 0.725,0.725
postype = back
pos =-85,-10
sprpriority = -3
ownpal = 1
bindtime = -1
removeongethit = 1
SuperMoveTime = 9999
PauseMoveTime = 9999
persistent = 0

[State -1, Explod]
Type = Explod
Trigger1 = Time >= 32
Anim = 8201
ID = 8201
Postype = back
Pos = -85-144+ceil(statetime*4.5) ,-10
scale = -0.115+(statetime*0.03),-0.115+(statetime*0.03)
Ownpal = 0
SprPriority = -3
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time >= 28 && time <80
V = 7
value = 15

[State 8200, Color Gradation]
type = Palfx
trigger1 = time > 28 && time <80
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 80


;■■カットイン（左から右へ消えながら）■■■■■■
[Statedef 8300]
Type = A
Physics = N
velset =0,0
SprPriority = 1;1
Anim =9999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, VarSet7]
Type = Varset
Trigger1 = time =0
Trigger2 = time =180
v = 7
value = 0

[State -1, Explod]
Type = Explod
Trigger1 = time =[40,120]
Anim = 8301
ID = 8301
Postype = back
Pos = -120+(statetime/2) ,0
scale = 0.5,0.5
Ownpal = 0
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = time =[121,180]
Anim = 8300
ID = 8300
Postype = back
Pos = -120+(statetime/2) ,0
scale = 0.5,0.5
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = time >180
Anim = 8301
ID = 8301
Postype = back
Pos = -120+(statetime/2) ,0
scale =0.5,0.5
Ownpal = 0
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time > 180
V = 7
value = 3
persistent =1

[State 8300, Color Gradation]
type = Palfx
trigger1 = time >180
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time < 120
V = 7
value = 2
persistent =1

[State 8300, Color Gradation]
type = Palfx
trigger1 = time <120
mul = ceil(var(7)),ceil(var(7)),ceil(var(7))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 320


;■■カットイン1（ルシファー右に流れる）■■■■■■
[Statedef 8400]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999
SuperMoveTime = 99999
PauseMoveTime = 99999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, Explod]
Type = Explod
Trigger1 = Time = 0
Anim = 8400
ID = 8400
Postype = back
Pos = 20+0,0
scale = 0.675,0.675
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
bindtime =-1
SuperMoveTime = 99999
PauseMoveTime =99999

[State -1, Explod]
Type = Explod
Trigger1 = Time > 60 && time <90
Anim = 8401
ID = 8401
Postype = back
Pos = 20-270+ceil(statetime*4.5) ,0
scale = 0.075+(statetime*0.01),0.075+(statetime*0.01)
Ownpal = 0
SprPriority = 2
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, VarSet7]
Type = VarAdd
Trigger1 = time > 60 && time <90
V = 7
value = 7;15

[State 8400, Color Gradation]
type = Palfx
trigger1 = time > 60 && time <90
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 90



;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■ベルンカステル、アップ顔
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 8980]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 50
anim = 8980
sprpriority = 0
velset =2.0,1

[State 8980]
type = AssertSpecial
trigger1 =1
flag = noshadow

[State -1]
Type = Velset
Trigger1 = statetime =40
x=0.5
y=0

[State -1, VarSet1]
Type = Varset
Trigger1 = time =0
v = 1
value = 0

[State -1, FVarSet1]
Type = Varset
Trigger1 = time =0
fv = 1
value = 1.0

[State 8980]
type = Angleset
trigger1 = time = 0
value = -20

[State 8950]
type = Angleadd
trigger1 = statetime = [1,40]
trigger1 = statetime%2 = 1
value = 1

[State 4210, VarAdd]
Type = VarAdd
trigger1 = statetime = [1,29]
FV = 1
Value = 0.015

[State 4210, VarAdd]
Type = VarAdd
trigger1 = statetime = [50,120]
FV = 1
Value = 0.15

[State 8950]
type = AngleDraw
trigger1 = 1
Scale = FVar(1), FVar(1)


[State 4210, VarAdd]
Type = VarAdd
Trigger1 = statetime = [0,20]
V = 1
Value = 12

[State 4210, VarAdd]
Type = Varset
Trigger1 = statetime = 21
V = 1
Value = 255

[State 4210, Color Gradation]
type = Palfx
Trigger1 = statetime = [0,30]
mul = ceil(var(1)),ceil(var(1)),ceil(var(1))
time = -1
IgnoreHitPause = 1
Persistent = 1

[State 4210]
type = Trans
Trigger1 = statetime = [0,21]
trans =add

[State 4210]
Type = VarAdd
trigger1 = statetime >= 50
V = 7
value = 15

[State 4210, Color Gradation]
type = Palfx
trigger1 = statetime >= 50
add = ceil(-var(7)),ceil(-var(7)),ceil(-var(7))
time = 1
IgnoreHitPause = 1
Persistent = 1


[State 8950, 消滅]
type = Destroyself
trigger1 = time = 80












;■魔法詠唱エフェクト■■■■■■■■■■■
[Statedef 9000]
Type	= A
Movetype= I
Physics = N
Anim = 7905+(root,stateno=3900)+(root,stateno=3200)
Ctrl = 0
Sprpriority = 5

[State 9000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 9000]
type = varset
trigger1 = time = 0
fvar(0) = 1

[State 9000]
type = varadd
trigger1 = time = [1, 20]
fvar(0) = 0.15

[State 9000]
type = Angleadd
trigger1 = 1
value = 8

[State 9000]
type = AngleDraw
trigger1 = 1
scale = fvar(0), fvar(0)

[State 9000]
type = Trans
trigger1 = time <= 60
trans = addalpha
alpha = 256, 256

[State 9000]
type = Trans
trigger1 = time = [61, 100]
trans = addalpha
alpha = ceil(256-6.4*(time-60)), 256

[State 9000]
type = Trans
trigger1 = time > 100
trans = addalpha
alpha = 0, 256

[State 9000]
type = DestroySelf
trigger1 = time >= 200

[State 9000]
type = varset
trigger1 = time = 0
var(10) = 100

[State 9000]
type = BGPalFX
trigger1 = time <= 10
time = 1
add = 0, 0, 0
mul = 256-floor(time*12.8), 256-floor(time*12.8), 256-floor(time*12.8)
invertall = 0
color = 256

;■文字表示
[Statedef 9100]
Type = A
Physics = N
SprPriority = 1;1
Anim =9999

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1]
Type =varset
Trigger1 = time=0
v=10
Value=root,Var(10)

[State -1, Explod]
Type = Explod
Trigger1 = Time = [0,20]
Anim = 9000+(Facing=-1)*10+var(10)
ID = 9000
Postype = back
Pos = 480-(statetime*24) ,180
scale = 3.0-0.5-(statetime*0.1),3.0-0.5-(statetime*0.1)
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
SuperMoveTime = 99999
PauseMoveTime =99999
ontop =1
;facing =1*(-(Facing=-1))

[State -1, Explod]
Type = Explod
Trigger1 = Time = [21,40]
Anim = 9000+(Facing=-1)*10+var(10)
ID = 9000
Postype = back
Pos = 0,180
;Pos = 40-ceil(statetime*2.0) ,-30
scale = 0.5,0.5;.5,.5
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999
ontop =1
;facing =1*(-(Facing=-1))

[State -1, Explod]
Type = Explod
Trigger1 = Time = [41,63]
Anim = 9000+(Facing=-1)*10+var(10)
ID = 9000
Postype = back
Pos = 0,180-statetime*6+40*6
;Pos = 40-ceil(statetime*2.0) ,-30
scale = 0.5,0.5;.5,.5
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999
ontop =1
;facing =1*(-(Facing=-1))

[State -1, Explod]
Type = Explod
Trigger1 = Time = [64,135]
Anim = 9000+(Facing=-1)*10+var(10)
ID = 9000
Postype = back
Pos = 0,40
;Pos = 40-ceil(statetime*2.0) ,-30
scale = 0.5,0.5;.5,.5
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999
ontop =1
;facing =1*(-(Facing=-1))

[State -1, Explod]
Type = Explod
Trigger1 = Time >= 136
Anim = 9000+(Facing=-1)*10+var(10)
ID = 9000
Postype = back
Pos = 0-statetime*3+135*3,40
;Pos = 40-ceil(statetime*2.0) ,-30
scale = 0.5,0.5;.5,.5
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999
ontop =1
;facing =1*(-(Facing=-1))

[State -1, AssertSpacial]
Type = AssertSpecial
Trigger1 = 1
Flag = Noshadow
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999

[State -1, DestroySelf]
Type = DestroySelf
Trigger1 = Time = 220

;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
;■本体を追従する鎌エフェクト用ヘルパー 
;■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
[Statedef 7777]
type    = S
movetype= I
physics = N
juggle = 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 10000, 本体との位置、向き合わせ]
Type = bindtoroot
Trigger1 = 1
facing =1;本体と同じ向き

;[State 10000, 一旦、透明アニメへ]
;type = ChangeAnim
trigger1 = 1
;value = 9999


;[State 10000, アニメフレームセット11]
;type = VarSet
;trigger1 = root,animelemtime(11)>=0 && root,animelemtime(12)<0
;var(0) = 11


[State 10000, アニメフレームセット10]
type = VarSet
trigger1 = root,animelemtime(10)>=0 && root,animelemtime(11)<0
var(0) = 10

[State 10000, アニメフレームセット08]
type = VarSet
trigger1 = root,animelemtime(9)>=0 && root,animelemtime(10)<0
var(0) = 9


[State 10000, アニメフレームセット07]
type = VarSet
trigger1 = root,animelemtime(8)>=0 && root,animelemtime(9)<0
var(0) = 8

[State 10000, アニメフレームセット06]
type = VarSet
trigger1 = root,animelemtime(7)>=0 && root,animelemtime(8)<0
var(0) = 7

[State 10000, アニメフレームセット05]
type = VarSet
trigger1 = root,animelemtime(6)>=0 && root,animelemtime(7)<0
var(0) = 6

[State 10000, アニメフレームセット04]
type = VarSet
trigger1 = root,animelemtime(5)>=0 && root,animelemtime(6)<0
var(0) = 5


[State 10000, アニメフレームセット03]
type = VarSet
trigger1 = root,animelemtime(4)>=0 && root,animelemtime(5)<0
var(0) = 4


[State 10000, アニメフレームセット02]
type = VarSet
trigger1 = root,animelemtime(3)>=0 && root,animelemtime(4)<0
var(0) = 3

[State 10000, アニメフレームセット01]
type = VarSet
trigger1 = root,animelemtime(2)>=0 && root,animelemtime(3)<0
var(0) = 2

[State 10000, アニメフレームセット00]
type = VarSet
trigger1 = root,animelemtime(1)>=0 && root,animelemtime(2)<0
var(0) = 1

;[State 10000]
;type =varset
;trigger1 = root,anim =0
;trigger1 = var(0) >=11
;var(0) = 1

;[State 10000, 条件を満たしたステートの時のみ、鎌エフェクト表示]
;type =ChangeAnim
;trigger1 = root,anim=0
;value = root,anim+10000
;elem=var(0)

[State -1,ブレード削除]
type = RemoveExplod
trigger1 = 1
id =7778

[State -1, Explod]
Type = Explod
Trigger1 = 1
Anim = 10000+var(0)-1
ID = 7778
Postype = P1
Pos = 0,0
scale = 1,1;0.5,0.5
removetime =1
Ownpal = 1
SprPriority = -1
IgnoreHitPause = 1
SuperMoveTime = 9999999
PauseMoveTime = 9999999
facing =1
bind=-1
